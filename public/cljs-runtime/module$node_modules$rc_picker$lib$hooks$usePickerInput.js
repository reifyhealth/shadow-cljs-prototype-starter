shadow$provide.module$node_modules$rc_picker$lib$hooks$usePickerInput=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(_ref){var open=_ref.open,value=_ref.value,isClickOutside=_ref.isClickOutside,triggerOpen=_ref.triggerOpen,forwardKeyDown=_ref.forwardKeyDown,_onKeyDown=_ref.onKeyDown,blurToCancel=_ref.blurToCancel,onSubmit=_ref.onSubmit,onCancel=
_ref.onCancel,_onFocus=_ref.onFocus,_onBlur=_ref.onBlur;_ref=(0,_react.useState)(!1);_ref=(0,_slicedToArray2.default)(_ref,2);var typing=_ref[0],setTyping=_ref[1];_ref=(0,_react.useState)(!1);_ref=(0,_slicedToArray2.default)(_ref,2);var focused=_ref[0],setFocused=_ref[1],preventBlurRef=(0,_react.useRef)(!1),valueChangedRef=(0,_react.useRef)(!1),preventDefaultRef=(0,_react.useRef)(!1);(0,_react.useEffect)(function(){valueChangedRef.current=!1},[open]);(0,_react.useEffect)(function(){valueChangedRef.current=
!0},[value]);(0,_react.useEffect)(function(){return(0,_uiUtil.addGlobalMouseDownEvent)(function(e){e=(0,_uiUtil.getTargetFromEvent)(e);open&&((e=isClickOutside(e))?focused&&!e||triggerOpen(!1):(preventBlurRef.current=!0,requestAnimationFrame(function(){preventBlurRef.current=!1})))})});return[{onMouseDown:function(){setTyping(!0);triggerOpen(!0)},onKeyDown:function(e){_onKeyDown(e,function(){preventDefaultRef.current=!0});if(!preventDefaultRef.current){switch(e.which){case _KeyCode.default.ENTER:open?
!1!==onSubmit()&&setTyping(!0):triggerOpen(!0);e.preventDefault();return;case _KeyCode.default.TAB:typing&&open&&!e.shiftKey?(setTyping(!1),e.preventDefault()):!typing&&open&&!forwardKeyDown(e)&&e.shiftKey&&(setTyping(!0),e.preventDefault());return;case _KeyCode.default.ESC:setTyping(!0);onCancel();return}open||[_KeyCode.default.SHIFT].includes(e.which)?typing||forwardKeyDown(e):triggerOpen(!0)}},onFocus:function(e){setTyping(!0);setFocused(!0);_onFocus&&_onFocus(e)},onBlur:function(e){preventBlurRef.current||
!isClickOutside(document.activeElement)?preventBlurRef.current=!1:(blurToCancel?setTimeout(function(){for(var activeElement=document.activeElement;activeElement&&activeElement.shadowRoot;)activeElement=activeElement.shadowRoot.activeElement;isClickOutside(activeElement)&&onCancel()},0):open&&(triggerOpen(!1),valueChangedRef.current&&onSubmit()),setFocused(!1),_onBlur&&_onBlur(e))}},{focused:focused,typing:typing}]};var _slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),
_react=require("module$node_modules$react$index"),_KeyCode=global(require("module$node_modules$rc_util$lib$KeyCode")),_uiUtil=require("module$node_modules$rc_picker$lib$utils$uiUtil")}
//# sourceMappingURL=module$node_modules$rc_picker$lib$hooks$usePickerInput.js.map
