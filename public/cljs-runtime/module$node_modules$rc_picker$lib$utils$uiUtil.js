shadow$provide.module$node_modules$rc_picker$lib$utils$uiUtil=function(global,require,module,exports){function scrollTo(element,to,duration){scrollIds.get(element)&&cancelAnimationFrame(scrollIds.get(element));if(0>=duration)scrollIds.set(element,requestAnimationFrame(function(){element.scrollTop=to}));else{var perTick=(to-element.scrollTop)/duration*10;scrollIds.set(element,requestAnimationFrame(function(){element.scrollTop+=perTick;element.scrollTop!==to&&scrollTo(element,to,duration-10)}))}}global=
require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.waitElementReady=function(element,callback){function tryOrNextFrame(){(0,_isVisible.default)(element)?callback():id=(0,_raf.default)(function(){tryOrNextFrame()})}var id;tryOrNextFrame();return function(){_raf.default.cancel(id)}};exports.scrollTo=scrollTo;exports.createKeyDownHandler=function(event,_ref){var onLeftRight=_ref.onLeftRight,onCtrlLeftRight=_ref.onCtrlLeftRight,
onUpDown=_ref.onUpDown,onPageUpDown=_ref.onPageUpDown;_ref=_ref.onEnter;var ctrlKey=event.ctrlKey,metaKey=event.metaKey;switch(event.which){case _KeyCode.default.LEFT:if(ctrlKey||metaKey){if(onCtrlLeftRight)return onCtrlLeftRight(-1),!0}else if(onLeftRight)return onLeftRight(-1),!0;break;case _KeyCode.default.RIGHT:if(ctrlKey||metaKey){if(onCtrlLeftRight)return onCtrlLeftRight(1),!0}else if(onLeftRight)return onLeftRight(1),!0;break;case _KeyCode.default.UP:if(onUpDown)return onUpDown(-1),!0;break;
case _KeyCode.default.DOWN:if(onUpDown)return onUpDown(1),!0;break;case _KeyCode.default.PAGE_UP:if(onPageUpDown)return onPageUpDown(-1),!0;break;case _KeyCode.default.PAGE_DOWN:if(onPageUpDown)return onPageUpDown(1),!0;break;case _KeyCode.default.ENTER:if(_ref)return _ref(),!0}return!1};exports.getDefaultFormat=function(format,picker,showTime,use12Hours){if(!format)switch(picker){case "time":format=use12Hours?"hh:mm:ss a":"HH:mm:ss";break;case "week":format="gggg-wo";break;case "month":format="YYYY-MM";
break;case "quarter":format="YYYY-[Q]Q";break;case "year":format="YYYY";break;default:format=showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return format};exports.getInputSize=function(picker,format,generateConfig){picker="time"===picker?8:10;format="function"===typeof format?format(generateConfig.getNow()).length:format.length;return Math.max(picker,format)+2};exports.addGlobalMouseDownEvent=function(callback){!globalClickFunc&&"undefined"!==typeof window&&window.addEventListener&&(globalClickFunc=
function(e){(0,_toConsumableArray2.default)(clickCallbacks).forEach(function(queueFunc){queueFunc(e)})},window.addEventListener("mousedown",globalClickFunc));clickCallbacks.add(callback);return function(){clickCallbacks.delete(callback);0===clickCallbacks.size&&(window.removeEventListener("mousedown",globalClickFunc),globalClickFunc=null)}};exports.getTargetFromEvent=function(e){var target=e.target;if(e.composed&&target.shadowRoot){var _e$composedPath;return(null===(_e$composedPath=e.composedPath)||
void 0===_e$composedPath?void 0:_e$composedPath.call(e)[0])||target}return target};exports.elementsContains=function(elements,target){return elements.some(function(ele){return ele&&ele.contains(target)})};exports.PickerModeMap=void 0;var _toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_KeyCode=global(require("module$node_modules$rc_util$lib$KeyCode")),_raf=global(require("module$node_modules$rc_util$lib$raf")),_isVisible=global(require("module$node_modules$rc_util$lib$Dom$isVisible")),
scrollIds=new Map,globalClickFunc=null,clickCallbacks=new Set;exports.PickerModeMap={year:function(next){return"month"===next||"date"===next?"year":next},month:function(next){return"date"===next?"month":next},quarter:function(next){return"month"===next||"date"===next?"quarter":next},week:function(next){return"date"===next?"week":next},time:null,date:null}}
//# sourceMappingURL=module$node_modules$rc_picker$lib$utils$uiUtil.js.map
