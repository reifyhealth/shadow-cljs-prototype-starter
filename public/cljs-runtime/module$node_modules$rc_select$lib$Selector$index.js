shadow$provide.module$node_modules$rc_select$lib$Selector$index=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),
React=global(require("module$node_modules$react$index")),_KeyCode=module(require("module$node_modules$rc_util$lib$KeyCode")),_MultipleSelector=module(require("module$node_modules$rc_select$lib$Selector$MultipleSelector")),_SingleSelector=module(require("module$node_modules$rc_select$lib$Selector$SingleSelector")),_useLock3=module(require("module$node_modules$rc_select$lib$hooks$useLock"));require=React.forwardRef(function(props,ref){var inputRef=(0,React.useRef)(null),compositionStatusRef=(0,React.useRef)(!1),
prefixCls=props.prefixCls,multiple=props.multiple,open=props.open,mode=props.mode,showSearch=props.showSearch,tokenWithEnter=props.tokenWithEnter,onSearch=props.onSearch,onSearchSubmit=props.onSearchSubmit,onToggleOpen=props.onToggleOpen,onInputKeyDown=props.onInputKeyDown,domRef=props.domRef;React.useImperativeHandle(ref,function(){return{focus:function(){inputRef.current.focus()},blur:function(){inputRef.current.blur()}}});ref=(0,_useLock3.default)(0);ref=(0,_slicedToArray2.default)(ref,2);var getInputMouseDown=
ref[0],setInputMouseDown=ref[1],pastedTextRef=(0,React.useRef)(null);ref={inputRef:inputRef,onInputKeyDown:function(event){var which=event.which;which!==_KeyCode.default.UP&&which!==_KeyCode.default.DOWN||event.preventDefault();onInputKeyDown&&onInputKeyDown(event);which!==_KeyCode.default.ENTER||"tags"!==mode||compositionStatusRef.current||open||onSearchSubmit(event.target.value);[_KeyCode.default.SHIFT,_KeyCode.default.TAB,_KeyCode.default.BACKSPACE,_KeyCode.default.ESC].includes(which)||onToggleOpen(!0)},
onInputMouseDown:function(){setInputMouseDown(!0)},onInputChange:function(event){event=event.target.value;if(tokenWithEnter&&pastedTextRef.current&&/[\r\n]/.test(pastedTextRef.current)){var replacedText=pastedTextRef.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");event=event.replace(replacedText,pastedTextRef.current)}pastedTextRef.current=null;!1!==onSearch(event,!0,compositionStatusRef.current)&&onToggleOpen(!0)},onInputPaste:function(e){e=e.clipboardData.getData("text");
pastedTextRef.current=e},onInputCompositionStart:function(){compositionStatusRef.current=!0},onInputCompositionEnd:function(e){compositionStatusRef.current=!1;"combobox"!==mode&&!1!==onSearch(e.target.value,!0,compositionStatusRef.current)&&onToggleOpen(!0)}};props=multiple?React.createElement(_MultipleSelector.default,(0,_extends2.default)({},props,ref)):React.createElement(_SingleSelector.default,(0,_extends2.default)({},props,ref));return React.createElement("div",{ref:domRef,className:"".concat(prefixCls,
"-selector"),onClick:function(_ref){_ref.target!==inputRef.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){inputRef.current.focus()}):inputRef.current.focus())},onMouseDown:function(event){var inputMouseDown=getInputMouseDown();event.target===inputRef.current||inputMouseDown||event.preventDefault();("combobox"===mode||showSearch&&inputMouseDown)&&open||(open&&onSearch("",!0,!1),onToggleOpen())}},props)});require.displayName="Selector";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_select$lib$Selector$index.js.map
