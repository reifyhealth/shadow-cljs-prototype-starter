shadow$provide.module$node_modules$rc_trigger$lib$Popup$PopupInner=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),
_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_rcAlign=module(require("module$node_modules$rc_align$lib$index")),_rcMotion=module(require("module$node_modules$rc_motion$lib$index")),_classnames=module(require("module$node_modules$classnames$index")),_useVisibleStatus3=module(require("module$node_modules$rc_trigger$lib$Popup$useVisibleStatus")),_legacyUtil=require("module$node_modules$rc_trigger$lib$utils$legacyUtil"),
_useStretchStyle3=module(require("module$node_modules$rc_trigger$lib$Popup$useStretchStyle"));require=React.forwardRef(function(props,ref){function forceAlign(){var _alignRef$current;null===(_alignRef$current=alignRef.current)||void 0===_alignRef$current?void 0:_alignRef$current.forceAlign()}function onInternalAlign(popupDomNode,matchAlign){if("align"===status){var nextAlignedClassName=getClassNameFromAlign(matchAlign);setAlignedClassName(nextAlignedClassName);alignedClassName!==nextAlignedClassName?
Promise.resolve().then(function(){forceAlign()}):goNextStatus(function(){var _prepareResolveRef$cu;null===(_prepareResolveRef$cu=prepareResolveRef.current)||void 0===_prepareResolveRef$cu?void 0:_prepareResolveRef$cu.call(prepareResolveRef)});null===onAlign||void 0===onAlign?void 0:onAlign(popupDomNode,matchAlign)}}function onShowPrepare(){return new Promise(function(resolve){prepareResolveRef.current=resolve})}var visible=props.visible,prefixCls=props.prefixCls,className=props.className,style=props.style,
children=props.children,zIndex=props.zIndex,stretch=props.stretch,destroyPopupOnHide=props.destroyPopupOnHide,align=props.align,point=props.point,getRootDomNode=props.getRootDomNode,getClassNameFromAlign=props.getClassNameFromAlign,onAlign=props.onAlign,onMouseEnter=props.onMouseEnter,onMouseLeave=props.onMouseLeave,onMouseDown=props.onMouseDown,onTouchStart=props.onTouchStart,alignRef=(0,React.useRef)(),elementRef=(0,React.useRef)(),_useState=(0,React.useState)();_useState=(0,_slicedToArray2.default)(_useState,
2);var alignedClassName=_useState[0],setAlignedClassName=_useState[1];_useState=(0,_useStretchStyle3.default)(stretch);var _useStretchStyle2=(0,_slicedToArray2.default)(_useState,2);_useState=_useStretchStyle2[0];var measureStretchStyle=_useStretchStyle2[1];_useStretchStyle2=(0,_useVisibleStatus3.default)(visible,function(){stretch&&measureStretchStyle(getRootDomNode())});_useStretchStyle2=(0,_slicedToArray2.default)(_useStretchStyle2,2);var status=_useStretchStyle2[0],goNextStatus=_useStretchStyle2[1],
prepareResolveRef=(0,React.useRef)(),motion=(0,_objectSpread2.default)({},(0,_legacyUtil.getMotion)(props));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(eventName){var originHandler=motion[eventName];motion[eventName]=function(element,event){goNextStatus();return null===originHandler||void 0===originHandler?void 0:originHandler(element,event)}});React.useEffect(function(){motion.motionName||"motion"!==status||goNextStatus()},[motion.motionName,status]);React.useImperativeHandle(ref,
function(){return{forceAlign:forceAlign,getElement:function(){return elementRef.current}}});var mergedStyle=(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({},_useState),{},{zIndex:zIndex},style),{},{opacity:"motion"!==status&&"stable"!==status&&visible?0:void 0,pointerEvents:"stable"===status?void 0:"none"}),alignDisabled=!0;(null===align||void 0===align?0:align.points)&&("align"===status||"stable"===status)&&(alignDisabled=!1);var childNode=children;1<React.Children.count(children)&&
(childNode=React.createElement("div",{className:"".concat(prefixCls,"-content")},children));return React.createElement(_rcMotion.default,(0,_extends2.default)({visible:visible,ref:elementRef,leavedClassName:"".concat(prefixCls,"-hidden")},motion,{onAppearPrepare:onShowPrepare,onEnterPrepare:onShowPrepare,removeOnLeave:destroyPopupOnHide}),function(_ref,motionRef){var motionClassName=_ref.className;_ref=_ref.style;motionClassName=(0,_classnames.default)(prefixCls,className,alignedClassName,motionClassName);
var JSCompiler_temp_const=React.createElement,JSCompiler_temp_const$jscomp$0=_rcAlign.default;var JSCompiler_inline_result=point?point:getRootDomNode;return JSCompiler_temp_const.call(React,JSCompiler_temp_const$jscomp$0,{target:JSCompiler_inline_result,key:"popup",ref:alignRef,monitorWindowResize:!0,disabled:alignDisabled,align:align,onAlign:onInternalAlign},React.createElement("div",{ref:motionRef,className:motionClassName,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,onMouseDown:onMouseDown,
onTouchStart:onTouchStart,style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},_ref),mergedStyle)},childNode))})});require.displayName="PopupInner";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_trigger$lib$Popup$PopupInner.js.map
