{
"version":3,
"file":"module$node_modules$rc_motion$lib$util$diff.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/rc-motion/lib/util/diff.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_motion$lib$util$diff\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wrapKeyToObject = wrapKeyToObject;\nexports.parseKeys = parseKeys;\nexports.diffKeys = diffKeys;\nexports.STATUS_REMOVED = exports.STATUS_REMOVE = exports.STATUS_KEEP = exports.STATUS_ADD = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar STATUS_ADD = 'add';\nexports.STATUS_ADD = STATUS_ADD;\nvar STATUS_KEEP = 'keep';\nexports.STATUS_KEEP = STATUS_KEEP;\nvar STATUS_REMOVE = 'remove';\nexports.STATUS_REMOVE = STATUS_REMOVE;\nvar STATUS_REMOVED = 'removed';\nexports.STATUS_REMOVED = STATUS_REMOVED;\n\nfunction wrapKeyToObject(key) {\n  var keyObj;\n\n  if (key && (0, _typeof2.default)(key) === 'object' && 'key' in key) {\n    keyObj = key;\n  } else {\n    keyObj = {\n      key: key\n    };\n  }\n\n  return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, keyObj), {}, {\n    key: String(keyObj.key)\n  });\n}\n\nfunction parseKeys() {\n  var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return keys.map(wrapKeyToObject);\n}\n\nfunction diffKeys() {\n  var prevKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var currentKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var list = [];\n  var currentIndex = 0;\n  var currentLen = currentKeys.length;\n  var prevKeyObjects = parseKeys(prevKeys);\n  var currentKeyObjects = parseKeys(currentKeys); // Check prev keys to insert or keep\n\n  prevKeyObjects.forEach(function (keyObj) {\n    var hit = false;\n\n    for (var i = currentIndex; i < currentLen; i += 1) {\n      var currentKeyObj = currentKeyObjects[i];\n\n      if (currentKeyObj.key === keyObj.key) {\n        // New added keys should add before current key\n        if (currentIndex < i) {\n          list = list.concat(currentKeyObjects.slice(currentIndex, i).map(function (obj) {\n            return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, obj), {}, {\n              status: STATUS_ADD\n            });\n          }));\n          currentIndex = i;\n        }\n\n        list.push((0, _objectSpread2.default)((0, _objectSpread2.default)({}, currentKeyObj), {}, {\n          status: STATUS_KEEP\n        }));\n        currentIndex += 1;\n        hit = true;\n        break;\n      }\n    } // If not hit, it means key is removed\n\n\n    if (!hit) {\n      list.push((0, _objectSpread2.default)((0, _objectSpread2.default)({}, keyObj), {}, {\n        status: STATUS_REMOVE\n      }));\n    }\n  }); // Add rest to the list\n\n  if (currentIndex < currentLen) {\n    list = list.concat(currentKeyObjects.slice(currentIndex).map(function (obj) {\n      return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, obj), {}, {\n        status: STATUS_ADD\n      });\n    }));\n  }\n  /**\n   * Merge same key when it remove and add again:\n   *    [1 - add, 2 - keep, 1 - remove] -> [1 - keep, 2 - keep]\n   */\n\n\n  var keys = {};\n  list.forEach(function (_ref) {\n    var key = _ref.key;\n    keys[key] = (keys[key] || 0) + 1;\n  });\n  var duplicatedKeys = Object.keys(keys).filter(function (key) {\n    return keys[key] > 1;\n  });\n  duplicatedKeys.forEach(function (matchKey) {\n    // Remove `STATUS_REMOVE` node.\n    list = list.filter(function (_ref2) {\n      var key = _ref2.key,\n          status = _ref2.status;\n      return key !== matchKey || status !== STATUS_REMOVE;\n    }); // Update `STATUS_ADD` to `STATUS_KEEP`\n\n    list.forEach(function (node) {\n      if (node.key === matchKey) {\n        // eslint-disable-next-line no-param-reassign\n        node.status = STATUS_KEEP;\n      }\n    });\n  });\n  return list;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","wrapKeyToObject","key","keyObj","_typeof2","default","_objectSpread2","String","parseKeys","keys","arguments","length","undefined","map","_interopRequireDefault","Object","defineProperty","value","diffKeys","currentKeys","list","currentIndex","currentLen","prevKeyObjects","prevKeys","currentKeyObjects","forEach","hit","i","currentKeyObj","concat","slice","obj","status","STATUS_ADD","push","STATUS_KEEP","STATUS_REMOVE","_ref","duplicatedKeys","filter","matchKey","_ref2","node","STATUS_REMOVED"]
}
