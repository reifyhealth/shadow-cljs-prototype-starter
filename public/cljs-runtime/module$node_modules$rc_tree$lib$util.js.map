{
"version":3,
"file":"module$node_modules$rc_tree$lib$util.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/rc-tree/lib/util.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_tree$lib$util\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.arrDel = arrDel;\nexports.arrAdd = arrAdd;\nexports.posToArr = posToArr;\nexports.getPosition = getPosition;\nexports.isTreeNode = isTreeNode;\nexports.getDragChildrenKeys = getDragChildrenKeys;\nexports.isLastChild = isLastChild;\nexports.isFirstChild = isFirstChild;\nexports.calcDropPosition = calcDropPosition;\nexports.calcSelectedKeys = calcSelectedKeys;\nexports.convertDataToTree = convertDataToTree;\nexports.parseCheckedKeys = parseCheckedKeys;\nexports.conductExpandParent = conductExpandParent;\nexports.getDataAndAria = getDataAndAria;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _TreeNode = _interopRequireDefault(require(\"./TreeNode\"));\n\n/* eslint-disable no-lonely-if */\n\n/**\n * Legacy code. Should avoid to use if you are new to import these code.\n */\nfunction arrDel(list, value) {\n  var clone = list.slice();\n  var index = clone.indexOf(value);\n\n  if (index >= 0) {\n    clone.splice(index, 1);\n  }\n\n  return clone;\n}\n\nfunction arrAdd(list, value) {\n  var clone = list.slice();\n\n  if (clone.indexOf(value) === -1) {\n    clone.push(value);\n  }\n\n  return clone;\n}\n\nfunction posToArr(pos) {\n  return pos.split('-');\n}\n\nfunction getPosition(level, index) {\n  return \"\".concat(level, \"-\").concat(index);\n}\n\nfunction isTreeNode(node) {\n  return node && node.type && node.type.isTreeNode;\n}\n\nfunction getDragChildrenKeys(dragNodeKey, keyEntities) {\n  // not contains self\n  // self for left or right drag\n  var dragChildrenKeys = [];\n  var entity = keyEntities[dragNodeKey];\n\n  function dig() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    list.forEach(function (_ref) {\n      var key = _ref.key,\n          children = _ref.children;\n      dragChildrenKeys.push(key);\n      dig(children);\n    });\n  }\n\n  dig(entity.children);\n  return dragChildrenKeys;\n}\n\nfunction isLastChild(treeNodeEntity) {\n  if (treeNodeEntity.parent) {\n    var posArr = posToArr(treeNodeEntity.pos);\n    return Number(posArr[posArr.length - 1]) === treeNodeEntity.parent.children.length - 1;\n  }\n\n  return false;\n}\n\nfunction isFirstChild(treeNodeEntity) {\n  var posArr = posToArr(treeNodeEntity.pos);\n  return Number(posArr[posArr.length - 1]) === 0;\n} // Only used when drag, not affect SSR.\n\n\nfunction calcDropPosition(event, dragNode, targetNode, indent, startMousePosition, allowDrop, flattenedNodes, keyEntities, expandKeys, direction) {\n  var _abstractDropNodeEnti;\n\n  var clientX = event.clientX,\n      clientY = event.clientY;\n\n  var _event$target$getBoun = event.target.getBoundingClientRect(),\n      top = _event$target$getBoun.top,\n      height = _event$target$getBoun.height; // optional chain for testing\n\n\n  var horizontalMouseOffset = (direction === 'rtl' ? -1 : 1) * (((startMousePosition === null || startMousePosition === void 0 ? void 0 : startMousePosition.x) || 0) - clientX);\n  var rawDropLevelOffset = (horizontalMouseOffset - 12) / indent; // find abstract drop node by horizontal offset\n\n  var abstractDropNodeEntity = keyEntities[targetNode.props.eventKey];\n\n  if (clientY < top + height / 2) {\n    // first half, set abstract drop node to previous node\n    var nodeIndex = flattenedNodes.findIndex(function (flattenedNode) {\n      return flattenedNode.data.key === abstractDropNodeEntity.key;\n    });\n    var prevNodeIndex = nodeIndex <= 0 ? 0 : nodeIndex - 1;\n    var prevNodeKey = flattenedNodes[prevNodeIndex].data.key;\n    abstractDropNodeEntity = keyEntities[prevNodeKey];\n  }\n\n  var initialAbstractDropNodeKey = abstractDropNodeEntity.key;\n  var abstractDragOverEntity = abstractDropNodeEntity;\n  var dragOverNodeKey = abstractDropNodeEntity.key;\n  var dropPosition = 0;\n  var dropLevelOffset = 0; // Only allow cross level drop when dragging on a non-expanded node\n\n  if (!expandKeys.includes(initialAbstractDropNodeKey)) {\n    for (var i = 0; i < rawDropLevelOffset; i += 1) {\n      if (isLastChild(abstractDropNodeEntity)) {\n        abstractDropNodeEntity = abstractDropNodeEntity.parent;\n        dropLevelOffset += 1;\n      } else {\n        break;\n      }\n    }\n  }\n\n  var abstractDropDataNode = abstractDropNodeEntity.node;\n  var dropAllowed = true;\n\n  if (isFirstChild(abstractDropNodeEntity) && abstractDropNodeEntity.level === 0 && clientY < top + height / 2 && allowDrop({\n    dropNode: abstractDropDataNode,\n    dropPosition: -1\n  }) && abstractDropNodeEntity.key === targetNode.props.eventKey) {\n    // first half of first node in first level\n    dropPosition = -1;\n  } else if ((abstractDragOverEntity.children || []).length && expandKeys.includes(dragOverNodeKey)) {\n    // drop on expanded node\n    // only allow drop inside\n    if (allowDrop({\n      dropNode: abstractDropDataNode,\n      dropPosition: 0\n    })) {\n      dropPosition = 0;\n    } else {\n      dropAllowed = false;\n    }\n  } else if (dropLevelOffset === 0) {\n    if (rawDropLevelOffset > -1.5) {\n      // | Node     | <- abstractDropNode\n      // | -^-===== | <- mousePosition\n      // 1. try drop after\n      // 2. do not allow drop\n      if (allowDrop({\n        dropNode: abstractDropDataNode,\n        dropPosition: 1\n      })) {\n        dropPosition = 1;\n      } else {\n        dropAllowed = false;\n      }\n    } else {\n      // | Node     | <- abstractDropNode\n      // | ---==^== | <- mousePosition\n      // whether it has children or doesn't has children\n      // always\n      // 1. try drop inside\n      // 2. try drop after\n      // 3. do not allow drop\n      if (allowDrop({\n        dropNode: abstractDropDataNode,\n        dropPosition: 0\n      })) {\n        dropPosition = 0;\n      } else if (allowDrop({\n        dropNode: abstractDropDataNode,\n        dropPosition: 1\n      })) {\n        dropPosition = 1;\n      } else {\n        dropAllowed = false;\n      }\n    }\n  } else {\n    // | Node1 | <- abstractDropNode\n    //      |  Node2  |\n    // --^--|----=====| <- mousePosition\n    // 1. try insert after Node1\n    // 2. do not allow drop\n    if (allowDrop({\n      dropNode: abstractDropDataNode,\n      dropPosition: 1\n    })) {\n      dropPosition = 1;\n    } else {\n      dropAllowed = false;\n    }\n  }\n\n  return {\n    dropPosition: dropPosition,\n    dropLevelOffset: dropLevelOffset,\n    dropTargetKey: abstractDropNodeEntity.key,\n    dropTargetPos: abstractDropNodeEntity.pos,\n    dragOverNodeKey: dragOverNodeKey,\n    dropContainerKey: dropPosition === 0 ? null : ((_abstractDropNodeEnti = abstractDropNodeEntity.parent) === null || _abstractDropNodeEnti === void 0 ? void 0 : _abstractDropNodeEnti.key) || null,\n    dropAllowed: dropAllowed\n  };\n}\n/**\n * Return selectedKeys according with multiple prop\n * @param selectedKeys\n * @param props\n * @returns [string]\n */\n\n\nfunction calcSelectedKeys(selectedKeys, props) {\n  if (!selectedKeys) return undefined;\n  var multiple = props.multiple;\n\n  if (multiple) {\n    return selectedKeys.slice();\n  }\n\n  if (selectedKeys.length) {\n    return [selectedKeys[0]];\n  }\n\n  return selectedKeys;\n}\n\nvar internalProcessProps = function internalProcessProps(props) {\n  return props;\n};\n\nfunction convertDataToTree(treeData, processor) {\n  if (!treeData) return [];\n\n  var _ref2 = processor || {},\n      _ref2$processProps = _ref2.processProps,\n      processProps = _ref2$processProps === void 0 ? internalProcessProps : _ref2$processProps;\n\n  var list = Array.isArray(treeData) ? treeData : [treeData];\n  return list.map(function (_ref3) {\n    var children = _ref3.children,\n        props = (0, _objectWithoutProperties2.default)(_ref3, [\"children\"]);\n    var childrenNodes = convertDataToTree(children, processor);\n    return /*#__PURE__*/_react.default.createElement(_TreeNode.default, processProps(props), childrenNodes);\n  });\n}\n/**\n * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n */\n\n\nfunction parseCheckedKeys(keys) {\n  if (!keys) {\n    return null;\n  } // Convert keys to object format\n\n\n  var keyProps;\n\n  if (Array.isArray(keys)) {\n    // [Legacy] Follow the api doc\n    keyProps = {\n      checkedKeys: keys,\n      halfCheckedKeys: undefined\n    };\n  } else if ((0, _typeof2.default)(keys) === 'object') {\n    keyProps = {\n      checkedKeys: keys.checked || undefined,\n      halfCheckedKeys: keys.halfChecked || undefined\n    };\n  } else {\n    (0, _warning.default)(false, '`checkedKeys` is not an array or an object');\n    return null;\n  }\n\n  return keyProps;\n}\n/**\n * If user use `autoExpandParent` we should get the list of parent node\n * @param keyList\n * @param keyEntities\n */\n\n\nfunction conductExpandParent(keyList, keyEntities) {\n  var expandedKeys = new Set();\n\n  function conductUp(key) {\n    if (expandedKeys.has(key)) return;\n    var entity = keyEntities[key];\n    if (!entity) return;\n    expandedKeys.add(key);\n    var parent = entity.parent,\n        node = entity.node;\n    if (node.disabled) return;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conductUp(key);\n  });\n  return (0, _toConsumableArray2.default)(expandedKeys);\n}\n/**\n * Returns only the data- and aria- key/value pairs\n */\n\n\nfunction getDataAndAria(props) {\n  var omitProps = {};\n  Object.keys(props).forEach(function (key) {\n    if (key.startsWith('data-') || key.startsWith('aria-')) {\n      omitProps[key] = props[key];\n    }\n  });\n  return omitProps;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","posToArr","pos","split","isLastChild","treeNodeEntity","parent","posArr","Number","length","children","isFirstChild","convertDataToTree","treeData","processor","_ref2$processProps","processProps","internalProcessProps","map","Array","isArray","list","_ref3","props","_objectWithoutProperties2","default","childrenNodes","_react","createElement","_TreeNode","_interopRequireDefault","Object","defineProperty","value","arrDel","clone","slice","index","indexOf","splice","arrAdd","push","getPosition","level","concat","isTreeNode","node","type","getDragChildrenKeys","dragNodeKey","keyEntities","dig","forEach","arguments","undefined","_ref","dragChildrenKeys","key","entity","calcDropPosition","event","dragNode","targetNode","indent","startMousePosition","allowDrop","flattenedNodes","expandKeys","direction","_abstractDropNodeEnti","clientX","clientY","_event$target$getBoun","target","getBoundingClientRect","top","height","rawDropLevelOffset","x","abstractDropNodeEntity","eventKey","nodeIndex","findIndex","flattenedNode","data","prevNodeIndex","abstractDragOverEntity","dragOverNodeKey","dropLevelOffset","dropPosition","includes","i","abstractDropDataNode","dropAllowed","dropNode","dropTargetKey","dropTargetPos","dropContainerKey","calcSelectedKeys","selectedKeys","multiple","parseCheckedKeys","keys","keyProps","checkedKeys","halfCheckedKeys","_typeof2","checked","halfChecked","_warning","conductExpandParent","keyList","conductUp","expandedKeys","has","add","disabled","Set","_toConsumableArray2","getDataAndAria","omitProps","startsWith"]
}
