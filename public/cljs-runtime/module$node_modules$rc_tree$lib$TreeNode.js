shadow$provide.module$node_modules$rc_tree$lib$TreeNode=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=exports.InternalTreeNode=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),
_objectWithoutProperties2=module(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),_assertThisInitialized2=module(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),_inherits2=
module(require("module$node_modules$$babel$runtime$helpers$inherits")),_createSuper2=module(require("module$node_modules$$babel$runtime$helpers$createSuper")),React=global(require("module$node_modules$react$index")),_classnames=module(require("module$node_modules$classnames$index")),_contextTypes=require("module$node_modules$rc_tree$lib$contextTypes"),_util=require("module$node_modules$rc_tree$lib$util"),_Indent=module(require("module$node_modules$rc_tree$lib$Indent")),_treeUtil=require("module$node_modules$rc_tree$lib$utils$treeUtil"),
InternalTreeNode=function(_React$Component){function InternalTreeNode(){(0,_classCallCheck2.default)(this,InternalTreeNode);var _this=_super.apply(this,arguments);_this.state={dragNodeHighlight:!1};_this.onSelectorClick=function(e){var onNodeClick=_this.props.context.onNodeClick;onNodeClick(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props));if(_this.isSelectable())_this.onSelect(e);else _this.onCheck(e)};_this.onSelectorDoubleClick=function(e){var onNodeDoubleClick=_this.props.context.onNodeDoubleClick;
onNodeDoubleClick(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props))};_this.onSelect=function(e){if(!_this.isDisabled()){var onNodeSelect=_this.props.context.onNodeSelect;e.preventDefault();onNodeSelect(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props))}};_this.onCheck=function(e){if(!_this.isDisabled()){var _this$props=_this.props,disableCheckbox=_this$props.disableCheckbox,checked=_this$props.checked;_this$props=_this.props.context.onNodeCheck;_this.isCheckable()&&!disableCheckbox&&
(e.preventDefault(),disableCheckbox=!checked,_this$props(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props),disableCheckbox))}};_this.onMouseEnter=function(e){var onNodeMouseEnter=_this.props.context.onNodeMouseEnter;onNodeMouseEnter(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props))};_this.onMouseLeave=function(e){var onNodeMouseLeave=_this.props.context.onNodeMouseLeave;onNodeMouseLeave(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props))};_this.onContextMenu=function(e){var onNodeContextMenu=
_this.props.context.onNodeContextMenu;onNodeContextMenu(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props))};_this.onDragStart=function(e){var onNodeDragStart=_this.props.context.onNodeDragStart;e.stopPropagation();_this.setState({dragNodeHighlight:!0});onNodeDragStart(e,(0,_assertThisInitialized2.default)(_this));try{e.dataTransfer.setData("text/plain","")}catch(error){}};_this.onDragEnter=function(e){var onNodeDragEnter=_this.props.context.onNodeDragEnter;e.preventDefault();e.stopPropagation();
onNodeDragEnter(e,(0,_assertThisInitialized2.default)(_this))};_this.onDragOver=function(e){var onNodeDragOver=_this.props.context.onNodeDragOver;e.preventDefault();e.stopPropagation();onNodeDragOver(e,(0,_assertThisInitialized2.default)(_this))};_this.onDragLeave=function(e){var onNodeDragLeave=_this.props.context.onNodeDragLeave;e.stopPropagation();onNodeDragLeave(e,(0,_assertThisInitialized2.default)(_this))};_this.onDragEnd=function(e){var onNodeDragEnd=_this.props.context.onNodeDragEnd;e.stopPropagation();
_this.setState({dragNodeHighlight:!1});onNodeDragEnd(e,(0,_assertThisInitialized2.default)(_this))};_this.onDrop=function(e){var onNodeDrop=_this.props.context.onNodeDrop;e.preventDefault();e.stopPropagation();_this.setState({dragNodeHighlight:!1});onNodeDrop(e,(0,_assertThisInitialized2.default)(_this))};_this.onExpand=function(e){var _this$props2=_this.props,onNodeExpand=_this$props2.context.onNodeExpand;_this$props2.loading||onNodeExpand(e,(0,_treeUtil.convertNodePropsToEventData)(_this.props))};
_this.setSelectHandle=function(node){_this.selectHandle=node};_this.getNodeState=function(){var expanded=_this.props.expanded;return _this.isLeaf()?null:expanded?"open":"close"};_this.hasChildren=function(){return!!((_this.props.context.keyEntities[_this.props.eventKey]||{}).children||[]).length};_this.isLeaf=function(){var _this$props3=_this.props,isLeaf=_this$props3.isLeaf;_this$props3=_this$props3.loaded;var loadData=_this.props.context.loadData,hasChildren=_this.hasChildren();return!1===isLeaf?
!1:isLeaf||!loadData&&!hasChildren||loadData&&_this$props3&&!hasChildren};_this.isDisabled=function(){var disabled=_this.props.disabled;return!(!_this.props.context.disabled&&!disabled)};_this.isCheckable=function(){var checkable=_this.props.checkable,treeCheckable=_this.props.context.checkable;return treeCheckable&&!1!==checkable?treeCheckable:!1};_this.syncLoadData=function(props){var expanded=props.expanded,loaded=props.loaded,_this$props$context=_this.props.context,onNodeLoad=_this$props$context.onNodeLoad;
props.loading||_this$props$context.loadData&&expanded&&!_this.isLeaf()&&(_this.hasChildren()||loaded||onNodeLoad((0,_treeUtil.convertNodePropsToEventData)(_this.props)))};_this.renderSwitcherIconDom=function(isLeaf){var switcherIconFromCtx=_this.props.context.switcherIcon;switcherIconFromCtx=_this.props.switcherIcon||switcherIconFromCtx;return"function"===typeof switcherIconFromCtx?switcherIconFromCtx((0,_objectSpread2.default)((0,_objectSpread2.default)({},_this.props),{},{isLeaf:isLeaf})):switcherIconFromCtx};
_this.renderSwitcher=function(){var expanded=_this.props.expanded,prefixCls=_this.props.context.prefixCls;if(_this.isLeaf())return expanded=_this.renderSwitcherIconDom(!0),!1!==expanded?React.createElement("span",{className:(0,_classnames.default)("".concat(prefixCls,"-switcher"),"".concat(prefixCls,"-switcher-noop"))},expanded):null;prefixCls=(0,_classnames.default)("".concat(prefixCls,"-switcher"),"".concat(prefixCls,"-switcher_").concat(expanded?"open":"close"));expanded=_this.renderSwitcherIconDom(!1);
return!1!==expanded?React.createElement("span",{onClick:_this.onExpand,className:prefixCls},expanded):null};_this.renderCheckbox=function(){var _this$props4=_this.props,checked=_this$props4.checked,halfChecked=_this$props4.halfChecked;_this$props4=_this$props4.disableCheckbox;var prefixCls=_this.props.context.prefixCls,disabled=_this.isDisabled(),checkable=_this.isCheckable();if(!checkable)return null;checkable="boolean"!==typeof checkable?checkable:null;return React.createElement("span",{className:(0,
_classnames.default)("".concat(prefixCls,"-checkbox"),checked&&"".concat(prefixCls,"-checkbox-checked"),!checked&&halfChecked&&"".concat(prefixCls,"-checkbox-indeterminate"),(disabled||_this$props4)&&"".concat(prefixCls,"-checkbox-disabled")),onClick:_this.onCheck},checkable)};_this.renderIcon=function(){var loading=_this.props.loading,prefixCls=_this.props.context.prefixCls;return React.createElement("span",{className:(0,_classnames.default)("".concat(prefixCls,"-iconEle"),"".concat(prefixCls,"-icon__").concat(_this.getNodeState()||
"docu"),loading&&"".concat(prefixCls,"-icon_loading"))})};_this.renderSelector=function(){var dragNodeHighlight=_this.state.dragNodeHighlight,_this$props5=_this.props,title=_this$props5.title,selected=_this$props5.selected,icon=_this$props5.icon,loading=_this$props5.loading,data=_this$props5.data,_this$props$context2=_this.props.context;_this$props5=_this$props$context2.prefixCls;var showIcon=_this$props$context2.showIcon,treeIcon=_this$props$context2.icon,draggable=_this$props$context2.draggable,
loadData=_this$props$context2.loadData,titleRender=_this$props$context2.titleRender;_this$props$context2=_this.isDisabled();draggable="function"===typeof draggable?draggable(data):draggable;var wrapClass="".concat(_this$props5,"-node-content-wrapper");if(showIcon)var $icon=($icon=icon||treeIcon)?React.createElement("span",{className:(0,_classnames.default)("".concat(_this$props5,"-iconEle"),"".concat(_this$props5,"-icon__customize"))},"function"===typeof $icon?$icon(_this.props):$icon):_this.renderIcon();
else loadData&&loading&&($icon=_this.renderIcon());icon="function"===typeof title?title(data):titleRender?titleRender(data):title;icon=React.createElement("span",{className:"".concat(_this$props5,"-title")},icon);return React.createElement("span",{ref:_this.setSelectHandle,title:"string"===typeof title?title:"",className:(0,_classnames.default)("".concat(wrapClass),"".concat(wrapClass,"-").concat(_this.getNodeState()||"normal"),!_this$props$context2&&(selected||dragNodeHighlight)&&"".concat(_this$props5,
"-node-selected"),!_this$props$context2&&draggable&&"draggable"),draggable:!_this$props$context2&&draggable||void 0,"aria-grabbed":!_this$props$context2&&draggable||void 0,onMouseEnter:_this.onMouseEnter,onMouseLeave:_this.onMouseLeave,onContextMenu:_this.onContextMenu,onClick:_this.onSelectorClick,onDoubleClick:_this.onSelectorDoubleClick,onDragStart:draggable?_this.onDragStart:void 0},$icon,icon,_this.renderDropIndicator())};_this.renderDropIndicator=function(){var _this$props6=_this.props,eventKey=
_this$props6.eventKey,_this$props$context3=_this.props.context,draggable=_this$props$context3.draggable,dropLevelOffset=_this$props$context3.dropLevelOffset,dropPosition=_this$props$context3.dropPosition,prefixCls=_this$props$context3.prefixCls,indent=_this$props$context3.indent,dropIndicatorRender=_this$props$context3.dropIndicatorRender,dragOverNodeKey=_this$props$context3.dragOverNodeKey;_this$props$context3=_this$props$context3.direction;return _this$props6.disabled||!1===draggable||dragOverNodeKey!==
eventKey?null:dropIndicatorRender({dropPosition:dropPosition,dropLevelOffset:dropLevelOffset,indent:indent,prefixCls:prefixCls,direction:_this$props$context3})};return _this}(0,_inherits2.default)(InternalTreeNode,_React$Component);var _super=(0,_createSuper2.default)(InternalTreeNode);(0,_createClass2.default)(InternalTreeNode,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var selectable=
this.props.selectable;return"boolean"===typeof selectable?selectable:this.props.context.selectable}},{key:"render",value:function(){var _classNames,_this$props7=this.props,eventKey=_this$props7.eventKey,className=_this$props7.className,style=_this$props7.style,dragOver=_this$props7.dragOver,dragOverGapTop=_this$props7.dragOverGapTop,dragOverGapBottom=_this$props7.dragOverGapBottom,isLeaf=_this$props7.isLeaf,isStart=_this$props7.isStart,isEnd=_this$props7.isEnd,expanded=_this$props7.expanded,selected=
_this$props7.selected,checked=_this$props7.checked,halfChecked=_this$props7.halfChecked,loading=_this$props7.loading,domRef=_this$props7.domRef,active=_this$props7.active,data=_this$props7.data,onMouseMove=_this$props7.onMouseMove,otherProps=(0,_objectWithoutProperties2.default)(_this$props7,"eventKey className style dragOver dragOverGapTop dragOverGapBottom isLeaf isStart isEnd expanded selected checked halfChecked loading domRef active data onMouseMove".split(" ")),_this$props$context4=this.props.context;
_this$props7=_this$props$context4.prefixCls;var filterTreeNode=_this$props$context4.filterTreeNode,draggable=_this$props$context4.draggable,keyEntities=_this$props$context4.keyEntities,dropContainerKey=_this$props$context4.dropContainerKey;_this$props$context4=_this$props$context4.dropTargetKey;var disabled=this.isDisabled();otherProps=(0,_util.getDataAndAria)(otherProps);keyEntities=(keyEntities[eventKey]||{}).level;var isEndNode=isEnd[isEnd.length-1];data="function"===typeof draggable?draggable(data):
draggable;return React.createElement("div",(0,_extends2.default)({ref:domRef,className:(0,_classnames.default)(className,"".concat(_this$props7,"-treenode"),(_classNames={},(0,_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-disabled"),disabled),(0,_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-switcher-").concat(expanded?"open":"close"),!isLeaf),(0,_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-checkbox-checked"),checked),(0,
_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-checkbox-indeterminate"),halfChecked),(0,_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-selected"),selected),(0,_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-loading"),loading),(0,_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-active"),active),(0,_defineProperty2.default)(_classNames,"".concat(_this$props7,"-treenode-leaf-last"),isEndNode),(0,_defineProperty2.default)(_classNames,
"drop-target",_this$props$context4===eventKey),(0,_defineProperty2.default)(_classNames,"drop-container",dropContainerKey===eventKey),(0,_defineProperty2.default)(_classNames,"drag-over",!disabled&&dragOver),(0,_defineProperty2.default)(_classNames,"drag-over-gap-top",!disabled&&dragOverGapTop),(0,_defineProperty2.default)(_classNames,"drag-over-gap-bottom",!disabled&&dragOverGapBottom),(0,_defineProperty2.default)(_classNames,"filter-node",filterTreeNode&&filterTreeNode((0,_treeUtil.convertNodePropsToEventData)(this.props))),
_classNames)),style:style,onDragEnter:data?this.onDragEnter:void 0,onDragOver:data?this.onDragOver:void 0,onDragLeave:data?this.onDragLeave:void 0,onDrop:data?this.onDrop:void 0,onDragEnd:data?this.onDragEnd:void 0,onMouseMove:onMouseMove},otherProps),React.createElement(_Indent.default,{prefixCls:_this$props7,level:keyEntities,isStart:isStart,isEnd:isEnd}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]);return InternalTreeNode}(React.Component);exports.InternalTreeNode=InternalTreeNode;
require=function(props){return React.createElement(_contextTypes.TreeContext.Consumer,null,function(context){return React.createElement(InternalTreeNode,(0,_extends2.default)({},props,{context:context}))})};require.displayName="TreeNode";require.defaultProps={title:"---"};require.isTreeNode=1;exports.default=require}
//# sourceMappingURL=module$node_modules$rc_tree$lib$TreeNode.js.map
