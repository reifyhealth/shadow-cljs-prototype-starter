shadow$provide.module$node_modules$rc_tabs$lib$hooks$useTouchMove=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(ref,onOffset){var _useState=(0,React.useState)();_useState=(0,_slicedToArray2.default)(_useState,2);var touchPosition=_useState[0],setTouchPosition=
_useState[1];_useState=(0,React.useState)(0);_useState=(0,_slicedToArray2.default)(_useState,2);var lastTimestamp=_useState[0],setLastTimestamp=_useState[1];_useState=(0,React.useState)(0);_useState=(0,_slicedToArray2.default)(_useState,2);var lastTimeDiff=_useState[0],setLastTimeDiff=_useState[1];_useState=(0,React.useState)();_useState=(0,_slicedToArray2.default)(_useState,2);var lastOffset=_useState[0],setLastOffset=_useState[1],motionRef=(0,React.useRef)(),lastWheelDirectionRef=(0,React.useRef)(),
touchEventsRef=(0,React.useRef)(null);touchEventsRef.current={onTouchStart:function(e){e=e.touches[0];setTouchPosition({x:e.screenX,y:e.screenY});window.clearInterval(motionRef.current)},onTouchMove:function(e){if(touchPosition){e.preventDefault();var _e$touches$2=e.touches[0];e=_e$touches$2.screenX;_e$touches$2=_e$touches$2.screenY;setTouchPosition({x:e,y:_e$touches$2});e-=touchPosition.x;_e$touches$2-=touchPosition.y;onOffset(e,_e$touches$2);var now=Date.now();setLastTimestamp(now);setLastTimeDiff(now-
lastTimestamp);setLastOffset({x:e,y:_e$touches$2})}},onTouchEnd:function(){if(touchPosition&&(setTouchPosition(null),setLastOffset(null),lastOffset)){var distanceX=lastOffset.x/lastTimeDiff,distanceY=lastOffset.y/lastTimeDiff;if(!(Math.max(Math.abs(distanceX),Math.abs(distanceY))<MIN_SWIPE_DISTANCE)){var currentX=distanceX,currentY=distanceY;motionRef.current=window.setInterval(function(){Math.abs(currentX)<STOP_SWIPE_DISTANCE&&Math.abs(currentY)<STOP_SWIPE_DISTANCE?window.clearInterval(motionRef.current):
(currentX*=SPEED_OFF_MULTIPLE,currentY*=SPEED_OFF_MULTIPLE,onOffset(currentX*REFRESH_INTERVAL,currentY*REFRESH_INTERVAL))},REFRESH_INTERVAL)}}},onWheel:function(e){var deltaX=e.deltaX,deltaY=e.deltaY,absX=Math.abs(deltaX),absY=Math.abs(deltaY);absX===absY?deltaX="x"===lastWheelDirectionRef.current?deltaX:deltaY:absX>absY?lastWheelDirectionRef.current="x":(deltaX=deltaY,lastWheelDirectionRef.current="y");onOffset(-deltaX,-deltaX)&&e.preventDefault()}};React.useEffect(function(){function onProxyTouchMove(e){touchEventsRef.current.onTouchMove(e)}
function onProxyTouchEnd(e){touchEventsRef.current.onTouchEnd(e)}document.addEventListener("touchmove",onProxyTouchMove,{passive:!1});document.addEventListener("touchend",onProxyTouchEnd,{passive:!1});ref.current.addEventListener("touchstart",function(e){touchEventsRef.current.onTouchStart(e)},{passive:!1});ref.current.addEventListener("wheel",function(e){touchEventsRef.current.onWheel(e)});return function(){document.removeEventListener("touchmove",onProxyTouchMove);document.removeEventListener("touchend",
onProxyTouchEnd)}},[])};var _slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),MIN_SWIPE_DISTANCE=.1,STOP_SWIPE_DISTANCE=.01,REFRESH_INTERVAL=20,SPEED_OFF_MULTIPLE=Math.pow(.995,REFRESH_INTERVAL)}
//# sourceMappingURL=module$node_modules$rc_tabs$lib$hooks$useTouchMove.js.map
