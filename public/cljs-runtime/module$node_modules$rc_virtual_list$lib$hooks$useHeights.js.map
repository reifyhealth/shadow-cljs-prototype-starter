{
"version":3,
"file":"module$node_modules$rc_virtual_list$lib$hooks$useHeights.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rc-virtual-list/lib/hooks/useHeights.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_virtual_list$lib$hooks$useHeights\"] = function(global,require,module,exports) {\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useHeights;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _findDOMNode = _interopRequireDefault(require(\"rc-util/lib/Dom/findDOMNode\"));\n\nvar _CacheMap = _interopRequireDefault(require(\"../utils/CacheMap\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction useHeights(getKey, onItemAdd, onItemRemove) {\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      updatedMark = _React$useState2[0],\n      setUpdatedMark = _React$useState2[1];\n\n  var instanceRef = (0, React.useRef)(new Map());\n  var heightsRef = (0, React.useRef)(new _CacheMap.default());\n  var heightUpdateIdRef = (0, React.useRef)(0);\n\n  function collectHeight() {\n    heightUpdateIdRef.current += 1;\n    var currentId = heightUpdateIdRef.current;\n    Promise.resolve().then(function () {\n      // Only collect when it's latest call\n      if (currentId !== heightUpdateIdRef.current) return;\n      instanceRef.current.forEach(function (element, key) {\n        if (element && element.offsetParent) {\n          var htmlElement = (0, _findDOMNode.default)(element);\n          var offsetHeight = htmlElement.offsetHeight;\n\n          if (heightsRef.current.get(key) !== offsetHeight) {\n            heightsRef.current.set(key, htmlElement.offsetHeight);\n          }\n        }\n      }); // Always trigger update mark to tell parent that should re-calculate heights when resized\n\n      setUpdatedMark(function (c) {\n        return c + 1;\n      });\n    });\n  }\n\n  function setInstanceRef(item, instance) {\n    var key = getKey(item);\n    var origin = instanceRef.current.get(key);\n\n    if (instance) {\n      instanceRef.current.set(key, instance);\n      collectHeight();\n    } else {\n      instanceRef.current.delete(key);\n    } // Instance changed\n\n\n    if (!origin !== !instance) {\n      if (instance) {\n        onItemAdd === null || onItemAdd === void 0 ? void 0 : onItemAdd(item);\n      } else {\n        onItemRemove === null || onItemRemove === void 0 ? void 0 : onItemRemove(item);\n      }\n    }\n  }\n\n  return [setInstanceRef, collectHeight, heightsRef.current, updatedMark];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_typeof","obj","Symbol","iterator","constructor","prototype","_interopRequireDefault","__esModule","default","_getRequireWildcardCache","WeakMap","cache","_slicedToArray","arr","i","Array","isArray","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","o","_arrayLikeToArray","minLen","n","toString","call","slice","name","from","test","TypeError","len","arr2","defineProperty","useHeights","getKey","onItemAdd","onItemRemove","collectHeight","heightUpdateIdRef","current","currentId","Promise","resolve","then","instanceRef","forEach","element","key","offsetParent","htmlElement","_findDOMNode","offsetHeight","heightsRef","get","set","setUpdatedMark","c","_React$useState","React","useState","_React$useState2","updatedMark","useRef","Map","_CacheMap","setInstanceRef","item","instance","origin","delete","_interopRequireWildcard","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","desc"]
}
