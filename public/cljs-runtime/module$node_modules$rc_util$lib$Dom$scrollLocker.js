shadow$provide.module$node_modules$rc_util$lib$Dom$scrollLocker=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_getScrollBarSize=global(require("module$node_modules$rc_util$lib$getScrollBarSize")),
_setStyle=global(require("module$node_modules$rc_util$lib$setStyle")),locks=[],scrollingEffectClassNameReg=new RegExp("".concat("ant-scrolling-effect"),"g"),uuid=0,cacheStyle=new Map;exports.default=function ScrollLocker(options$jscomp$0){var _this=this;(0,_classCallCheck2.default)(this,ScrollLocker);this.getContainer=function(){var _this$options;return null===(_this$options=_this.options)||void 0===_this$options?void 0:_this$options.container};this.reLock=function(options){var findLock=locks.find(function(_ref){return _ref.target===
_this.lockTarget});findLock&&_this.unLock();_this.options=options;findLock&&(findLock.options=options,_this.lock())};this.lock=function(){var _this$options3;if(!locks.some(function(_ref2){return _ref2.target===_this.lockTarget})){if(!locks.some(function(_ref3){var _this$options2;_ref3=_ref3.options;return(null===_ref3||void 0===_ref3?void 0:_ref3.container)===(null===(_this$options2=_this.options)||void 0===_this$options2?void 0:_this$options2.container)})){var scrollBarSize=0,container=(null===(_this$options3=
_this.options)||void 0===_this$options3?void 0:_this$options3.container)||document.body;if(container===document.body&&0<window.innerWidth-document.documentElement.clientWidth||container.scrollHeight>container.clientHeight)scrollBarSize=(0,_getScrollBarSize.default)();_this$options3=container.className;0===locks.filter(function(_ref4){var _this$options4;_ref4=_ref4.options;return(null===_ref4||void 0===_ref4?void 0:_ref4.container)===(null===(_this$options4=_this.options)||void 0===_this$options4?
void 0:_this$options4.container)}).length&&cacheStyle.set(container,(0,_setStyle.default)({width:"calc(100% - ".concat(scrollBarSize,"px)"),overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:container}));scrollingEffectClassNameReg.test(_this$options3)||(scrollBarSize="".concat(_this$options3," ").concat("ant-scrolling-effect"),container.className=scrollBarSize.trim())}locks=[].concat((0,_toConsumableArray2.default)(locks),[{target:_this.lockTarget,options:_this.options}])}};this.unLock=
function(){var _this$options5,findLock=locks.find(function(_ref5){return _ref5.target===_this.lockTarget});locks=locks.filter(function(_ref6){return _ref6.target!==_this.lockTarget});if(findLock&&!locks.some(function(_ref7){var _findLock$options;_ref7=_ref7.options;return(null===_ref7||void 0===_ref7?void 0:_ref7.container)===(null===(_findLock$options=findLock.options)||void 0===_findLock$options?void 0:_findLock$options.container)})){var container=(null===(_this$options5=_this.options)||void 0===
_this$options5?void 0:_this$options5.container)||document.body;scrollingEffectClassNameReg.test(container.className)&&((0,_setStyle.default)(cacheStyle.get(container),{element:container}),cacheStyle.delete(container),container.className=container.className.replace(scrollingEffectClassNameReg,"").trim())}};this.lockTarget=uuid++;this.options=options$jscomp$0}}
//# sourceMappingURL=module$node_modules$rc_util$lib$Dom$scrollLocker.js.map
