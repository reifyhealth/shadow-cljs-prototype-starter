{
"version":3,
"file":"module$node_modules$rc_motion$lib$hooks$useStepQueue.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/rc-motion/lib/hooks/useStepQueue.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_motion$lib$hooks$useStepQueue\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isActive = isActive;\nexports.default = exports.DoStep = exports.SkipStep = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _interface = require(\"../interface\");\n\nvar _useIsomorphicLayoutEffect = _interopRequireDefault(require(\"./useIsomorphicLayoutEffect\"));\n\nvar _useNextFrame3 = _interopRequireDefault(require(\"./useNextFrame\"));\n\nvar STEP_QUEUE = [_interface.STEP_PREPARE, _interface.STEP_START, _interface.STEP_ACTIVE, _interface.STEP_ACTIVATED];\n/** Skip current step */\n\nvar SkipStep = false;\n/** Current step should be update in */\n\nexports.SkipStep = SkipStep;\nvar DoStep = true;\nexports.DoStep = DoStep;\n\nfunction isActive(step) {\n  return step === _interface.STEP_ACTIVE || step === _interface.STEP_ACTIVATED;\n}\n\nvar _default = function _default(status, callback) {\n  var _React$useState = React.useState(_interface.STEP_NONE),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      step = _React$useState2[0],\n      setStep = _React$useState2[1];\n\n  var _useNextFrame = (0, _useNextFrame3.default)(),\n      _useNextFrame2 = (0, _slicedToArray2.default)(_useNextFrame, 2),\n      nextFrame = _useNextFrame2[0],\n      cancelNextFrame = _useNextFrame2[1];\n\n  function startQueue() {\n    setStep(_interface.STEP_PREPARE);\n  }\n\n  (0, _useIsomorphicLayoutEffect.default)(function () {\n    if (step !== _interface.STEP_NONE && step !== _interface.STEP_ACTIVATED) {\n      var index = STEP_QUEUE.indexOf(step);\n      var nextStep = STEP_QUEUE[index + 1];\n      var result = callback(step);\n\n      if (result === SkipStep) {\n        // Skip when no needed\n        setStep(nextStep);\n      } else {\n        // Do as frame for step update\n        nextFrame(function (info) {\n          function doNext() {\n            // Skip since current queue is ood\n            if (info.isCanceled()) return;\n            setStep(nextStep);\n          }\n\n          if (result === true) {\n            doNext();\n          } else {\n            // Only promise should be async\n            Promise.resolve(result).then(doNext);\n          }\n        });\n      }\n    }\n  }, [status, step]);\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [startQueue, step];\n};\n\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","isActive","step","_interface","STEP_ACTIVE","STEP_ACTIVATED","default","DoStep","SkipStep","_slicedToArray2","React","_useIsomorphicLayoutEffect","_useNextFrame3","STEP_QUEUE","STEP_PREPARE","STEP_START","_default","status","callback","_React$useState","useState","STEP_NONE","_React$useState2","setStep","_useNextFrame","_useNextFrame2","nextFrame","cancelNextFrame","index","indexOf","nextStep","result","info","doNext","isCanceled","Promise","resolve","then","useEffect","startQueue"]
}
