shadow$provide.module$node_modules$rc_menu$lib$Menu=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),
_classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),_assertThisInitialized2=module(require("module$node_modules$$babel$runtime$helpers$assertThisInitialized")),_inherits2=module(require("module$node_modules$$babel$runtime$helpers$inherits")),_createSuper2=module(require("module$node_modules$$babel$runtime$helpers$createSuper")),React=global(require("module$node_modules$react$index")),
_miniStore=require("module$node_modules$mini_store$cjs$index"),_omit=module(require("module$node_modules$rc_util$lib$omit")),_SubPopupMenu=global(require("module$node_modules$rc_menu$lib$SubPopupMenu"));global=require("module$node_modules$rc_menu$lib$util");var _legacyUtil=require("module$node_modules$rc_menu$lib$utils$legacyUtil");require=function(_React$Component){function Menu(props$jscomp$0){(0,_classCallCheck2.default)(this,Menu);var _this=_super.call(this,props$jscomp$0);_this.onSelect=function(selectInfo){var props=
(0,_assertThisInitialized2.default)(_this).props;if(props.selectable){var _selectedKeys=_this.store.getState().selectedKeys,selectedKey=selectInfo.key;_selectedKeys=props.multiple?_selectedKeys.concat([selectedKey]):[selectedKey];"selectedKeys"in props||_this.store.setState({selectedKeys:_selectedKeys});props.onSelect((0,_objectSpread2.default)((0,_objectSpread2.default)({},selectInfo),{},{selectedKeys:_selectedKeys}))}};_this.onClick=function(e){var mode=_this.getRealMenuMode(),_assertThisInitialize2=
(0,_assertThisInitialized2.default)(_this),store=_assertThisInitialize2.store;_assertThisInitialize2=_assertThisInitialize2.props.onOpenChange;"inline"===mode||"openKeys"in _this.props||(store.setState({openKeys:[]}),_assertThisInitialize2([]));_this.props.onClick(e)};_this.onKeyDown=function(e,callback){_this.innerMenu.getWrappedInstance().onKeyDown(e,callback)};_this.onOpenChange=function(event){var props=(0,_assertThisInitialized2.default)(_this).props,openKeys=_this.store.getState().openKeys.concat(),
changed=!1,processSingle=function(e){var oneChanged;e.open?(oneChanged=-1===openKeys.indexOf(e.key))&&openKeys.push(e.key):(e=openKeys.indexOf(e.key),(oneChanged=-1!==e)&&openKeys.splice(e,1));changed=changed||oneChanged};Array.isArray(event)?event.forEach(processSingle):processSingle(event);changed&&("openKeys"in _this.props||_this.store.setState({openKeys:openKeys}),props.onOpenChange(openKeys))};_this.onDeselect=function(selectInfo){var props=(0,_assertThisInitialized2.default)(_this).props;if(props.selectable){var _selectedKeys2=
_this.store.getState().selectedKeys.concat(),index=_selectedKeys2.indexOf(selectInfo.key);-1!==index&&_selectedKeys2.splice(index,1);"selectedKeys"in props||_this.store.setState({selectedKeys:_selectedKeys2});props.onDeselect((0,_objectSpread2.default)((0,_objectSpread2.default)({},selectInfo),{},{selectedKeys:_selectedKeys2}))}};_this.onMouseEnter=function(e){_this.restoreModeVerticalFromInline();var onMouseEnter=_this.props.onMouseEnter;onMouseEnter&&onMouseEnter(e)};_this.onTransitionEnd=function(e){var widthCollapsed=
"width"===e.propertyName&&e.target===e.currentTarget,className=e.target.className;className="[object SVGAnimatedString]"===Object.prototype.toString.call(className)?className.animVal:className;e="font-size"===e.propertyName&&0<=className.indexOf("anticon");(widthCollapsed||e)&&_this.restoreModeVerticalFromInline()};_this.setInnerMenu=function(node){_this.innerMenu=node};_this.isRootMenu=!0;var selectedKeys=props$jscomp$0.defaultSelectedKeys,openKeys$jscomp$0=props$jscomp$0.defaultOpenKeys;"selectedKeys"in
props$jscomp$0&&(selectedKeys=props$jscomp$0.selectedKeys||[]);"openKeys"in props$jscomp$0&&(openKeys$jscomp$0=props$jscomp$0.openKeys||[]);_this.store=(0,_miniStore.create)({selectedKeys:selectedKeys,openKeys:openKeys$jscomp$0,activeKey:{"0-menu-":(0,_SubPopupMenu.getActiveKey)(props$jscomp$0,props$jscomp$0.activeKey)}});_this.state={switchingModeFromInline:!1,prevProps:props$jscomp$0,inlineOpenKeys:[],store:_this.store};return _this}(0,_inherits2.default)(Menu,_React$Component);var _super=(0,_createSuper2.default)(Menu);
(0,_createClass2.default)(Menu,[{key:"componentDidMount",value:function(){this.updateMiniStore();this.updateMenuDisplay()}},{key:"componentDidUpdate",value:function(prevProps){var _this$props=this.props,siderCollapsed=_this$props.siderCollapsed,inlineCollapsed=_this$props.inlineCollapsed;_this$props=_this$props.onOpenChange;(!prevProps.inlineCollapsed&&inlineCollapsed||!prevProps.siderCollapsed&&siderCollapsed)&&_this$props([]);this.updateMiniStore();this.updateMenuDisplay()}},{key:"updateMenuDisplay",
value:function(){var collapsedWidth=this.props.collapsedWidth,store=this.store,prevOpenKeys=this.prevOpenKeys;!this.getInlineCollapsed()||0!==collapsedWidth&&"0"!==collapsedWidth&&"0px"!==collapsedWidth?prevOpenKeys&&(this.store.setState({openKeys:prevOpenKeys}),this.prevOpenKeys=null):(this.prevOpenKeys=store.getState().openKeys.concat(),this.store.setState({openKeys:[]}))}},{key:"getRealMenuMode",value:function(){var mode=this.props.mode,switchingModeFromInline=this.state.switchingModeFromInline,
inlineCollapsed=this.getInlineCollapsed();return switchingModeFromInline&&inlineCollapsed?"inline":inlineCollapsed?"vertical":mode}},{key:"getInlineCollapsed",value:function(){var _this$props2=this.props,siderCollapsed=_this$props2.siderCollapsed;return void 0!==siderCollapsed?siderCollapsed:_this$props2.inlineCollapsed}},{key:"restoreModeVerticalFromInline",value:function(){this.state.switchingModeFromInline&&this.setState({switchingModeFromInline:!1})}},{key:"updateMiniStore",value:function(){"selectedKeys"in
this.props&&this.store.setState({selectedKeys:this.props.selectedKeys||[]});"openKeys"in this.props&&this.store.setState({openKeys:this.props.openKeys||[]})}},{key:"render",value:function(){var props=(0,_objectSpread2.default)({},(0,_omit.default)(this.props,["collapsedWidth","siderCollapsed","defaultMotions"])),mode=this.getRealMenuMode();props.className+=" ".concat(props.prefixCls,"-root");"rtl"===props.direction&&(props.className+=" ".concat(props.prefixCls,"-rtl"));props=(0,_objectSpread2.default)((0,
_objectSpread2.default)({},props),{},{mode:mode,onClick:this.onClick,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect,onMouseEnter:this.onMouseEnter,onTransitionEnd:this.onTransitionEnd,parentMenu:this,motion:(0,_legacyUtil.getMotion)(this.props,this.state,mode)});delete props.openAnimation;delete props.openTransitionName;return React.createElement(_miniStore.Provider,{store:this.store},React.createElement(_SubPopupMenu.default,(0,_extends2.default)({},props,{ref:this.setInnerMenu}),
this.props.children))}}],[{key:"getDerivedStateFromProps",value:function(nextProps,prevState){var prevProps=prevState.prevProps,store=prevState.store,prevStoreState=store.getState(),newStoreState={},newState={prevProps:nextProps};"inline"===prevProps.mode&&"inline"!==nextProps.mode&&(newState.switchingModeFromInline=!0);if("openKeys"in nextProps)newStoreState.openKeys=nextProps.openKeys||[];else{if(nextProps.inlineCollapsed&&!prevProps.inlineCollapsed||nextProps.siderCollapsed&&!prevProps.siderCollapsed)newState.switchingModeFromInline=
!0,newState.inlineOpenKeys=prevStoreState.openKeys,newStoreState.openKeys=[];if(!nextProps.inlineCollapsed&&prevProps.inlineCollapsed||!nextProps.siderCollapsed&&prevProps.siderCollapsed)newStoreState.openKeys=prevState.inlineOpenKeys,newState.inlineOpenKeys=[]}Object.keys(newStoreState).length&&store.setState(newStoreState);return newState}}]);return Menu}(React.Component);require.defaultProps={selectable:!0,onClick:global.noop,onSelect:global.noop,onOpenChange:global.noop,onDeselect:global.noop,
defaultSelectedKeys:[],defaultOpenKeys:[],subMenuOpenDelay:.1,subMenuCloseDelay:.1,triggerSubMenuAction:"hover",prefixCls:"rc-menu",className:"",mode:"vertical",style:{},builtinPlacements:{},overflowedIndicator:React.createElement("span",null,"···")};exports.default=require}
//# sourceMappingURL=module$node_modules$rc_menu$lib$Menu.js.map
