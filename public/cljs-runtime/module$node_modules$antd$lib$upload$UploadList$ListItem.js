shadow$provide.module$node_modules$antd$lib$upload$UploadList$ListItem=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),
_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_rcMotion=module(require("module$node_modules$rc_motion$lib$index")),_classnames=module(require("module$node_modules$classnames$index")),_EyeOutlined=module(require("module$node_modules$$ant_design$icons$EyeOutlined")),_DeleteOutlined=module(require("module$node_modules$$ant_design$icons$DeleteOutlined")),_DownloadOutlined=module(require("module$node_modules$$ant_design$icons$DownloadOutlined")),
_tooltip=module(require("module$node_modules$antd$lib$tooltip$index")),_progress=module(require("module$node_modules$antd$lib$progress$index")),_configProvider=require("module$node_modules$antd$lib$config_provider$index");require=React.forwardRef(function(_ref,ref){var _classNames3,prefixCls=_ref.prefixCls,className=_ref.className,style=_ref.style,locale=_ref.locale,listType=_ref.listType,file=_ref.file,items=_ref.items,progressProps=_ref.progress,iconRender=_ref.iconRender,actionIconRender=_ref.actionIconRender,
itemRender=_ref.itemRender,isImgUrl=_ref.isImgUrl,showPreviewIcon=_ref.showPreviewIcon,showRemoveIcon=_ref.showRemoveIcon,showDownloadIcon=_ref.showDownloadIcon,customRemoveIcon=_ref.removeIcon,customDownloadIcon=_ref.downloadIcon,onPreview=_ref.onPreview,onDownload=_ref.onDownload,onClose=_ref.onClose,_a,_b;_ref=React.useState(!1);var _React$useState2=(0,_slicedToArray2["default"])(_ref,2);_ref=_React$useState2[0];var setShowProgress=_React$useState2[1],progressRafRef=React.useRef();React.useEffect(function(){progressRafRef.current=
setTimeout(function(){setShowProgress(!0)},300);return function(){window.clearTimeout(progressRafRef.current)}},[]);_React$useState2="".concat(prefixCls,"-span");var iconNode=iconRender(file);iconRender=React.createElement("div",{className:"".concat(prefixCls,"-text-icon")},iconNode);if("picture"===listType||"picture-card"===listType)if("uploading"===file.status||!file.thumbUrl&&!file.url){var _classNames;iconRender=(0,_classnames["default"])((_classNames={},(0,_defineProperty2["default"])(_classNames,
"".concat(prefixCls,"-list-item-thumbnail"),!0),(0,_defineProperty2["default"])(_classNames,"".concat(prefixCls,"-list-item-file"),"uploading"!==file.status),_classNames));iconRender=React.createElement("div",{className:iconRender},iconNode)}else{var _classNames2;iconRender=(null===isImgUrl||void 0===isImgUrl?0:isImgUrl(file))?React.createElement("img",{src:file.thumbUrl||file.url,alt:file.name,className:"".concat(prefixCls,"-list-item-image")}):iconNode;isImgUrl=(0,_classnames["default"])((_classNames2=
{},(0,_defineProperty2["default"])(_classNames2,"".concat(prefixCls,"-list-item-thumbnail"),!0),(0,_defineProperty2["default"])(_classNames2,"".concat(prefixCls,"-list-item-file"),isImgUrl&&!isImgUrl(file)),_classNames2));iconRender=React.createElement("a",{className:isImgUrl,onClick:function(e){return onPreview(file,e)},href:file.url||file.thumbUrl,target:"_blank",rel:"noopener noreferrer"},iconRender)}_classNames2=(0,_classnames["default"])((_classNames3={},(0,_defineProperty2["default"])(_classNames3,
"".concat(prefixCls,"-list-item"),!0),(0,_defineProperty2["default"])(_classNames3,"".concat(prefixCls,"-list-item-").concat(file.status),!0),(0,_defineProperty2["default"])(_classNames3,"".concat(prefixCls,"-list-item-list-type-").concat(listType),!0),_classNames3));_classNames3="string"===typeof file.linkProps?JSON.parse(file.linkProps):file.linkProps;showRemoveIcon=showRemoveIcon?actionIconRender(("function"===typeof customRemoveIcon?customRemoveIcon(file):customRemoveIcon)||React.createElement(_DeleteOutlined["default"],
null),function(){return onClose(file)},prefixCls,locale.removeFile):null;actionIconRender=showDownloadIcon&&"done"===file.status?actionIconRender(("function"===typeof customDownloadIcon?customDownloadIcon(file):customDownloadIcon)||React.createElement(_DownloadOutlined["default"],null),function(){return onDownload(file)},prefixCls,locale.downloadFile):null;showDownloadIcon="picture-card"!==listType&&React.createElement("span",{key:"download-delete",className:(0,_classnames["default"])("".concat(prefixCls,
"-list-item-card-actions"),{picture:"picture"===listType})},actionIconRender,showRemoveIcon);customDownloadIcon=(0,_classnames["default"])("".concat(prefixCls,"-list-item-name"));showDownloadIcon=file.url?[React.createElement("a",(0,_extends2["default"])({key:"view",target:"_blank",rel:"noopener noreferrer",className:customDownloadIcon,title:file.name},_classNames3,{href:file.url,onClick:function(e){return onPreview(file,e)}}),file.name),showDownloadIcon]:[React.createElement("span",{key:"view",className:customDownloadIcon,
onClick:function(e){return onPreview(file,e)},title:file.name},file.name),showDownloadIcon];customDownloadIcon={pointerEvents:"none",opacity:.5};showPreviewIcon=showPreviewIcon?React.createElement("a",{href:file.url||file.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:file.url||file.thumbUrl?void 0:customDownloadIcon,onClick:function(e){return onPreview(file,e)},title:locale.previewFile},React.createElement(_EyeOutlined["default"],null)):null;showPreviewIcon="picture-card"===listType&&"uploading"!==
file.status&&React.createElement("span",{className:"".concat(prefixCls,"-list-item-actions")},showPreviewIcon,"done"===file.status&&actionIconRender,showRemoveIcon);locale=file.response&&"string"===typeof file.response?file.response:(null===(_a=file.error)||void 0===_a?void 0:_a.statusText)||(null===(_b=file.error)||void 0===_b?void 0:_b.message)||locale.uploadError;_a=React.createElement("span",{className:_React$useState2},iconRender,showDownloadIcon);_b=React.useContext(_configProvider.ConfigContext).getPrefixCls;
_b=_b();_ref=React.createElement("div",{className:_classNames2},React.createElement("div",{className:"".concat(prefixCls,"-list-item-info")},_a),showPreviewIcon,_ref&&React.createElement(_rcMotion["default"],{motionName:"".concat(_b,"-fade"),visible:"uploading"===file.status,motionDeadline:2E3},function(_ref2){_ref2=_ref2.className;var loadingProgress="percent"in file?React.createElement(_progress["default"],(0,_extends2["default"])({},progressProps,{type:"line",percent:file.percent})):null;return React.createElement("div",
{className:(0,_classnames["default"])("".concat(prefixCls,"-list-item-progress"),_ref2)},loadingProgress)}));className=(0,_classnames["default"])("".concat(prefixCls,"-list-").concat(listType,"-container"),className);listType="error"===file.status?React.createElement(_tooltip["default"],{title:locale,getPopupContainer:function(node){return node.parentNode}},_ref):_ref;return React.createElement("div",{className:className,style:style,ref:ref},itemRender?itemRender(listType,file,items):listType)});
exports["default"]=require}
//# sourceMappingURL=module$node_modules$antd$lib$upload$UploadList$ListItem.js.map
