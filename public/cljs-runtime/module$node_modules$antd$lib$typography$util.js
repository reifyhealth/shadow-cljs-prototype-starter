shadow$provide.module$node_modules$antd$lib$typography$util=function(global,require,module,exports){function pxToNumber(value){return value?(value=value.match(/^\d*(\.\d*)?/))?Number(value[0]):0:0}function styleToString(style){return Array.prototype.slice.apply(style).map(function(name){return"".concat(name,": ").concat(style.getPropertyValue(name),";")}).join("")}function mergeChildren(children){var childList=[];children.forEach(function(child){var prevChild=childList[childList.length-1];"string"===
typeof child&&"string"===typeof prevChild?childList[childList.length-1]+=child:childList.push(child)});return childList}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _reactDom=require("module$node_modules$react_dom$index"),React=module(require("module$node_modules$react$index")),_toArray=global(require("module$node_modules$rc_util$lib$Children$toArray")),
ellipsisContainer,wrapperStyle={padding:0,margin:0,display:"inline",lineHeight:"inherit"};exports["default"]=function(originEle,option,content,fixedContent,ellipsisStr){function measureText(textNode,fullText){var startLoc=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,endLoc=3<arguments.length&&void 0!==arguments[3]?arguments[3]:fullText.length,lastSuccessLoc=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,midLoc=Math.floor((startLoc+endLoc)/2),currentText=fullText.slice(0,midLoc);
textNode.textContent=currentText;if(startLoc>=endLoc-1)for(currentText=endLoc;currentText>=startLoc;--currentText){var currentStepText=fullText.slice(0,currentText);textNode.textContent=currentStepText;if(ellipsisContainer.offsetHeight<maxHeight||!currentStepText)return currentText===fullText.length?{finished:!1,reactNode:fullText}:{finished:!0,reactNode:currentStepText}}return ellipsisContainer.offsetHeight<maxHeight?measureText(textNode,fullText,midLoc,endLoc,midLoc):measureText(textNode,fullText,
startLoc,midLoc,lastSuccessLoc)}function measureNode(childNode,index){var type=childNode.nodeType;if(1===type){ellipsisContentHolder.insertBefore(childNode,ellipsisTextNode);if(ellipsisContainer.offsetHeight<maxHeight)return{finished:!1,reactNode:contentList[index]};ellipsisContentHolder.removeChild(childNode);return{finished:!0,reactNode:null}}return 3===type?(childNode=childNode.textContent||"",index=document.createTextNode(childNode),ellipsisContentHolder.insertBefore(index,ellipsisTextNode),measureText(index,
childNode)):{finished:!1,reactNode:null}}ellipsisContainer||(ellipsisContainer=document.createElement("div"),ellipsisContainer.setAttribute("aria-hidden","true"),document.body.appendChild(ellipsisContainer));var rows=option.rows;option=option.suffix;option=void 0===option?"":option;originEle=window.getComputedStyle(originEle);var originCSS=styleToString(originEle),lineHeight=pxToNumber(originEle.lineHeight),maxHeight=Math.round(lineHeight*(rows+1)+pxToNumber(originEle.paddingTop)+pxToNumber(originEle.paddingBottom));
ellipsisContainer.setAttribute("style",originCSS);ellipsisContainer.style.position="fixed";ellipsisContainer.style.left="0";ellipsisContainer.style.height="auto";ellipsisContainer.style.minHeight="auto";ellipsisContainer.style.maxHeight="auto";ellipsisContainer.style.top="-999999px";ellipsisContainer.style.zIndex="-1000";ellipsisContainer.style.textOverflow="clip";ellipsisContainer.style.whiteSpace="normal";ellipsisContainer.style.webkitLineClamp="none";var contentList=mergeChildren((0,_toArray["default"])(content));
(0,_reactDom.render)(React.createElement("div",{style:wrapperStyle},React.createElement("span",{style:wrapperStyle},contentList,option),React.createElement("span",{style:wrapperStyle},fixedContent)),ellipsisContainer);if(ellipsisContainer.offsetHeight<maxHeight)return(0,_reactDom.unmountComponentAtNode)(ellipsisContainer),{content:content,text:ellipsisContainer.innerHTML,ellipsis:!1};content=Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(function(_ref){return 8!==
_ref.nodeType});fixedContent=Array.prototype.slice.apply(ellipsisContainer.childNodes[0].childNodes[1].cloneNode(!0).childNodes);(0,_reactDom.unmountComponentAtNode)(ellipsisContainer);var ellipsisChildren=[];ellipsisContainer.innerHTML="";var ellipsisContentHolder=document.createElement("span");ellipsisContainer.appendChild(ellipsisContentHolder);var ellipsisTextNode=document.createTextNode(ellipsisStr+option);ellipsisContentHolder.appendChild(ellipsisTextNode);fixedContent.forEach(function(childNode){ellipsisContainer.appendChild(childNode)});
content.some(function(childNode,index){index=measureNode(childNode,index);childNode=index.finished;(index=index.reactNode)&&ellipsisChildren.push(index);return childNode});return{content:ellipsisChildren,text:ellipsisContainer.innerHTML,ellipsis:!0}}}
//# sourceMappingURL=module$node_modules$antd$lib$typography$util.js.map
