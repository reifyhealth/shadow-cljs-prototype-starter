{
"version":3,
"file":"module$node_modules$rc_field_form$lib$List.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rc-field-form/lib/List.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_field_form$lib$List\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _FieldContext = _interopRequireDefault(require(\"./FieldContext\"));\n\nvar _Field = _interopRequireDefault(require(\"./Field\"));\n\nvar _valueUtil = require(\"./utils/valueUtil\");\n\nvar List = function List(_ref) {\n  var name = _ref.name,\n      initialValue = _ref.initialValue,\n      children = _ref.children,\n      rules = _ref.rules,\n      validateTrigger = _ref.validateTrigger;\n  var context = React.useContext(_FieldContext.default);\n  var keyRef = React.useRef({\n    keys: [],\n    id: 0\n  });\n  var keyManager = keyRef.current; // User should not pass `children` as other type.\n\n  if (typeof children !== 'function') {\n    (0, _warning.default)(false, 'Form.List only accepts function as children.');\n    return null;\n  }\n\n  var parentPrefixName = (0, _valueUtil.getNamePath)(context.prefixName) || [];\n  var prefixName = [].concat((0, _toConsumableArray2.default)(parentPrefixName), (0, _toConsumableArray2.default)((0, _valueUtil.getNamePath)(name)));\n\n  var shouldUpdate = function shouldUpdate(prevValue, nextValue, _ref2) {\n    var source = _ref2.source;\n\n    if (source === 'internal') {\n      return false;\n    }\n\n    return prevValue !== nextValue;\n  };\n\n  return /*#__PURE__*/React.createElement(_FieldContext.default.Provider, {\n    value: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, context), {}, {\n      prefixName: prefixName\n    })\n  }, /*#__PURE__*/React.createElement(_Field.default, {\n    name: [],\n    shouldUpdate: shouldUpdate,\n    rules: rules,\n    validateTrigger: validateTrigger,\n    initialValue: initialValue,\n    isList: true\n  }, function (_ref3, meta) {\n    var _ref3$value = _ref3.value,\n        value = _ref3$value === void 0 ? [] : _ref3$value,\n        onChange = _ref3.onChange;\n    var getFieldValue = context.getFieldValue;\n\n    var getNewValue = function getNewValue() {\n      var values = getFieldValue(prefixName || []);\n      return values || [];\n    };\n    /**\n     * Always get latest value in case user update fields by `form` api.\n     */\n\n\n    var operations = {\n      add: function add(defaultValue, index) {\n        // Mapping keys\n        var newValue = getNewValue();\n\n        if (index >= 0 && index <= newValue.length) {\n          keyManager.keys = [].concat((0, _toConsumableArray2.default)(keyManager.keys.slice(0, index)), [keyManager.id], (0, _toConsumableArray2.default)(keyManager.keys.slice(index)));\n          onChange([].concat((0, _toConsumableArray2.default)(newValue.slice(0, index)), [defaultValue], (0, _toConsumableArray2.default)(newValue.slice(index))));\n        } else {\n          if (process.env.NODE_ENV !== 'production' && (index < 0 || index > newValue.length)) {\n            (0, _warning.default)(false, 'The second parameter of the add function should be a valid positive number.');\n          }\n\n          keyManager.keys = [].concat((0, _toConsumableArray2.default)(keyManager.keys), [keyManager.id]);\n          onChange([].concat((0, _toConsumableArray2.default)(newValue), [defaultValue]));\n        }\n\n        keyManager.id += 1;\n      },\n      remove: function remove(index) {\n        var newValue = getNewValue();\n        var indexSet = new Set(Array.isArray(index) ? index : [index]);\n\n        if (indexSet.size <= 0) {\n          return;\n        }\n\n        keyManager.keys = keyManager.keys.filter(function (_, keysIndex) {\n          return !indexSet.has(keysIndex);\n        }); // Trigger store change\n\n        onChange(newValue.filter(function (_, valueIndex) {\n          return !indexSet.has(valueIndex);\n        }));\n      },\n      move: function move(from, to) {\n        if (from === to) {\n          return;\n        }\n\n        var newValue = getNewValue(); // Do not handle out of range\n\n        if (from < 0 || from >= newValue.length || to < 0 || to >= newValue.length) {\n          return;\n        }\n\n        keyManager.keys = (0, _valueUtil.move)(keyManager.keys, from, to); // Trigger store change\n\n        onChange((0, _valueUtil.move)(newValue, from, to));\n      }\n    };\n    var listValue = value || [];\n\n    if (!Array.isArray(listValue)) {\n      listValue = [];\n\n      if (process.env.NODE_ENV !== 'production') {\n        (0, _warning.default)(false, \"Current value of '\".concat(prefixName.join(' > '), \"' is not an array type.\"));\n      }\n    }\n\n    return children(listValue.map(function (__, index) {\n      var key = keyManager.keys[index];\n\n      if (key === undefined) {\n        keyManager.keys[index] = keyManager.id;\n        key = keyManager.keys[index];\n        keyManager.id += 1;\n      }\n\n      return {\n        name: index,\n        key: key,\n        isListField: true\n      };\n    }), operations, meta);\n  }));\n};\n\nvar _default = List;\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","default","_objectSpread2","_toConsumableArray2","React","_warning","_FieldContext","_Field","_valueUtil","List","_ref","name","initialValue","children","rules","validateTrigger","context","useContext","keyManager","useRef","keyRef","keys","id","current","parentPrefixName","getNamePath","prefixName","concat","createElement","Provider","shouldUpdate","prevValue","nextValue","_ref2","source","isList","_ref3","meta","_ref3$value","onChange","getFieldValue","listValue","Array","isArray","join","map","__","index","key","undefined","isListField","operations","add","defaultValue","newValue","values","length","slice","remove","indexSet","Set","size","filter","_","keysIndex","has","valueIndex","move","from","to"]
}
