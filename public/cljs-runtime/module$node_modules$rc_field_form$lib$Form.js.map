{
"version":3,
"file":"module$node_modules$rc_field_form$lib$Form.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/rc-field-form/lib/Form.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_field_form$lib$Form\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _useForm3 = _interopRequireDefault(require(\"./useForm\"));\n\nvar _FieldContext = _interopRequireWildcard(require(\"./FieldContext\"));\n\nvar _FormContext = _interopRequireDefault(require(\"./FormContext\"));\n\nvar _valueUtil = require(\"./utils/valueUtil\");\n\nvar Form = function Form(_ref, ref) {\n  var name = _ref.name,\n      initialValues = _ref.initialValues,\n      fields = _ref.fields,\n      form = _ref.form,\n      preserve = _ref.preserve,\n      children = _ref.children,\n      _ref$component = _ref.component,\n      Component = _ref$component === void 0 ? 'form' : _ref$component,\n      validateMessages = _ref.validateMessages,\n      _ref$validateTrigger = _ref.validateTrigger,\n      validateTrigger = _ref$validateTrigger === void 0 ? 'onChange' : _ref$validateTrigger,\n      onValuesChange = _ref.onValuesChange,\n      _onFieldsChange = _ref.onFieldsChange,\n      _onFinish = _ref.onFinish,\n      onFinishFailed = _ref.onFinishFailed,\n      restProps = (0, _objectWithoutProperties2.default)(_ref, [\"name\", \"initialValues\", \"fields\", \"form\", \"preserve\", \"children\", \"component\", \"validateMessages\", \"validateTrigger\", \"onValuesChange\", \"onFieldsChange\", \"onFinish\", \"onFinishFailed\"]);\n  var formContext = React.useContext(_FormContext.default); // We customize handle event since Context will makes all the consumer re-render:\n  // https://reactjs.org/docs/context.html#contextprovider\n\n  var _useForm = (0, _useForm3.default)(form),\n      _useForm2 = (0, _slicedToArray2.default)(_useForm, 1),\n      formInstance = _useForm2[0];\n\n  var _formInstance$getInte = formInstance.getInternalHooks(_FieldContext.HOOK_MARK),\n      useSubscribe = _formInstance$getInte.useSubscribe,\n      setInitialValues = _formInstance$getInte.setInitialValues,\n      setCallbacks = _formInstance$getInte.setCallbacks,\n      setValidateMessages = _formInstance$getInte.setValidateMessages,\n      setPreserve = _formInstance$getInte.setPreserve; // Pass ref with form instance\n\n\n  React.useImperativeHandle(ref, function () {\n    return formInstance;\n  }); // Register form into Context\n\n  React.useEffect(function () {\n    formContext.registerForm(name, formInstance);\n    return function () {\n      formContext.unregisterForm(name);\n    };\n  }, [formContext, formInstance, name]); // Pass props to store\n\n  setValidateMessages((0, _objectSpread2.default)((0, _objectSpread2.default)({}, formContext.validateMessages), validateMessages));\n  setCallbacks({\n    onValuesChange: onValuesChange,\n    onFieldsChange: function onFieldsChange(changedFields) {\n      formContext.triggerFormChange(name, changedFields);\n\n      if (_onFieldsChange) {\n        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        _onFieldsChange.apply(void 0, [changedFields].concat(rest));\n      }\n    },\n    onFinish: function onFinish(values) {\n      formContext.triggerFormFinish(name, values);\n\n      if (_onFinish) {\n        _onFinish(values);\n      }\n    },\n    onFinishFailed: onFinishFailed\n  });\n  setPreserve(preserve); // Set initial value, init store value when first mount\n\n  var mountRef = React.useRef(null);\n  setInitialValues(initialValues, !mountRef.current);\n\n  if (!mountRef.current) {\n    mountRef.current = true;\n  } // Prepare children by `children` type\n\n\n  var childrenNode = children;\n  var childrenRenderProps = typeof children === 'function';\n\n  if (childrenRenderProps) {\n    var values = formInstance.getFieldsValue(true);\n    childrenNode = children(values, formInstance);\n  } // Not use subscribe when using render props\n\n\n  useSubscribe(!childrenRenderProps); // Listen if fields provided. We use ref to save prev data here to avoid additional render\n\n  var prevFieldsRef = React.useRef();\n  React.useEffect(function () {\n    if (!(0, _valueUtil.isSimilar)(prevFieldsRef.current || [], fields || [])) {\n      formInstance.setFields(fields || []);\n    }\n\n    prevFieldsRef.current = fields;\n  }, [fields, formInstance]);\n  var formContextValue = React.useMemo(function () {\n    return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, formInstance), {}, {\n      validateTrigger: validateTrigger\n    });\n  }, [formInstance, validateTrigger]);\n  var wrapperNode = /*#__PURE__*/React.createElement(_FieldContext.default.Provider, {\n    value: formContextValue\n  }, childrenNode);\n\n  if (Component === false) {\n    return wrapperNode;\n  }\n\n  return /*#__PURE__*/React.createElement(Component, (0, _extends2.default)({}, restProps, {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      formInstance.submit();\n    },\n    onReset: function onReset(event) {\n      var _restProps$onReset;\n\n      event.preventDefault();\n      formInstance.resetFields();\n      (_restProps$onReset = restProps.onReset) === null || _restProps$onReset === void 0 ? void 0 : _restProps$onReset.call(restProps, event);\n    }\n  }), wrapperNode);\n};\n\nvar _default = Form;\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","default","_extends2","_objectSpread2","_slicedToArray2","_objectWithoutProperties2","React","_useForm3","_FieldContext","_FormContext","_valueUtil","Form","_ref","ref","name","initialValues","fields","form","preserve","children","_ref$component","component","Component","validateMessages","_ref$validateTrigger","validateTrigger","onValuesChange","_onFieldsChange","onFieldsChange","_onFinish","onFinish","onFinishFailed","restProps","formContext","useContext","_useForm","formInstance","_useForm2","_formInstance$getInte","getInternalHooks","HOOK_MARK","useSubscribe","setInitialValues","setCallbacks","setValidateMessages","setPreserve","useImperativeHandle","useEffect","registerForm","unregisterForm","changedFields","triggerFormChange","_len","arguments","length","rest","Array","_key","apply","concat","values","triggerFormFinish","mountRef","useRef","current","childrenNode","childrenRenderProps","getFieldsValue","prevFieldsRef","isSimilar","setFields","formContextValue","useMemo","wrapperNode","createElement","Provider","onSubmit","event","preventDefault","stopPropagation","submit","onReset","_restProps$onReset","resetFields","call"]
}
