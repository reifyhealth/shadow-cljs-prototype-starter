shadow$provide.module$node_modules$antd$lib$table$hooks$useSorter=function(global,require,module,exports){function getMultiplePriority(column){return"object"===(0,_typeof2["default"])(column.sorter)&&"number"===typeof column.sorter.multiple?column.sorter.multiple:!1}function getSortFunction(sorter){return"function"===typeof sorter?sorter:sorter&&"object"===(0,_typeof2["default"])(sorter)&&sorter.compare?sorter.compare:!1}function collectSortStates(columns,init,pos){function pushState(column,columnPos){sortStates.push({column:column,
key:(0,_util.getColumnKey)(column,columnPos),multiplePriority:getMultiplePriority(column),sortOrder:column.sortOrder})}var sortStates=[];(columns||[]).forEach(function(column,index){index=(0,_util.getColumnPos)(index,pos);column.children?("sortOrder"in column&&pushState(column,index),sortStates=[].concat((0,_toConsumableArray2["default"])(sortStates),(0,_toConsumableArray2["default"])(collectSortStates(column.children,init,index)))):column.sorter&&("sortOrder"in column?pushState(column,index):init&&
column.defaultSortOrder&&sortStates.push({column:column,key:(0,_util.getColumnKey)(column,index),multiplePriority:getMultiplePriority(column),sortOrder:column.defaultSortOrder}))});return sortStates}function injectSorter(prefixCls,columns,sorterSates,triggerSorter,defaultSortDirections,tableLocale,tableShowSorterTooltip,pos){return(columns||[]).map(function(column,index){index=(0,_util.getColumnPos)(index,pos);var newColumn=column;if(newColumn.sorter){var sortDirections=newColumn.sortDirections||
defaultSortDirections,showSorterTooltip=void 0===newColumn.showSorterTooltip?tableShowSorterTooltip:newColumn.showSorterTooltip,columnKey=(0,_util.getColumnKey)(newColumn,index),sorterState=sorterSates.find(function(_ref){return _ref.key===columnKey});sorterState=sorterState?sorterState.sortOrder:null;var nextSortOrder=sorterState?sortDirections[sortDirections.indexOf(sorterState)+1]:sortDirections[0];var upNode=sortDirections.includes(ASCEND)&&React.createElement(_CaretUpOutlined["default"],{className:(0,
_classnames["default"])("".concat(prefixCls,"-column-sorter-up"),{active:sorterState===ASCEND})}),downNode=sortDirections.includes(DESCEND)&&React.createElement(_CaretDownOutlined["default"],{className:(0,_classnames["default"])("".concat(prefixCls,"-column-sorter-down"),{active:sorterState===DESCEND})}),_ref2=tableLocale||{};sortDirections=_ref2.triggerAsc;var triggerDesc=_ref2.triggerDesc;_ref2=_ref2.cancelSort;nextSortOrder===DESCEND?_ref2=triggerDesc:nextSortOrder===ASCEND&&(_ref2=sortDirections);
var tooltipProps="object"===(0,_typeof2["default"])(showSorterTooltip)?showSorterTooltip:{title:_ref2};newColumn=(0,_extends3["default"])((0,_extends3["default"])({},newColumn),{className:(0,_classnames["default"])(newColumn.className,(0,_defineProperty2["default"])({},"".concat(prefixCls,"-column-sort"),sorterState)),title:function(renderProps){renderProps=React.createElement("div",{className:"".concat(prefixCls,"-column-sorters")},React.createElement("span",null,(0,_util.renderColumnTitle)(column.title,
renderProps)),React.createElement("span",{className:(0,_classnames["default"])("".concat(prefixCls,"-column-sorter"),(0,_defineProperty2["default"])({},"".concat(prefixCls,"-column-sorter-full"),upNode&&downNode))},React.createElement("span",{className:"".concat(prefixCls,"-column-sorter-inner")},upNode,downNode)));return showSorterTooltip?React.createElement(_tooltip["default"],tooltipProps,React.createElement("div",{className:"".concat(prefixCls,"-column-sorters-with-tooltip")},renderProps)):renderProps},
onHeaderCell:function(col){col=column.onHeaderCell&&column.onHeaderCell(col)||{};var originOnClick=col.onClick;col.onClick=function(event){triggerSorter({column:column,key:columnKey,sortOrder:nextSortOrder,multiplePriority:getMultiplePriority(column)});originOnClick&&originOnClick(event)};col.className=(0,_classnames["default"])(col.className,"".concat(prefixCls,"-column-has-sorters"));return col}})}"children"in newColumn&&(newColumn=(0,_extends3["default"])((0,_extends3["default"])({},newColumn),
{children:injectSorter(prefixCls,newColumn.children,sorterSates,triggerSorter,defaultSortDirections,tableLocale,tableShowSorterTooltip,index)}));return newColumn})}function stateToInfo(sorterStates){var column=sorterStates.column;return{column:column,order:sorterStates.sortOrder,field:column.dataIndex,columnKey:column.key}}function generateSorterInfo(sorterStates){var list=sorterStates.filter(function(_ref3){return _ref3.sortOrder}).map(stateToInfo);return 0===list.length&&sorterStates.length?(0,
_extends3["default"])((0,_extends3["default"])({},stateToInfo(sorterStates[sorterStates.length-1])),{column:void 0}):1>=list.length?list[0]||{}:list}function getSortData(data,sortStates,childrenColumnName){var innerSorterStates=sortStates.slice().sort(function(a,b){return b.multiplePriority-a.multiplePriority});data=data.slice();var runningSorters=innerSorterStates.filter(function(_ref4){var sortOrder=_ref4.sortOrder;return getSortFunction(_ref4.column.sorter)&&sortOrder});return runningSorters.length?
data.sort(function(record1,record2){for(var i=0;i<runningSorters.length;i+=1){var sorterState=runningSorters[i],sortOrder=sorterState.sortOrder;if((sorterState=getSortFunction(sorterState.column.sorter))&&sortOrder&&(sorterState=sorterState(record1,record2,sortOrder),0!==sorterState))return sortOrder===ASCEND?sorterState:-sorterState}return 0}).map(function(record){var subRecords=record[childrenColumnName];return subRecords?(0,_extends3["default"])((0,_extends3["default"])({},record),(0,_defineProperty2["default"])({},
childrenColumnName,getSortData(subRecords,sortStates,childrenColumnName))):record}):data}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.getSortData=getSortData;exports["default"]=function(_ref5){function triggerSorter(sortState){var newSorterStates=!1!==sortState.multiplePriority&&mergedSorterStates.length&&!1!==mergedSorterStates[0].multiplePriority?
[].concat((0,_toConsumableArray2["default"])(mergedSorterStates.filter(function(_ref7){return _ref7.key!==sortState.key})),[sortState]):[sortState];setSortStates(newSorterStates);onSorterChange(generateSorterInfo(newSorterStates),newSorterStates)}var prefixCls=_ref5.prefixCls,mergedColumns=_ref5.mergedColumns,onSorterChange=_ref5.onSorterChange,sortDirections=_ref5.sortDirections,tableLocale=_ref5.tableLocale,showSorterTooltip=_ref5.showSorterTooltip;_ref5=React.useState(collectSortStates(mergedColumns,
!0));_ref5=(0,_slicedToArray2["default"])(_ref5,2);var sortStates=_ref5[0],setSortStates=_ref5[1],mergedSorterStates=React.useMemo(function(){function patchStates(state){validate?validateStates.push(state):validateStates.push((0,_extends3["default"])((0,_extends3["default"])({},state),{sortOrder:null}))}var validate=!0,collectedStates=collectSortStates(mergedColumns,!1);if(!collectedStates.length)return sortStates;var validateStates=[],multipleMode=null;collectedStates.forEach(function(state){null===
multipleMode?(patchStates(state),state.sortOrder&&(!1===state.multiplePriority?validate=!1:multipleMode=!0)):(multipleMode&&!1!==state.multiplePriority||(validate=!1),patchStates(state))});return validateStates},[mergedColumns,sortStates]);_ref5=React.useMemo(function(){var sortColumns=mergedSorterStates.map(function(_ref6){return{column:_ref6.column,order:_ref6.sortOrder}});return{sortColumns:sortColumns,sortColumn:sortColumns[0]&&sortColumns[0].column,sortOrder:sortColumns[0]&&sortColumns[0].order}},
[mergedSorterStates]);return[function(innerColumns){return injectSorter(prefixCls,innerColumns,mergedSorterStates,triggerSorter,sortDirections,tableLocale,showSorterTooltip)},mergedSorterStates,_ref5,function(){return generateSorterInfo(mergedSorterStates)}]};var _slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_extends3=module(require("module$node_modules$$babel$runtime$helpers$extends")),
_toConsumableArray2=module(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_typeof2=module(require("module$node_modules$$babel$runtime$helpers$typeof")),React=global(require("module$node_modules$react$index")),_classnames=module(require("module$node_modules$classnames$index")),_CaretDownOutlined=module(require("module$node_modules$$ant_design$icons$CaretDownOutlined")),_CaretUpOutlined=module(require("module$node_modules$$ant_design$icons$CaretUpOutlined")),_tooltip=module(require("module$node_modules$antd$lib$tooltip$index")),
_util=require("module$node_modules$antd$lib$table$util"),ASCEND="ascend",DESCEND="descend"}
//# sourceMappingURL=module$node_modules$antd$lib$table$hooks$useSorter.js.map
