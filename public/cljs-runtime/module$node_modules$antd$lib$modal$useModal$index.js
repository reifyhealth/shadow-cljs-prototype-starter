shadow$provide.module$node_modules$antd$lib$modal$useModal$index=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=function(){var holderRef=React.useRef(null),_React$useState=React.useState([]);_React$useState=(0,_slicedToArray2["default"])(_React$useState,2);var actionQueue=
_React$useState[0],setActionQueue=_React$useState[1];React.useEffect(function(){actionQueue.length&&((0,_toConsumableArray2["default"])(actionQueue).forEach(function(action){action()}),setActionQueue([]))},[actionQueue]);var getConfirmFunc=React.useCallback(function(withFunc){return function(config){var _a$jscomp$0;uuid+=1;var modalRef=React.createRef();config=React.createElement(_HookModal["default"],{key:"modal-".concat(uuid),config:withFunc(config),ref:modalRef,afterClose:function(){closeFunc()}});
var closeFunc=null===(_a$jscomp$0=holderRef.current)||void 0===_a$jscomp$0?void 0:_a$jscomp$0.patchElement(config);return{destroy:function(){function destroyAction(){var _a;null===(_a=modalRef.current)||void 0===_a?void 0:_a.destroy()}modalRef.current?destroyAction():setActionQueue(function(prev){return[].concat((0,_toConsumableArray2["default"])(prev),[destroyAction])})},update:function(newConfig){function updateAction(){var _a;null===(_a=modalRef.current)||void 0===_a?void 0:_a.update(newConfig)}
modalRef.current?updateAction():setActionQueue(function(prev){return[].concat((0,_toConsumableArray2["default"])(prev),[updateAction])})}}}},[]);return[React.useMemo(function(){return{info:getConfirmFunc(_confirm.withInfo),success:getConfirmFunc(_confirm.withSuccess),error:getConfirmFunc(_confirm.withError),warning:getConfirmFunc(_confirm.withWarn),confirm:getConfirmFunc(_confirm.withConfirm)}},[]),React.createElement(ElementsHolder,{ref:holderRef})]};var _toConsumableArray2=module(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),
_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_usePatchElement3=module(require("module$node_modules$antd$lib$_util$hooks$usePatchElement")),_HookModal=module(require("module$node_modules$antd$lib$modal$useModal$HookModal")),_confirm=require("module$node_modules$antd$lib$modal$confirm"),uuid=0,ElementsHolder=React.memo(React.forwardRef(function(_props,ref){_props=(0,_usePatchElement3["default"])();
_props=(0,_slicedToArray2["default"])(_props,2);var elements=_props[0],patchElement=_props[1];React.useImperativeHandle(ref,function(){return{patchElement:patchElement}},[]);return React.createElement(React.Fragment,null,elements)}))}
//# sourceMappingURL=module$node_modules$antd$lib$modal$useModal$index.js.map
