{
"version":3,
"file":"module$node_modules$rc_tabs$lib$hooks$useTouchMove.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/rc-tabs/lib/hooks/useTouchMove.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_tabs$lib$hooks$useTouchMove\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useTouchMove;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar MIN_SWIPE_DISTANCE = 0.1;\nvar STOP_SWIPE_DISTANCE = 0.01;\nvar REFRESH_INTERVAL = 20;\nvar SPEED_OFF_MULTIPLE = Math.pow(0.995, REFRESH_INTERVAL); // ================================= Hook =================================\n\nfunction useTouchMove(ref, onOffset) {\n  var _useState = (0, React.useState)(),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      touchPosition = _useState2[0],\n      setTouchPosition = _useState2[1];\n\n  var _useState3 = (0, React.useState)(0),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      lastTimestamp = _useState4[0],\n      setLastTimestamp = _useState4[1];\n\n  var _useState5 = (0, React.useState)(0),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      lastTimeDiff = _useState6[0],\n      setLastTimeDiff = _useState6[1];\n\n  var _useState7 = (0, React.useState)(),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      lastOffset = _useState8[0],\n      setLastOffset = _useState8[1];\n\n  var motionRef = (0, React.useRef)(); // ========================= Events =========================\n  // >>> Touch events\n\n  function onTouchStart(e) {\n    var _e$touches$ = e.touches[0],\n        screenX = _e$touches$.screenX,\n        screenY = _e$touches$.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    window.clearInterval(motionRef.current);\n  }\n\n  function onTouchMove(e) {\n    if (!touchPosition) return;\n    e.preventDefault();\n    var _e$touches$2 = e.touches[0],\n        screenX = _e$touches$2.screenX,\n        screenY = _e$touches$2.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    var offsetX = screenX - touchPosition.x;\n    var offsetY = screenY - touchPosition.y;\n    onOffset(offsetX, offsetY);\n    var now = Date.now();\n    setLastTimestamp(now);\n    setLastTimeDiff(now - lastTimestamp);\n    setLastOffset({\n      x: offsetX,\n      y: offsetY\n    });\n  }\n\n  function onTouchEnd() {\n    if (!touchPosition) return;\n    setTouchPosition(null);\n    setLastOffset(null); // Swipe if needed\n\n    if (lastOffset) {\n      var distanceX = lastOffset.x / lastTimeDiff;\n      var distanceY = lastOffset.y / lastTimeDiff;\n      var absX = Math.abs(distanceX);\n      var absY = Math.abs(distanceY); // Skip swipe if low distance\n\n      if (Math.max(absX, absY) < MIN_SWIPE_DISTANCE) return;\n      var currentX = distanceX;\n      var currentY = distanceY;\n      motionRef.current = window.setInterval(function () {\n        if (Math.abs(currentX) < STOP_SWIPE_DISTANCE && Math.abs(currentY) < STOP_SWIPE_DISTANCE) {\n          window.clearInterval(motionRef.current);\n          return;\n        }\n\n        currentX *= SPEED_OFF_MULTIPLE;\n        currentY *= SPEED_OFF_MULTIPLE;\n        onOffset(currentX * REFRESH_INTERVAL, currentY * REFRESH_INTERVAL);\n      }, REFRESH_INTERVAL);\n    }\n  } // >>> Wheel event\n\n\n  var lastWheelDirectionRef = (0, React.useRef)();\n\n  function onWheel(e) {\n    var deltaX = e.deltaX,\n        deltaY = e.deltaY; // Convert both to x & y since wheel only happened on PC\n\n    var mixed = 0;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n\n    if (absX === absY) {\n      mixed = lastWheelDirectionRef.current === 'x' ? deltaX : deltaY;\n    } else if (absX > absY) {\n      mixed = deltaX;\n      lastWheelDirectionRef.current = 'x';\n    } else {\n      mixed = deltaY;\n      lastWheelDirectionRef.current = 'y';\n    }\n\n    if (onOffset(-mixed, -mixed)) {\n      e.preventDefault();\n    }\n  } // ========================= Effect =========================\n\n\n  var touchEventsRef = (0, React.useRef)(null);\n  touchEventsRef.current = {\n    onTouchStart: onTouchStart,\n    onTouchMove: onTouchMove,\n    onTouchEnd: onTouchEnd,\n    onWheel: onWheel\n  };\n  React.useEffect(function () {\n    function onProxyTouchStart(e) {\n      touchEventsRef.current.onTouchStart(e);\n    }\n\n    function onProxyTouchMove(e) {\n      touchEventsRef.current.onTouchMove(e);\n    }\n\n    function onProxyTouchEnd(e) {\n      touchEventsRef.current.onTouchEnd(e);\n    }\n\n    function onProxyWheel(e) {\n      touchEventsRef.current.onWheel(e);\n    }\n\n    document.addEventListener('touchmove', onProxyTouchMove, {\n      passive: false\n    });\n    document.addEventListener('touchend', onProxyTouchEnd, {\n      passive: false\n    }); // No need to clean up since element removed\n\n    ref.current.addEventListener('touchstart', onProxyTouchStart, {\n      passive: false\n    });\n    ref.current.addEventListener('wheel', onProxyWheel);\n    return function () {\n      document.removeEventListener('touchmove', onProxyTouchMove);\n      document.removeEventListener('touchend', onProxyTouchEnd);\n    };\n  }, []);\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","default","useTouchMove","ref","onOffset","_useState","React","useState","_useState2","_slicedToArray2","touchPosition","setTouchPosition","_useState3","_useState4","lastTimestamp","setLastTimestamp","_useState5","_useState6","lastTimeDiff","setLastTimeDiff","_useState7","_useState8","lastOffset","setLastOffset","motionRef","useRef","lastWheelDirectionRef","touchEventsRef","current","onTouchStart","e","_e$touches$","touches","x","screenX","y","screenY","window","clearInterval","onTouchMove","preventDefault","_e$touches$2","offsetX","offsetY","now","Date","onTouchEnd","distanceX","distanceY","Math","max","abs","absX","absY","MIN_SWIPE_DISTANCE","currentX","currentY","setInterval","STOP_SWIPE_DISTANCE","SPEED_OFF_MULTIPLE","REFRESH_INTERVAL","onWheel","deltaX","deltaY","mixed","useEffect","onProxyTouchMove","onProxyTouchEnd","document","addEventListener","passive","onProxyTouchStart","onProxyWheel","removeEventListener","pow"]
}
