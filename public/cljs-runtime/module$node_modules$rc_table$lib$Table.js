shadow$provide.module$node_modules$rc_table$lib$Table=function(global,require,module,exports){function Table(props){function forceScroll(scrollLeft,target){target&&("function"===typeof target?target(scrollLeft):target.scrollLeft!==scrollLeft&&(target.scrollLeft=scrollLeft))}var _classNames,prefixCls=props.prefixCls,className=props.className,rowClassName=props.rowClassName,style=props.style,rowKey=props.rowKey,scroll=props.scroll,tableLayout=props.tableLayout,direction=props.direction,title=props.title,
footer=props.footer,summary=props.summary,id=props.id,showHeader=props.showHeader,components=props.components,emptyText=props.emptyText,onRow=props.onRow,onHeaderRow=props.onHeaderRow,internalHooks=props.internalHooks,transformColumns=props.transformColumns,internalRefs=props.internalRefs,sticky=props.sticky,mergedData=props.data||EMPTY_DATA,hasData=!!mergedData.length,_React$useState=React.useState(0),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),scrollbarSize=_React$useState2[0],
setScrollbarSize=_React$useState2[1];React.useEffect(function(){setScrollbarSize((0,_getScrollBarSize.default)())});["onRowClick","onRowDoubleClick","onRowContextMenu","onRowMouseEnter","onRowMouseLeave"].forEach(function(name){(0,_warning.default)(void 0===props[name],"`".concat(name,"` is removed, please use `onRow` instead."))});(0,_warning.default)(!("getBodyWrapper"in props),"`getBodyWrapper` is deprecated, please use custom `components` instead.");var mergedComponents=React.useMemo(function(){return(0,
_valueUtil.mergeObject)(components,{})},[components]),getComponent=React.useCallback(function(path,defaultComponent){return(0,_valueUtil.getPathValue)(mergedComponents,path)||defaultComponent},[mergedComponents]),getRowKey=React.useMemo(function(){return"function"===typeof rowKey?rowKey:function(record){record=record&&record[rowKey];(0,_warning.default)(void 0!==record,"Each record in table should have a unique `key` prop, or set `rowKey` to an unique primary key.");return record}},[rowKey]),expandableConfig=
(0,_legacyUtil.getExpandableProps)(props),expandedRowKeys=expandableConfig.expandedRowKeys,defaultExpandedRowKeys=expandableConfig.defaultExpandedRowKeys,defaultExpandAllRows=expandableConfig.defaultExpandAllRows,expandedRowRender=expandableConfig.expandedRowRender,onExpand=expandableConfig.onExpand,onExpandedRowsChange=expandableConfig.onExpandedRowsChange,expandRowByClick=expandableConfig.expandRowByClick,rowExpandable=expandableConfig.rowExpandable,expandIconColumnIndex=expandableConfig.expandIconColumnIndex,
expandedRowClassName=expandableConfig.expandedRowClassName,indentSize=expandableConfig.indentSize,mergedExpandIcon=expandableConfig.expandIcon||_expandUtil.renderExpandIcon,mergedChildrenColumnName=expandableConfig.childrenColumnName||"children",expandableType=React.useMemo(function(){return expandedRowRender?"row":props.expandable&&"rc-table-internal-hook"===internalHooks&&props.expandable.__PARENT_RENDER_ICON__||mergedData.some(function(record){return record&&"object"===(0,_typeof2.default)(record)&&
record[mergedChildrenColumnName]})?"nest":!1},[!!expandedRowRender,mergedData]),_React$useState3=React.useState(function(){return defaultExpandedRowKeys?defaultExpandedRowKeys:defaultExpandAllRows?(0,_expandUtil.findAllChildrenKeys)(mergedData,getRowKey,mergedChildrenColumnName):[]}),_React$useState4=(0,_slicedToArray2.default)(_React$useState3,2),innerExpandedKeys=_React$useState4[0],setInnerExpandedKeys=_React$useState4[1],mergedExpandedKeys=React.useMemo(function(){return new Set(expandedRowKeys||
innerExpandedKeys||[])},[expandedRowKeys,innerExpandedKeys]),onTriggerExpand=React.useCallback(function(record){var key=getRowKey(record,mergedData.indexOf(record)),hasKey=mergedExpandedKeys.has(key);hasKey?(mergedExpandedKeys.delete(key),key=(0,_toConsumableArray2.default)(mergedExpandedKeys)):key=[].concat((0,_toConsumableArray2.default)(mergedExpandedKeys),[key]);setInnerExpandedKeys(key);onExpand&&onExpand(!hasKey,record);onExpandedRowsChange&&onExpandedRowsChange(key)},[getRowKey,mergedExpandedKeys,
mergedData,onExpand,onExpandedRowsChange]),_React$useState5=React.useState(0),_React$useState6=(0,_slicedToArray2.default)(_React$useState5,2),componentWidth=_React$useState6[0],setComponentWidth=_React$useState6[1],_useColumns=(0,_useColumns3.default)((0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({},props),expandableConfig),{},{expandable:!!expandedRowRender,expandedKeys:mergedExpandedKeys,getRowKey:getRowKey,onTriggerExpand:onTriggerExpand,expandIcon:mergedExpandIcon,
expandIconColumnIndex:expandIconColumnIndex,direction:direction}),"rc-table-internal-hook"===internalHooks?transformColumns:null),_useColumns2=(0,_slicedToArray2.default)(_useColumns,2),columns=_useColumns2[0],flattenColumns=_useColumns2[1],columnContext=React.useMemo(function(){return{columns:columns,flattenColumns:flattenColumns}},[columns,flattenColumns]),fullTableRef=React.useRef(),scrollHeaderRef=React.useRef(),scrollBodyRef=React.useRef(),_React$useState7=React.useState(!1),_React$useState8=
(0,_slicedToArray2.default)(_React$useState7,2),pingedLeft=_React$useState8[0],setPingedLeft=_React$useState8[1],_React$useState9=React.useState(!1),_React$useState10=(0,_slicedToArray2.default)(_React$useState9,2),pingedRight=_React$useState10[0],setPingedRight=_React$useState10[1],_useLayoutState=(0,_useFrame.useLayoutState)(new Map),_useLayoutState2=(0,_slicedToArray2.default)(_useLayoutState,2),colsWidths=_useLayoutState2[0],updateColsWidths=_useLayoutState2[1],pureColWidths=(0,_valueUtil.getColumnsKey)(flattenColumns).map(function(columnKey){return colsWidths.get(columnKey)}),
colWidths=React.useMemo(function(){return pureColWidths},[pureColWidths.join("_")]),stickyOffsets=(0,_useStickyOffsets.default)(colWidths,flattenColumns.length,direction),fixHeader=scroll&&(0,_valueUtil.validateValue)(scroll.y),horizonScroll=scroll&&(0,_valueUtil.validateValue)(scroll.x),fixColumn=horizonScroll&&flattenColumns.some(function(_ref2){return _ref2.fixed}),stickyRef=React.useRef(),_useSticky=(0,_useSticky2.default)(sticky,prefixCls),isSticky=_useSticky.isSticky,offsetHeader=_useSticky.offsetHeader,
offsetScroll=_useSticky.offsetScroll,stickyClassName=_useSticky.stickyClassName,container=_useSticky.container,scrollYStyle;fixHeader&&(scrollYStyle={overflowY:"scroll",maxHeight:scroll.y});if(horizonScroll){var scrollXStyle={overflowX:"auto"};fixHeader||(scrollYStyle={overflowY:"hidden"});var scrollTableStyle={width:!0===scroll.x?"auto":scroll.x,minWidth:"100%"}}var onColumnResize=React.useCallback(function(columnKey,width){(0,_isVisible.default)(fullTableRef.current)&&updateColsWidths(function(widths){return widths.get(columnKey)!==
width?(widths=new Map(widths),widths.set(columnKey,width),widths):widths})},[]),_useTimeoutLock=(0,_useFrame.useTimeoutLock)(null),_useTimeoutLock2=(0,_slicedToArray2.default)(_useTimeoutLock,2),setScrollTarget=_useTimeoutLock2[0],getScrollTarget=_useTimeoutLock2[1],onScroll=function(_ref3){var currentTarget=_ref3.currentTarget,scrollLeft=_ref3.scrollLeft;_ref3="rtl"===direction;scrollLeft="number"===typeof scrollLeft?scrollLeft:currentTarget.scrollLeft;var compareTarget=currentTarget||EMPTY_SCROLL_TARGET;
if(!getScrollTarget()||getScrollTarget()===compareTarget){var _stickyRef$current;setScrollTarget(compareTarget);forceScroll(scrollLeft,scrollHeaderRef.current);forceScroll(scrollLeft,scrollBodyRef.current);forceScroll(scrollLeft,null===(_stickyRef$current=stickyRef.current)||void 0===_stickyRef$current?void 0:_stickyRef$current.setScrollLeft)}currentTarget&&(_stickyRef$current=currentTarget.scrollWidth,currentTarget=currentTarget.clientWidth,_ref3?(setPingedLeft(-scrollLeft<_stickyRef$current-currentTarget),
setPingedRight(0<-scrollLeft)):(setPingedLeft(0<scrollLeft),setPingedRight(scrollLeft<_stickyRef$current-currentTarget)))},triggerOnScroll=function(){scrollBodyRef.current&&onScroll({currentTarget:scrollBodyRef.current})},onFullTableResize=function(_ref4){_ref4=_ref4.width;triggerOnScroll();setComponentWidth(fullTableRef.current?fullTableRef.current.offsetWidth:_ref4)};React.useEffect(function(){return triggerOnScroll},[]);React.useEffect(function(){horizonScroll&&triggerOnScroll()},[horizonScroll]);
React.useEffect(function(){"rc-table-internal-hook"===internalHooks&&internalRefs&&(internalRefs.body.current=scrollBodyRef.current)});var TableComponent=getComponent(["table"],"table"),mergedTableLayout=React.useMemo(function(){return tableLayout?tableLayout:fixColumn?"max-content"===scroll.x?"auto":"fixed":fixHeader||isSticky||flattenColumns.some(function(_ref5){return _ref5.ellipsis})?"fixed":"auto"},[fixHeader,fixColumn,flattenColumns,tableLayout,isSticky]),headerProps={colWidths:colWidths,columCount:flattenColumns.length,
stickyOffsets:stickyOffsets,onHeaderRow:onHeaderRow,fixHeader:fixHeader,scroll:scroll},emptyNode=React.useMemo(function(){return hasData?null:"function"===typeof emptyText?emptyText():emptyText},[hasData,emptyText]),bodyTable=React.createElement(_Body.default,{data:mergedData,measureColumnWidth:fixHeader||horizonScroll||isSticky,expandedKeys:mergedExpandedKeys,rowExpandable:rowExpandable,getRowKey:getRowKey,onRow:onRow,emptyNode:emptyNode,childrenColumnName:mergedChildrenColumnName}),bodyColGroup=
React.createElement(_ColGroup.default,{colWidths:flattenColumns.map(function(_ref6){return _ref6.width}),columns:flattenColumns}),footerTable=summary&&React.createElement(_Footer.default,null,summary(mergedData)),customizeScrollBody=getComponent(["body"]);"function"===typeof customizeScrollBody&&hasData&&!fixHeader&&(0,_warning.default)(!1,"`components.body` with render props is only work on `scroll.y`.");if(fixHeader||isSticky){if("function"===typeof customizeScrollBody){var bodyContent=customizeScrollBody(mergedData,
{scrollbarSize:scrollbarSize,ref:scrollBodyRef,onScroll:onScroll});headerProps.colWidths=flattenColumns.map(function(_ref7,index){_ref7=_ref7.width;index=index===columns.length-1?_ref7-scrollbarSize:_ref7;if("number"===typeof index&&!Number.isNaN(index))return index;(0,_warning.default)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value.");return 0})}else bodyContent=React.createElement("div",{style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},
scrollXStyle),scrollYStyle),onScroll:onScroll,ref:scrollBodyRef,className:(0,_classnames.default)("".concat(prefixCls,"-body"))},React.createElement(TableComponent,{style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},scrollTableStyle),{},{tableLayout:mergedTableLayout})},bodyColGroup,bodyTable,footerTable));var groupTableNode=React.createElement(React.Fragment,null,!1!==showHeader&&React.createElement(_FixedHeader.default,(0,_extends2.default)({noData:!mergedData.length,maxContentScroll:horizonScroll&&
"max-content"===scroll.x},headerProps,columnContext,{direction:direction,offsetHeader:offsetHeader,stickyClassName:stickyClassName,ref:scrollHeaderRef,onScroll:onScroll})),bodyContent,isSticky&&React.createElement(_stickyScrollBar.default,{ref:stickyRef,offsetScroll:offsetScroll,scrollBodyRef:scrollBodyRef,onScroll:onScroll,container:container}))}else groupTableNode=React.createElement("div",{style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},scrollXStyle),scrollYStyle),className:(0,_classnames.default)("".concat(prefixCls,
"-content")),onScroll:onScroll,ref:scrollBodyRef},React.createElement(TableComponent,{style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},scrollTableStyle),{},{tableLayout:mergedTableLayout})},bodyColGroup,!1!==showHeader&&React.createElement(_Header.default,(0,_extends2.default)({},headerProps,columnContext)),bodyTable,footerTable));var ariaProps=(0,_legacyUtil.getDataAndAriaProps)(props),fullTable=React.createElement("div",(0,_extends2.default)({className:(0,_classnames.default)(prefixCls,
className,(_classNames={},(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-ping-left"),pingedLeft),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-ping-right"),pingedRight),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-layout-fixed"),"fixed"===tableLayout),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-fixed-header"),fixHeader),(0,_defineProperty2.default)(_classNames,
"".concat(prefixCls,"-fixed-column"),fixColumn),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-scroll-horizontal"),horizonScroll),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-has-fix-left"),flattenColumns[0]&&flattenColumns[0].fixed),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-has-fix-right"),flattenColumns[flattenColumns.length-1]&&"right"===flattenColumns[flattenColumns.length-1].fixed),_classNames)),style:style,id:id,ref:fullTableRef},ariaProps),
React.createElement(MemoTableContent,{pingLeft:pingedLeft,pingRight:pingedRight,props:(0,_objectSpread2.default)((0,_objectSpread2.default)({},props),{},{stickyOffsets:stickyOffsets,mergedExpandedKeys:mergedExpandedKeys})},title&&React.createElement(_Panel.default,{className:"".concat(prefixCls,"-title")},title(mergedData)),React.createElement("div",{className:"".concat(prefixCls,"-container")},groupTableNode),footer&&React.createElement(_Panel.default,{className:"".concat(prefixCls,"-footer")},footer(mergedData))));
horizonScroll&&(fullTable=React.createElement(_rcResizeObserver.default,{onResize:onFullTableResize},fullTable));var TableContextValue=React.useMemo(function(){return{prefixCls:prefixCls,getComponent:getComponent,scrollbarSize:scrollbarSize,direction:direction,fixedInfoList:flattenColumns.map(function(_,colIndex){return(0,_fixUtil.getCellFixedInfo)(colIndex,colIndex,flattenColumns,stickyOffsets,direction)}),isSticky:isSticky}},[prefixCls,getComponent,scrollbarSize,direction,flattenColumns,stickyOffsets,
direction,isSticky]),BodyContextValue=React.useMemo(function(){return(0,_objectSpread2.default)((0,_objectSpread2.default)({},columnContext),{},{tableLayout:mergedTableLayout,rowClassName:rowClassName,expandedRowClassName:expandedRowClassName,componentWidth:componentWidth,fixHeader:fixHeader,fixColumn:fixColumn,horizonScroll:horizonScroll,expandIcon:mergedExpandIcon,expandableType:expandableType,expandRowByClick:expandRowByClick,expandedRowRender:expandedRowRender,onTriggerExpand:onTriggerExpand,
expandIconColumnIndex:expandIconColumnIndex,indentSize:indentSize})},[columnContext,mergedTableLayout,rowClassName,expandedRowClassName,componentWidth,fixHeader,fixColumn,horizonScroll,mergedExpandIcon,expandableType,expandRowByClick,expandedRowRender,onTriggerExpand,expandIconColumnIndex,indentSize]),ResizeContextValue=React.useMemo(function(){return{onColumnResize:onColumnResize}},[onColumnResize]);return React.createElement(_TableContext.default.Provider,{value:TableContextValue},React.createElement(_BodyContext.default.Provider,
{value:BodyContextValue},React.createElement(_ResizeContext.default.Provider,{value:ResizeContextValue},fullTable)))}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=exports.INTERNAL_HOOKS=void 0;var _defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),
_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_toConsumableArray2=module(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_typeof2=module(require("module$node_modules$$babel$runtime$helpers$typeof")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_isVisible=module(require("module$node_modules$rc_util$lib$Dom$isVisible")),_classnames=
module(require("module$node_modules$classnames$index")),_shallowequal=module(require("module$node_modules$shallowequal$index")),_warning=module(require("module$node_modules$rc_util$lib$warning")),_rcResizeObserver=module(require("module$node_modules$rc_resize_observer$lib$index")),_getScrollBarSize=module(require("module$node_modules$rc_util$lib$getScrollBarSize")),_ColumnGroup=module(require("module$node_modules$rc_table$lib$sugar$ColumnGroup")),_Column=module(require("module$node_modules$rc_table$lib$sugar$Column")),
_FixedHeader=module(require("module$node_modules$rc_table$lib$Header$FixedHeader")),_Header=module(require("module$node_modules$rc_table$lib$Header$Header")),_TableContext=module(require("module$node_modules$rc_table$lib$context$TableContext")),_BodyContext=module(require("module$node_modules$rc_table$lib$context$BodyContext")),_Body=module(require("module$node_modules$rc_table$lib$Body$index")),_useColumns3=module(require("module$node_modules$rc_table$lib$hooks$useColumns")),_useFrame=require("module$node_modules$rc_table$lib$hooks$useFrame"),
_valueUtil=require("module$node_modules$rc_table$lib$utils$valueUtil"),_ResizeContext=module(require("module$node_modules$rc_table$lib$context$ResizeContext")),_useStickyOffsets=module(require("module$node_modules$rc_table$lib$hooks$useStickyOffsets")),_ColGroup=module(require("module$node_modules$rc_table$lib$ColGroup")),_legacyUtil=require("module$node_modules$rc_table$lib$utils$legacyUtil"),_Panel=module(require("module$node_modules$rc_table$lib$Panel$index")),_Footer=global(require("module$node_modules$rc_table$lib$Footer$index")),
_expandUtil=require("module$node_modules$rc_table$lib$utils$expandUtil"),_fixUtil=require("module$node_modules$rc_table$lib$utils$fixUtil"),_stickyScrollBar=module(require("module$node_modules$rc_table$lib$stickyScrollBar")),_useSticky2=module(require("module$node_modules$rc_table$lib$hooks$useSticky")),EMPTY_DATA=[],EMPTY_SCROLL_TARGET={};exports.INTERNAL_HOOKS="rc-table-internal-hook";var MemoTableContent=React.memo(function(_ref){return _ref.children},function(prev,next){return(0,_shallowequal.default)(prev.props,
next.props)?prev.pingLeft!==next.pingLeft||prev.pingRight!==next.pingRight:!1});Table.Column=_Column.default;Table.ColumnGroup=_ColumnGroup.default;Table.Summary=_Footer.FooterComponents;Table.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};exports.default=Table}
//# sourceMappingURL=module$node_modules$rc_table$lib$Table.js.map
