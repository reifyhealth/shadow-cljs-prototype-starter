{
"version":3,
"file":"module$node_modules$rc_trigger$lib$Popup$useVisibleStatus.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/rc-trigger/lib/Popup/useVisibleStatus.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_trigger$lib$Popup$useVisibleStatus\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\nvar _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\n\nvar StatusQueue = ['measure', 'align', null, 'motion'];\n\nvar _default = function _default(visible, doMeasure) {\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      status = _useState2[0],\n      setInternalStatus = _useState2[1];\n\n  var rafRef = (0, _react.useRef)();\n  var destroyRef = (0, _react.useRef)(false);\n\n  function setStatus(nextStatus) {\n    if (!destroyRef.current) {\n      setInternalStatus(nextStatus);\n    }\n  }\n\n  function cancelRaf() {\n    _raf.default.cancel(rafRef.current);\n  }\n\n  function goNextStatus(callback) {\n    cancelRaf();\n    rafRef.current = (0, _raf.default)(function () {\n      // Only align should be manually trigger\n      setStatus(function (prev) {\n        switch (status) {\n          case 'align':\n            return 'motion';\n\n          case 'motion':\n            return 'stable';\n\n          default:\n        }\n\n        return prev;\n      });\n      callback === null || callback === void 0 ? void 0 : callback();\n    });\n  } // Init status\n\n\n  (0, _react.useEffect)(function () {\n    setStatus('measure');\n  }, [visible]); // Go next status\n\n  (0, _react.useEffect)(function () {\n    switch (status) {\n      case 'measure':\n        doMeasure();\n        break;\n\n      default:\n    }\n\n    if (status) {\n      rafRef.current = (0, _raf.default)( /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var index, nextStatus;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                index = StatusQueue.indexOf(status);\n                nextStatus = StatusQueue[index + 1];\n\n                if (nextStatus && index !== -1) {\n                  setStatus(nextStatus);\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    }\n  }, [status]);\n  (0, _react.useEffect)(function () {\n    return function () {\n      destroyRef.current = true;\n      cancelRaf();\n    };\n  }, []);\n  return [status, goNextStatus];\n};\n\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","default","_regenerator","_asyncToGenerator2","_slicedToArray2","_react","_raf","StatusQueue","_default","visible","doMeasure","setStatus","nextStatus","destroyRef","current","setInternalStatus","_useState","useState","_useState2","status","rafRef","useRef","useEffect","mark","_callee","index","wrap","_callee$","_context","prev","next","indexOf","stop","cancel","goNextStatus","callback"]
}
