{
"version":3,
"file":"module$node_modules$rc_table$lib$hooks$useFrame.js",
"lineCount":4,
"mappings":"AAAAA,cAAA,CAAe,+CAAf,CAAoE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGxGC,MAAAA,CAAyBH,OAAA,CAAQ,kEAAR,CAE7BI,OAAA,CAAOC,cAAP,CAAsBH,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CI,MAAO,CAAA,CADoC,CAA7C,CAGAJ,QAAA,CAAQK,cAAR,CAUAA,QAAuB,CAACC,YAAD,CAAe,CACpC,IAAIC,SAAW,CAAC,CAAA,CAAGC,MAAH,CAAUC,MAAX,EAAmBH,YAAnB,CAEXI,aAAAA,CAAY,CAAC,CAAA,CAAGF,MAAH,CAAUG,QAAX,EAAqB,EAArB,CAAhB,KAEIC,YADaC,CAAC,CAAA,CAAGC,eAAH,CAAmBC,OAApBF,EAA6BH,YAA7BG,CAAwC,CAAxCA,CACC,CAAW,CAAX,CAFlB,CAIIG,eAAiB,CAAC,CAAA,CAAGR,MAAH,CAAUC,MAAX,EAAmB,IAAnB,CAJrB,CAKIQ,eAAiB,CAAC,CAAA,CAAGT,MAAH,CAAUC,MAAX,EAAmB,EAAnB,CAuBrB;CAAC,CAAA,CAAGD,MAAH,CAAUU,SAAX,EAAsB,QAAS,EAAG,CAChC,MAAO,SAAS,EAAG,CACjBF,cAAA,CAAeG,OAAf,CAAyB,IADR,CADa,CAAlC,CAIG,EAJH,CAKA,OAAO,CAACZ,QAAD,CAAUY,OAAV,CA1BPC,QAAsB,CAACC,OAAD,CAAU,CAC9BJ,cAAA,CAAeE,OAAf,CAAuBG,IAAvB,CAA4BD,OAA5B,CACA,KAAIE,QAAUC,OAAA,CAAQC,OAAR,EACdT,eAAA,CAAeG,OAAf,CAAyBI,OACzBA,QAAA,CAAQG,IAAR,CAAa,QAAS,EAAG,CACvB,GAAIV,cAAJ,CAAmBG,OAAnB,GAA+BI,OAA/B,CAAwC,CACtC,IAAII,UAAYV,cAAZU,CAA2BR,OAA/B,CACIS,UAAYrB,QAAZqB,CAAqBT,OACzBF,eAAA,CAAeE,OAAf,CAAyB,EACzBQ,UAAA,CAAUE,OAAV,CAAkB,QAAS,CAACC,YAAD,CAAe,CACxCvB,QAAA,CAASY,OAAT,CAAmBW,YAAA,CAAavB,QAAb,CAAsBY,OAAtB,CADqB,CAA1C,CAGAH,eAAA,CAAeG,OAAf,CAAyB,IAErBS,UAAJ;AAAkBrB,QAAlB,CAA2BY,OAA3B,EACEP,WAAA,CAAY,EAAZ,CAVoC,CADjB,CAAzB,CAJ8B,CA0BzB,CApC6B,CATtCZ,QAAA,CAAQ+B,cAAR,CAkDAA,QAAuB,CAACzB,YAAD,CAAe,CAIpC0B,QAASA,QAAO,EAAG,CACjBC,MAAA,CAAOC,YAAP,CAAoBC,UAApB,CAA+BhB,OAA/B,CADiB,CAHnB,IAAIiB,SAAW,CAAC,CAAA,CAAG5B,MAAH,CAAUC,MAAX,EAAmBH,YAAnB,EAAmC,IAAnC,CAAf,CACI6B,WAAa,CAAC,CAAA,CAAG3B,MAAH,CAAUC,MAAX,GAmBjB,EAAC,CAAA,CAAGD,MAAH,CAAUU,SAAX,EAAsB,QAAS,EAAG,CAChC,MAAOc,QADyB,CAAlC,CAEG,EAFH,CAGA,OAAO,CAhBPK,QAAiB,CAACC,QAAD,CAAW,CAC1BF,QAAA,CAASjB,OAAT,CAAmBmB,QACnBN,QAAA,EACAG,WAAA,CAAWhB,OAAX,CAAqBc,MAAA,CAAOM,UAAP,CAAkB,QAAS,EAAG,CACjDH,QAAA,CAASjB,OAAT,CAAmB,IACnBgB,WAAA,CAAWhB,OAAX,CAAqBqB,IAAAA,EAF4B,CAA9B,CAGlB,GAHkB,CAHK,CAgBrB,CAPPC,QAAiB,EAAG,CAClB,MAAOL,SAAP,CAAgBjB,OADE,CAOb,CAxB6B,CAhDtC,KAAIL;AAAkBb,MAAA,CAAuBH,OAAA,CAAQ,0DAAR,CAAvB,CAAtB,CAEIU,OAASV,OAAA,CAAQ,iCAAR,CAb+F;",
"sources":["node_modules/rc-table/lib/hooks/useFrame.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_table$lib$hooks$useFrame\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLayoutState = useLayoutState;\nexports.useTimeoutLock = useTimeoutLock;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\n/**\n * Execute code before next frame but async\n */\nfunction useLayoutState(defaultState) {\n  var stateRef = (0, _react.useRef)(defaultState);\n\n  var _useState = (0, _react.useState)({}),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      forceUpdate = _useState2[1];\n\n  var lastPromiseRef = (0, _react.useRef)(null);\n  var updateBatchRef = (0, _react.useRef)([]);\n\n  function setFrameState(updater) {\n    updateBatchRef.current.push(updater);\n    var promise = Promise.resolve();\n    lastPromiseRef.current = promise;\n    promise.then(function () {\n      if (lastPromiseRef.current === promise) {\n        var prevBatch = updateBatchRef.current;\n        var prevState = stateRef.current;\n        updateBatchRef.current = [];\n        prevBatch.forEach(function (batchUpdater) {\n          stateRef.current = batchUpdater(stateRef.current);\n        });\n        lastPromiseRef.current = null;\n\n        if (prevState !== stateRef.current) {\n          forceUpdate({});\n        }\n      }\n    });\n  }\n\n  (0, _react.useEffect)(function () {\n    return function () {\n      lastPromiseRef.current = null;\n    };\n  }, []);\n  return [stateRef.current, setFrameState];\n}\n/** Lock frame, when frame pass reset the lock. */\n\n\nfunction useTimeoutLock(defaultState) {\n  var frameRef = (0, _react.useRef)(defaultState || null);\n  var timeoutRef = (0, _react.useRef)();\n\n  function cleanUp() {\n    window.clearTimeout(timeoutRef.current);\n  }\n\n  function setState(newState) {\n    frameRef.current = newState;\n    cleanUp();\n    timeoutRef.current = window.setTimeout(function () {\n      frameRef.current = null;\n      timeoutRef.current = undefined;\n    }, 100);\n  }\n\n  function getState() {\n    return frameRef.current;\n  }\n\n  (0, _react.useEffect)(function () {\n    return cleanUp;\n  }, []);\n  return [setState, getState];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","useLayoutState","defaultState","stateRef","_react","useRef","_useState","useState","forceUpdate","_useState2","_slicedToArray2","default","lastPromiseRef","updateBatchRef","useEffect","current","setFrameState","updater","push","promise","Promise","resolve","then","prevBatch","prevState","forEach","batchUpdater","useTimeoutLock","cleanUp","window","clearTimeout","timeoutRef","frameRef","setState","newState","setTimeout","undefined","getState"]
}
