{
"version":3,
"file":"module$node_modules$rc_trigger$lib$Popup$PopupInner.js",
"lineCount":11,
"mappings":"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",
"sources":["node_modules/rc-trigger/lib/Popup/PopupInner.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_trigger$lib$Popup$PopupInner\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcAlign = _interopRequireDefault(require(\"rc-align\"));\n\nvar _rcMotion = _interopRequireDefault(require(\"rc-motion\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _useVisibleStatus3 = _interopRequireDefault(require(\"./useVisibleStatus\"));\n\nvar _legacyUtil = require(\"../utils/legacyUtil\");\n\nvar _useStretchStyle3 = _interopRequireDefault(require(\"./useStretchStyle\"));\n\nvar PopupInner = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var visible = props.visible,\n      prefixCls = props.prefixCls,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      zIndex = props.zIndex,\n      stretch = props.stretch,\n      destroyPopupOnHide = props.destroyPopupOnHide,\n      align = props.align,\n      point = props.point,\n      getRootDomNode = props.getRootDomNode,\n      getClassNameFromAlign = props.getClassNameFromAlign,\n      onAlign = props.onAlign,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      onMouseDown = props.onMouseDown,\n      onTouchStart = props.onTouchStart;\n  var alignRef = (0, React.useRef)();\n  var elementRef = (0, React.useRef)();\n\n  var _useState = (0, React.useState)(),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      alignedClassName = _useState2[0],\n      setAlignedClassName = _useState2[1]; // ======================= Measure ========================\n\n\n  var _useStretchStyle = (0, _useStretchStyle3.default)(stretch),\n      _useStretchStyle2 = (0, _slicedToArray2.default)(_useStretchStyle, 2),\n      stretchStyle = _useStretchStyle2[0],\n      measureStretchStyle = _useStretchStyle2[1];\n\n  function doMeasure() {\n    if (stretch) {\n      measureStretchStyle(getRootDomNode());\n    }\n  } // ======================== Status ========================\n\n\n  var _useVisibleStatus = (0, _useVisibleStatus3.default)(visible, doMeasure),\n      _useVisibleStatus2 = (0, _slicedToArray2.default)(_useVisibleStatus, 2),\n      status = _useVisibleStatus2[0],\n      goNextStatus = _useVisibleStatus2[1]; // ======================== Aligns ========================\n\n\n  var prepareResolveRef = (0, React.useRef)(); // `target` on `rc-align` can accept as a function to get the bind element or a point.\n  // ref: https://www.npmjs.com/package/rc-align\n\n  function getAlignTarget() {\n    if (point) {\n      return point;\n    }\n\n    return getRootDomNode;\n  }\n\n  function forceAlign() {\n    var _alignRef$current;\n\n    (_alignRef$current = alignRef.current) === null || _alignRef$current === void 0 ? void 0 : _alignRef$current.forceAlign();\n  }\n\n  function onInternalAlign(popupDomNode, matchAlign) {\n    if (status === 'align') {\n      var nextAlignedClassName = getClassNameFromAlign(matchAlign);\n      setAlignedClassName(nextAlignedClassName); // Repeat until not more align needed\n\n      if (alignedClassName !== nextAlignedClassName) {\n        Promise.resolve().then(function () {\n          forceAlign();\n        });\n      } else {\n        goNextStatus(function () {\n          var _prepareResolveRef$cu;\n\n          (_prepareResolveRef$cu = prepareResolveRef.current) === null || _prepareResolveRef$cu === void 0 ? void 0 : _prepareResolveRef$cu.call(prepareResolveRef);\n        });\n      }\n\n      onAlign === null || onAlign === void 0 ? void 0 : onAlign(popupDomNode, matchAlign);\n    }\n  } // ======================== Motion ========================\n\n\n  var motion = (0, _objectSpread2.default)({}, (0, _legacyUtil.getMotion)(props));\n  ['onAppearEnd', 'onEnterEnd', 'onLeaveEnd'].forEach(function (eventName) {\n    var originHandler = motion[eventName];\n\n    motion[eventName] = function (element, event) {\n      goNextStatus();\n      return originHandler === null || originHandler === void 0 ? void 0 : originHandler(element, event);\n    };\n  });\n\n  function onShowPrepare() {\n    return new Promise(function (resolve) {\n      prepareResolveRef.current = resolve;\n    });\n  } // Go to stable directly when motion not provided\n\n\n  React.useEffect(function () {\n    if (!motion.motionName && status === 'motion') {\n      goNextStatus();\n    }\n  }, [motion.motionName, status]); // ========================= Refs =========================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: forceAlign,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  }); // ======================== Render ========================\n\n  var mergedStyle = (0, _objectSpread2.default)((0, _objectSpread2.default)((0, _objectSpread2.default)({}, stretchStyle), {}, {\n    zIndex: zIndex\n  }, style), {}, {\n    opacity: status === 'motion' || status === 'stable' || !visible ? undefined : 0,\n    pointerEvents: status === 'stable' ? undefined : 'none'\n  }); // Align status\n\n  var alignDisabled = true;\n\n  if ((align === null || align === void 0 ? void 0 : align.points) && (status === 'align' || status === 'stable')) {\n    alignDisabled = false;\n  }\n\n  var childNode = children; // Wrapper when multiple children\n\n  if (React.Children.count(children) > 1) {\n    childNode = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-content\")\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(_rcMotion.default, (0, _extends2.default)({\n    visible: visible,\n    ref: elementRef,\n    leavedClassName: \"\".concat(prefixCls, \"-hidden\")\n  }, motion, {\n    onAppearPrepare: onShowPrepare,\n    onEnterPrepare: onShowPrepare,\n    removeOnLeave: destroyPopupOnHide\n  }), function (_ref, motionRef) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    var mergedClassName = (0, _classnames.default)(prefixCls, className, alignedClassName, motionClassName);\n    return /*#__PURE__*/React.createElement(_rcAlign.default, {\n      target: getAlignTarget(),\n      key: \"popup\",\n      ref: alignRef,\n      monitorWindowResize: true,\n      disabled: alignDisabled,\n      align: align,\n      onAlign: onInternalAlign\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: motionRef,\n      className: mergedClassName,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseDown: onMouseDown,\n      onTouchStart: onTouchStart,\n      style: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, motionStyle), mergedStyle)\n    }, childNode));\n  });\n});\nPopupInner.displayName = 'PopupInner';\nvar _default = PopupInner;\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","default","_extends2","_objectSpread2","_slicedToArray2","React","_rcAlign","_rcMotion","_classnames","_useVisibleStatus3","_legacyUtil","_useStretchStyle3","PopupInner","forwardRef","props","ref","forceAlign","_alignRef$current","alignRef","current","onInternalAlign","popupDomNode","matchAlign","status","nextAlignedClassName","getClassNameFromAlign","setAlignedClassName","alignedClassName","Promise","resolve","then","goNextStatus","_prepareResolveRef$cu","prepareResolveRef","call","onAlign","onShowPrepare","visible","prefixCls","className","style","children","zIndex","stretch","destroyPopupOnHide","align","point","getRootDomNode","onMouseEnter","onMouseLeave","onMouseDown","onTouchStart","useRef","elementRef","_useState","useState","_useState2","_useStretchStyle","_useStretchStyle2","stretchStyle","measureStretchStyle","_useVisibleStatus","doMeasure","_useVisibleStatus2","motion","getMotion","forEach","eventName","originHandler","element","event","useEffect","motionName","useImperativeHandle","getElement","mergedStyle","opacity","undefined","pointerEvents","alignDisabled","points","childNode","Children","count","createElement","concat","leavedClassName","onAppearPrepare","onEnterPrepare","removeOnLeave","_ref","motionRef","motionClassName","motionStyle","mergedClassName","target","key","monitorWindowResize","disabled","displayName"]
}
