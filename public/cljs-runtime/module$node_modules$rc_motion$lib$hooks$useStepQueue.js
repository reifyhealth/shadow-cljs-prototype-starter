shadow$provide.module$node_modules$rc_motion$lib$hooks$useStepQueue=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.isActive=function(step){return step===_interface.STEP_ACTIVE||step===_interface.STEP_ACTIVATED};exports.default=exports.DoStep=exports.SkipStep=void 0;var _slicedToArray2=
module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_interface=require("module$node_modules$rc_motion$lib$interface"),_useIsomorphicLayoutEffect=module(require("module$node_modules$rc_motion$lib$hooks$useIsomorphicLayoutEffect")),_useNextFrame3=module(require("module$node_modules$rc_motion$lib$hooks$useNextFrame")),STEP_QUEUE=[_interface.STEP_PREPARE,_interface.STEP_START,_interface.STEP_ACTIVE,_interface.STEP_ACTIVATED];
exports.SkipStep=!1;exports.DoStep=!0;exports.default=function(status,callback){var _React$useState=React.useState(_interface.STEP_NONE);_React$useState=(0,_slicedToArray2.default)(_React$useState,2);var step=_React$useState[0],setStep=_React$useState[1];_React$useState=(0,_useNextFrame3.default)();_React$useState=(0,_slicedToArray2.default)(_React$useState,2);var nextFrame=_React$useState[0],cancelNextFrame=_React$useState[1];(0,_useIsomorphicLayoutEffect.default)(function(){if(step!==_interface.STEP_NONE&&
step!==_interface.STEP_ACTIVATED){var index=STEP_QUEUE.indexOf(step),nextStep=STEP_QUEUE[index+1],result=callback(step);!1===result?setStep(nextStep):nextFrame(function(info){function doNext(){info.isCanceled()||setStep(nextStep)}!0===result?doNext():Promise.resolve(result).then(doNext)})}},[status,step]);React.useEffect(function(){return function(){cancelNextFrame()}},[]);return[function(){setStep(_interface.STEP_PREPARE)},step]}}
//# sourceMappingURL=module$node_modules$rc_motion$lib$hooks$useStepQueue.js.map
