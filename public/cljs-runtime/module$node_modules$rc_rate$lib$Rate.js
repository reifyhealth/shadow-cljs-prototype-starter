shadow$provide.module$node_modules$rc_rate$lib$Rate=function(global,require,module,exports){function noop(){}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),
_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_inherits2=global(require("module$node_modules$$babel$runtime$helpers$inherits")),_createSuper2=global(require("module$node_modules$$babel$runtime$helpers$createSuper")),_react=global(require("module$node_modules$react$index")),_findDOMNode=global(require("module$node_modules$rc_util$lib$Dom$findDOMNode")),_classnames=global(require("module$node_modules$classnames$index")),_KeyCode=global(require("module$node_modules$rc_util$lib$KeyCode")),
_util=require("module$node_modules$rc_rate$lib$util"),_Star=global(require("module$node_modules$rc_rate$lib$Star"));require=function(_React$Component){function Rate(props){(0,_classCallCheck2.default)(this,Rate);var _this=_super.call(this,props);_this.onHover=function(event,index){var onHoverChange=_this.props.onHoverChange;event=_this.getStarValue(index,event.pageX);event!==_this.state.cleanedValue&&_this.setState({hoverValue:event,cleanedValue:null});onHoverChange(event)};_this.onMouseLeave=function(){var onHoverChange=
_this.props.onHoverChange;_this.setState({hoverValue:void 0,cleanedValue:null});onHoverChange(void 0)};_this.onClick=function(event,index){var allowClear=_this.props.allowClear,value=_this.state.value;event=_this.getStarValue(index,event.pageX);index=!1;allowClear&&(index=event===value);_this.onMouseLeave();_this.changeValue(index?0:event);_this.setState({cleanedValue:index?event:null})};_this.onFocus=function(){var onFocus=_this.props.onFocus;_this.setState({focused:!0});onFocus&&onFocus()};_this.onBlur=
function(){var onBlur=_this.props.onBlur;_this.setState({focused:!1});onBlur&&onBlur()};_this.onKeyDown=function(event){var keyCode=event.keyCode,_this$props=_this.props,count=_this$props.count,allowHalf=_this$props.allowHalf,onKeyDown=_this$props.onKeyDown;_this$props="rtl"===_this$props.direction;var value=_this.state.value;keyCode===_KeyCode.default.RIGHT&&value<count&&!_this$props?(_this.changeValue(allowHalf?value+.5:value+1),event.preventDefault()):keyCode===_KeyCode.default.LEFT&&0<value&&
!_this$props?(_this.changeValue(allowHalf?value-.5:value-1),event.preventDefault()):keyCode===_KeyCode.default.RIGHT&&0<value&&_this$props?(_this.changeValue(allowHalf?value-.5:value-1),event.preventDefault()):keyCode===_KeyCode.default.LEFT&&value<count&&_this$props&&(_this.changeValue(allowHalf?value+.5:value+1),event.preventDefault());onKeyDown&&onKeyDown(event)};_this.saveRef=function(index){return function(node){_this.stars[index]=node}};_this.saveRate=function(node){_this.rate=node};var value$jscomp$0=
props.value;void 0===value$jscomp$0&&(value$jscomp$0=props.defaultValue);_this.stars={};_this.state={value:value$jscomp$0,focused:!1,cleanedValue:null};return _this}(0,_inherits2.default)(Rate,_React$Component);var _super=(0,_createSuper2.default)(Rate);(0,_createClass2.default)(Rate,[{key:"componentDidMount",value:function(){var _this$props2=this.props,disabled=_this$props2.disabled;_this$props2.autoFocus&&!disabled&&this.focus()}},{key:"getStarDOM",value:function(index){return(0,_findDOMNode.default)(this.stars[index])}},
{key:"getStarValue",value:function(index,x){var _this$props3=this.props,reverse="rtl"===_this$props3.direction,value=index+1;_this$props3.allowHalf&&(_this$props3=this.getStarDOM(index),index=(0,_util.getOffsetLeft)(_this$props3),_this$props3=_this$props3.clientWidth,reverse&&x-index>_this$props3/2?value-=.5:!reverse&&x-index<_this$props3/2&&(value-=.5));return value}},{key:"focus",value:function(){this.props.disabled||this.rate.focus()}},{key:"blur",value:function(){this.props.disabled||this.rate.blur()}},
{key:"changeValue",value:function(value){var onChange=this.props.onChange;"value"in this.props||this.setState({value:value});onChange(value)}},{key:"render",value:function(){var _this$props4=this.props,count=_this$props4.count,allowHalf=_this$props4.allowHalf,style=_this$props4.style,prefixCls=_this$props4.prefixCls,disabled=_this$props4.disabled,className=_this$props4.className,character=_this$props4.character,characterRender=_this$props4.characterRender,tabIndex=_this$props4.tabIndex;_this$props4=
_this$props4.direction;var _this$state=this.state,value=_this$state.value,hoverValue=_this$state.hoverValue,focused=_this$state.focused;_this$state=[];for(var disabledClass=disabled?"".concat(prefixCls,"-disabled"):"",index=0;index<count;index+=1)_this$state.push(_react.default.createElement(_Star.default,{ref:this.saveRef(index),index:index,count:count,disabled:disabled,prefixCls:"".concat(prefixCls,"-star"),allowHalf:allowHalf,value:void 0===hoverValue?value:hoverValue,onClick:this.onClick,onHover:this.onHover,
key:index,character:character,characterRender:characterRender,focused:focused}));count=(0,_classnames.default)(prefixCls,disabledClass,className,(0,_defineProperty2.default)({},"".concat(prefixCls,"-rtl"),"rtl"===_this$props4));return _react.default.createElement("ul",{className:count,style:style,onMouseLeave:disabled?null:this.onMouseLeave,tabIndex:disabled?-1:tabIndex,onFocus:disabled?null:this.onFocus,onBlur:disabled?null:this.onBlur,onKeyDown:disabled?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},
_this$state)}}],[{key:"getDerivedStateFromProps",value:function(nextProps,state){return"value"in nextProps&&void 0!==nextProps.value?(0,_objectSpread2.default)((0,_objectSpread2.default)({},state),{},{value:nextProps.value}):state}}]);return Rate}(_react.default.Component);require.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:noop,character:"â˜…",onHoverChange:noop,tabIndex:0,direction:"ltr"};exports.default=require}
//# sourceMappingURL=module$node_modules$rc_rate$lib$Rate.js.map
