{
"version":3,
"file":"module$node_modules$rc_util$lib$Dom$scrollLocker.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/rc-util/lib/Dom/scrollLocker.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_util$lib$Dom$scrollLocker\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _getScrollBarSize = _interopRequireDefault(require(\"../getScrollBarSize\"));\n\nvar _setStyle = _interopRequireDefault(require(\"../setStyle\"));\n\nvar locks = [];\nvar scrollingEffectClassName = 'ant-scrolling-effect';\nvar scrollingEffectClassNameReg = new RegExp(\"\".concat(scrollingEffectClassName), 'g');\nvar uuid = 0; // https://github.com/ant-design/ant-design/issues/19340\n// https://github.com/ant-design/ant-design/issues/19332\n\nvar cacheStyle = new Map();\n\nvar ScrollLocker = function ScrollLocker(options) {\n  var _this = this;\n\n  (0, _classCallCheck2.default)(this, ScrollLocker);\n\n  this.getContainer = function () {\n    var _this$options;\n\n    return (_this$options = _this.options) === null || _this$options === void 0 ? void 0 : _this$options.container;\n  }; // if options change...\n\n\n  this.reLock = function (options) {\n    var findLock = locks.find(function (_ref) {\n      var target = _ref.target;\n      return target === _this.lockTarget;\n    });\n\n    if (findLock) {\n      _this.unLock();\n    }\n\n    _this.options = options;\n\n    if (findLock) {\n      findLock.options = options;\n\n      _this.lock();\n    }\n  };\n\n  this.lock = function () {\n    var _this$options3;\n\n    // If lockTarget exist return\n    if (locks.some(function (_ref2) {\n      var target = _ref2.target;\n      return target === _this.lockTarget;\n    })) {\n      return;\n    } // If same container effect, return\n\n\n    if (locks.some(function (_ref3) {\n      var _this$options2;\n\n      var options = _ref3.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_this$options2 = _this.options) === null || _this$options2 === void 0 ? void 0 : _this$options2.container);\n    })) {\n      locks = [].concat((0, _toConsumableArray2.default)(locks), [{\n        target: _this.lockTarget,\n        options: _this.options\n      }]);\n      return;\n    }\n\n    var scrollBarSize = 0;\n    var container = ((_this$options3 = _this.options) === null || _this$options3 === void 0 ? void 0 : _this$options3.container) || document.body;\n\n    if (container === document.body && window.innerWidth - document.documentElement.clientWidth > 0 || container.scrollHeight > container.clientHeight) {\n      scrollBarSize = (0, _getScrollBarSize.default)();\n    }\n\n    var containerClassName = container.className;\n\n    if (locks.filter(function (_ref4) {\n      var _this$options4;\n\n      var options = _ref4.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_this$options4 = _this.options) === null || _this$options4 === void 0 ? void 0 : _this$options4.container);\n    }).length === 0) {\n      cacheStyle.set(container, (0, _setStyle.default)({\n        width: \"calc(100% - \".concat(scrollBarSize, \"px)\"),\n        overflow: 'hidden',\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      }, {\n        element: container\n      }));\n    } // https://github.com/ant-design/ant-design/issues/19729\n\n\n    if (!scrollingEffectClassNameReg.test(containerClassName)) {\n      var addClassName = \"\".concat(containerClassName, \" \").concat(scrollingEffectClassName);\n      container.className = addClassName.trim();\n    }\n\n    locks = [].concat((0, _toConsumableArray2.default)(locks), [{\n      target: _this.lockTarget,\n      options: _this.options\n    }]);\n  };\n\n  this.unLock = function () {\n    var _this$options5;\n\n    var findLock = locks.find(function (_ref5) {\n      var target = _ref5.target;\n      return target === _this.lockTarget;\n    });\n    locks = locks.filter(function (_ref6) {\n      var target = _ref6.target;\n      return target !== _this.lockTarget;\n    });\n\n    if (!findLock || locks.some(function (_ref7) {\n      var _findLock$options;\n\n      var options = _ref7.options;\n      return (options === null || options === void 0 ? void 0 : options.container) === ((_findLock$options = findLock.options) === null || _findLock$options === void 0 ? void 0 : _findLock$options.container);\n    })) {\n      return;\n    } // Remove Effect\n\n\n    var container = ((_this$options5 = _this.options) === null || _this$options5 === void 0 ? void 0 : _this$options5.container) || document.body;\n    var containerClassName = container.className;\n    if (!scrollingEffectClassNameReg.test(containerClassName)) return;\n    (0, _setStyle.default)(cacheStyle.get(container), {\n      element: container\n    });\n    cacheStyle.delete(container);\n    container.className = container.className.replace(scrollingEffectClassNameReg, '').trim();\n  }; // eslint-disable-next-line no-plusplus\n\n\n  this.lockTarget = uuid++;\n  this.options = options;\n};\n\nexports.default = ScrollLocker;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","default","_toConsumableArray2","_classCallCheck2","_getScrollBarSize","_setStyle","locks","scrollingEffectClassNameReg","RegExp","concat","scrollingEffectClassName","uuid","cacheStyle","Map","ScrollLocker","options","_this","getContainer","this.getContainer","_this$options","container","reLock","this.reLock","findLock","find","_ref","target","lockTarget","unLock","lock","this.lock","_this$options3","some","_ref2","_ref3","_this$options2","scrollBarSize","document","body","window","innerWidth","documentElement","clientWidth","scrollHeight","clientHeight","containerClassName","className","filter","_ref4","_this$options4","length","set","width","overflow","overflowX","overflowY","element","test","addClassName","trim","this.unLock","_this$options5","_ref5","_ref6","_ref7","_findLock$options","get","delete","replace"]
}
