{
"version":3,
"file":"module$node_modules$rc_tree_select$lib$utils$legacyUtil.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/rc-tree-select/lib/utils/legacyUtil.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_tree_select$lib$utils$legacyUtil\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertChildrenToData = convertChildrenToData;\nexports.fillLegacyProps = fillLegacyProps;\nexports.fillAdditionalInfo = fillAdditionalInfo;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _toArray = _interopRequireDefault(require(\"rc-util/lib/Children/toArray\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _TreeNode = _interopRequireDefault(require(\"../TreeNode\"));\n\nfunction convertChildrenToData(nodes) {\n  return (0, _toArray.default)(nodes).map(function (node) {\n    if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n      return null;\n    }\n\n    var key = node.key,\n        _node$props = node.props,\n        children = _node$props.children,\n        value = _node$props.value,\n        restProps = (0, _objectWithoutProperties2.default)(_node$props, [\"children\", \"value\"]);\n    var data = (0, _objectSpread2.default)({\n      key: key,\n      value: value\n    }, restProps);\n    var childData = convertChildrenToData(children);\n\n    if (childData.length) {\n      data.children = childData;\n    }\n\n    return data;\n  }).filter(function (data) {\n    return data;\n  });\n}\n\nfunction fillLegacyProps(dataNode) {\n  // Skip if not dataNode exist\n  if (!dataNode) {\n    return dataNode;\n  }\n\n  var cloneNode = (0, _objectSpread2.default)({}, dataNode);\n\n  if (!('props' in cloneNode)) {\n    Object.defineProperty(cloneNode, 'props', {\n      get: function get() {\n        (0, _warning.default)(false, 'New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access.');\n        return cloneNode;\n      }\n    });\n  }\n\n  return cloneNode;\n}\n\nfunction fillAdditionalInfo(extra, triggerValue, checkedValues, treeData, showPosition) {\n  var triggerNode = null;\n  var nodeList = null;\n\n  function generateMap() {\n    function dig(list) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n      var parentIncluded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return list.map(function (dataNode, index) {\n        var pos = \"\".concat(level, \"-\").concat(index);\n        var included = checkedValues.includes(dataNode.value);\n        var children = dig(dataNode.children || [], pos, included);\n        var node = /*#__PURE__*/React.createElement(_TreeNode.default, Object.assign({}, dataNode), children.map(function (child) {\n          return child.node;\n        })); // Link with trigger node\n\n        if (triggerValue === dataNode.value) {\n          triggerNode = node;\n        }\n\n        if (included) {\n          var checkedNode = {\n            pos: pos,\n            node: node,\n            children: children\n          };\n\n          if (!parentIncluded) {\n            nodeList.push(checkedNode);\n          }\n\n          return checkedNode;\n        }\n\n        return null;\n      }).filter(function (node) {\n        return node;\n      });\n    }\n\n    if (!nodeList) {\n      nodeList = [];\n      dig(treeData); // Sort to keep the checked node length\n\n      nodeList.sort(function (_ref, _ref2) {\n        var val1 = _ref.node.props.value;\n        var val2 = _ref2.node.props.value;\n        var index1 = checkedValues.indexOf(val1);\n        var index2 = checkedValues.indexOf(val2);\n        return index1 - index2;\n      });\n    }\n  }\n\n  Object.defineProperty(extra, 'triggerNode', {\n    get: function get() {\n      (0, _warning.default)(false, '`triggerNode` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      return triggerNode;\n    }\n  });\n  Object.defineProperty(extra, 'allCheckedNodes', {\n    get: function get() {\n      (0, _warning.default)(false, '`allCheckedNodes` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n\n      if (showPosition) {\n        return nodeList;\n      }\n\n      return nodeList.map(function (_ref3) {\n        var node = _ref3.node;\n        return node;\n      });\n    }\n  });\n}\n};"],
"names":["shadow$provide","global","require","module","exports","convertChildrenToData","nodes","_toArray","default","map","node","React","isValidElement","type","key","_node$props","props","children","value","restProps","_objectWithoutProperties2","data","_objectSpread2","childData","length","filter","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","fillLegacyProps","dataNode","cloneNode","get","_warning","fillAdditionalInfo","extra","triggerValue","checkedValues","treeData","showPosition","generateMap","dig","list","level","arguments","undefined","parentIncluded","index","pos","concat","included","includes","createElement","_TreeNode","assign","child","triggerNode","checkedNode","nodeList","push","sort","_ref","_ref2","val2","index1","indexOf","index2","_ref3"]
}
