{
"version":3,
"file":"module$node_modules$antd$lib$modal$useModal$index.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/antd/lib/modal/useModal/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$antd$lib$modal$useModal$index\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useModal;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _usePatchElement3 = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\n\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\n\nvar _confirm = require(\"../confirm\");\n\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = (0, _usePatchElement3[\"default\"])(),\n      _usePatchElement2 = (0, _slicedToArray2[\"default\"])(_usePatchElement, 2),\n      elements = _usePatchElement2[0],\n      patchElement = _usePatchElement2[1];\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\n\nfunction useModal() {\n  var holderRef = React.useRef(null); // ========================== Effect ==========================\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      actionQueue = _React$useState2[0],\n      setActionQueue = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (actionQueue.length) {\n      var cloneQueue = (0, _toConsumableArray2[\"default\"])(actionQueue);\n      cloneQueue.forEach(function (action) {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]); // =========================== Hook ===========================\n\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(_HookModal[\"default\"], {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          function destroyAction() {\n            var _a;\n\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          }\n\n          if (modalRef.current) {\n            destroyAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [destroyAction]);\n            });\n          }\n        },\n        update: function update(newConfig) {\n          function updateAction() {\n            var _a;\n\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n          }\n\n          if (modalRef.current) {\n            updateAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [updateAction]);\n            });\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(_confirm.withInfo),\n      success: getConfirmFunc(_confirm.withSuccess),\n      error: getConfirmFunc(_confirm.withError),\n      warning: getConfirmFunc(_confirm.withWarn),\n      confirm: getConfirmFunc(_confirm.withConfirm)\n    };\n  }, []); // eslint-disable-next-line react/jsx-key\n\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","useModal","holderRef","React","useRef","_React$useState","useState","_React$useState2","_slicedToArray2","actionQueue","setActionQueue","useEffect","length","cloneQueue","_toConsumableArray2","forEach","action","getConfirmFunc","useCallback","withFunc","hookConfirm","config","_a","uuid","modalRef","createRef","modal","createElement","_HookModal","key","concat","ref","afterClose","closeFunc","current","patchElement","destroy","destroyAction","prev","update","newConfig","updateAction","fns","useMemo","info","_confirm","withInfo","success","withSuccess","error","withError","warning","withWarn","confirm","withConfirm","ElementsHolder","_usePatchElement3","memo","forwardRef","_props","_usePatchElement","_usePatchElement2","elements","useImperativeHandle","Fragment"]
}
