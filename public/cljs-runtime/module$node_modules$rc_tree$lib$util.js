shadow$provide.module$node_modules$rc_tree$lib$util=function(global,require,module,exports){function posToArr(pos){return pos.split("-")}function isLastChild(treeNodeEntity){if(treeNodeEntity.parent){var posArr=posToArr(treeNodeEntity.pos);return Number(posArr[posArr.length-1])===treeNodeEntity.parent.children.length-1}return!1}function isFirstChild(treeNodeEntity){treeNodeEntity=posToArr(treeNodeEntity.pos);return 0===Number(treeNodeEntity[treeNodeEntity.length-1])}function convertDataToTree(treeData,
processor){if(!treeData)return[];var _ref2$processProps=(processor||{}).processProps,processProps=void 0===_ref2$processProps?internalProcessProps:_ref2$processProps;return(Array.isArray(treeData)?treeData:[treeData]).map(function(_ref3){var children=_ref3.children;_ref3=(0,_objectWithoutProperties2.default)(_ref3,["children"]);children=convertDataToTree(children,processor);return _react.default.createElement(_TreeNode.default,processProps(_ref3),children)})}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");
Object.defineProperty(exports,"__esModule",{value:!0});exports.arrDel=function(list,value){list=list.slice();value=list.indexOf(value);0<=value&&list.splice(value,1);return list};exports.arrAdd=function(list,value){list=list.slice();-1===list.indexOf(value)&&list.push(value);return list};exports.posToArr=posToArr;exports.getPosition=function(level,index){return"".concat(level,"-").concat(index)};exports.isTreeNode=function(node){return node&&node.type&&node.type.isTreeNode};exports.getDragChildrenKeys=
function(dragNodeKey,keyEntities){function dig(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(_ref){var children=_ref.children;dragChildrenKeys.push(_ref.key);dig(children)})}var dragChildrenKeys=[];dig(keyEntities[dragNodeKey].children);return dragChildrenKeys};exports.isLastChild=isLastChild;exports.isFirstChild=isFirstChild;exports.calcDropPosition=function(event,dragNode,targetNode,indent,startMousePosition,allowDrop,flattenedNodes,keyEntities,expandKeys,direction){var _abstractDropNodeEnti,
clientX=event.clientX;dragNode=event.clientY;var _event$target$getBoun=event.target.getBoundingClientRect();event=_event$target$getBoun.top;_event$target$getBoun=_event$target$getBoun.height;indent=(("rtl"===direction?-1:1)*(((null===startMousePosition||void 0===startMousePosition?void 0:startMousePosition.x)||0)-clientX)-12)/indent;var abstractDropNodeEntity=keyEntities[targetNode.props.eventKey];dragNode<event+_event$target$getBoun/2&&(startMousePosition=flattenedNodes.findIndex(function(flattenedNode){return flattenedNode.data.key===
abstractDropNodeEntity.key}),abstractDropNodeEntity=keyEntities[flattenedNodes[0>=startMousePosition?0:startMousePosition-1].data.key]);flattenedNodes=abstractDropNodeEntity;keyEntities=abstractDropNodeEntity.key;direction=startMousePosition=0;if(!expandKeys.includes(abstractDropNodeEntity.key))for(clientX=0;clientX<indent;clientX+=1)if(isLastChild(abstractDropNodeEntity))abstractDropNodeEntity=abstractDropNodeEntity.parent,direction+=1;else break;clientX=abstractDropNodeEntity.node;var dropAllowed=
!0;isFirstChild(abstractDropNodeEntity)&&0===abstractDropNodeEntity.level&&dragNode<event+_event$target$getBoun/2&&allowDrop({dropNode:clientX,dropPosition:-1})&&abstractDropNodeEntity.key===targetNode.props.eventKey?startMousePosition=-1:(flattenedNodes.children||[]).length&&expandKeys.includes(keyEntities)?allowDrop({dropNode:clientX,dropPosition:0})?startMousePosition=0:dropAllowed=!1:0===direction?-1.5<indent?allowDrop({dropNode:clientX,dropPosition:1})?startMousePosition=1:dropAllowed=!1:allowDrop({dropNode:clientX,
dropPosition:0})?startMousePosition=0:allowDrop({dropNode:clientX,dropPosition:1})?startMousePosition=1:dropAllowed=!1:allowDrop({dropNode:clientX,dropPosition:1})?startMousePosition=1:dropAllowed=!1;return{dropPosition:startMousePosition,dropLevelOffset:direction,dropTargetKey:abstractDropNodeEntity.key,dropTargetPos:abstractDropNodeEntity.pos,dragOverNodeKey:keyEntities,dropContainerKey:0===startMousePosition?null:(null===(_abstractDropNodeEnti=abstractDropNodeEntity.parent)||void 0===_abstractDropNodeEnti?
void 0:_abstractDropNodeEnti.key)||null,dropAllowed:dropAllowed}};exports.calcSelectedKeys=function(selectedKeys,props){if(selectedKeys)return props.multiple?selectedKeys.slice():selectedKeys.length?[selectedKeys[0]]:selectedKeys};exports.convertDataToTree=convertDataToTree;exports.parseCheckedKeys=function(keys){if(!keys)return null;if(Array.isArray(keys))keys={checkedKeys:keys,halfCheckedKeys:void 0};else if("object"===(0,_typeof2.default)(keys))keys={checkedKeys:keys.checked||void 0,halfCheckedKeys:keys.halfChecked||
void 0};else return(0,_warning.default)(!1,"`checkedKeys` is not an array or an object"),null;return keys};exports.conductExpandParent=function(keyList,keyEntities){function conductUp(key){if(!expandedKeys.has(key)){var entity=keyEntities[key];entity&&(expandedKeys.add(key),key=entity.parent,entity.node.disabled||key&&conductUp(key.key))}}var expandedKeys=new Set;(keyList||[]).forEach(function(key){conductUp(key)});return(0,_toConsumableArray2.default)(expandedKeys)};exports.getDataAndAria=function(props){var omitProps=
{};Object.keys(props).forEach(function(key){if(key.startsWith("data-")||key.startsWith("aria-"))omitProps[key]=props[key]});return omitProps};var _toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_typeof2=global(require("module$node_modules$$babel$runtime$helpers$typeof")),_objectWithoutProperties2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_react=global(require("module$node_modules$react$index")),_warning=
global(require("module$node_modules$rc_util$lib$warning")),_TreeNode=global(require("module$node_modules$rc_tree$lib$TreeNode")),internalProcessProps=function(props){return props}}
//# sourceMappingURL=module$node_modules$rc_tree$lib$util.js.map
