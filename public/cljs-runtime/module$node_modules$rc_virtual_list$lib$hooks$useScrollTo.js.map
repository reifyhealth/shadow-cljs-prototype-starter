{
"version":3,
"file":"module$node_modules$rc_virtual_list$lib$hooks$useScrollTo.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/rc-virtual-list/lib/hooks/useScrollTo.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_virtual_list$lib$hooks$useScrollTo\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useScrollTo;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction useScrollTo(containerRef, data, heights, itemHeight, getKey, collectHeight, syncScrollTop, triggerFlash) {\n  var scrollRef = React.useRef();\n  return function (arg) {\n    // When not argument provided, we think dev may want to show the scrollbar\n    if (arg === null || arg === undefined) {\n      triggerFlash();\n      return;\n    } // Normal scroll logic\n\n\n    _raf.default.cancel(scrollRef.current);\n\n    if (typeof arg === 'number') {\n      syncScrollTop(arg);\n    } else if (arg && _typeof(arg) === 'object') {\n      var index;\n      var align = arg.align;\n\n      if ('index' in arg) {\n        index = arg.index;\n      } else {\n        index = data.findIndex(function (item) {\n          return getKey(item) === arg.key;\n        });\n      }\n\n      var _arg$offset = arg.offset,\n          offset = _arg$offset === void 0 ? 0 : _arg$offset; // We will retry 3 times in case dynamic height shaking\n\n      var syncScroll = function syncScroll(times, targetAlign) {\n        if (times < 0 || !containerRef.current) return;\n        var height = containerRef.current.clientHeight;\n        var needCollectHeight = false;\n        var newTargetAlign = targetAlign; // Go to next frame if height not exist\n\n        if (height) {\n          var mergedAlign = targetAlign || align; // Get top & bottom\n\n          var stackTop = 0;\n          var itemTop = 0;\n          var itemBottom = 0;\n          var maxLen = Math.min(data.length, index);\n\n          for (var i = 0; i <= maxLen; i += 1) {\n            var key = getKey(data[i]);\n            itemTop = stackTop;\n            var cacheHeight = heights.get(key);\n            itemBottom = itemTop + (cacheHeight === undefined ? itemHeight : cacheHeight);\n            stackTop = itemBottom;\n\n            if (i === index && cacheHeight === undefined) {\n              needCollectHeight = true;\n            }\n          } // Scroll to\n\n\n          var targetTop = null;\n\n          switch (mergedAlign) {\n            case 'top':\n              targetTop = itemTop - offset;\n              break;\n\n            case 'bottom':\n              targetTop = itemBottom - height + offset;\n              break;\n\n            default:\n              {\n                var scrollTop = containerRef.current.scrollTop;\n                var scrollBottom = scrollTop + height;\n\n                if (itemTop < scrollTop) {\n                  newTargetAlign = 'top';\n                } else if (itemBottom > scrollBottom) {\n                  newTargetAlign = 'bottom';\n                }\n              }\n          }\n\n          if (targetTop !== null && targetTop !== containerRef.current.scrollTop) {\n            syncScrollTop(targetTop);\n          }\n        } // We will retry since element may not sync height as it described\n\n\n        scrollRef.current = (0, _raf.default)(function () {\n          if (needCollectHeight) {\n            collectHeight();\n          }\n\n          syncScroll(times - 1, newTargetAlign);\n        });\n      };\n\n      syncScroll(3);\n    }\n  };\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","WeakMap","cache","_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","value","default","useScrollTo","containerRef","data","heights","itemHeight","getKey","collectHeight","syncScrollTop","triggerFlash","scrollRef","React","useRef","arg","undefined","_raf","cancel","current","align","index","findIndex","item","key","_arg$offset","offset","syncScroll","times","targetAlign","height","clientHeight","needCollectHeight","newTargetAlign","mergedAlign","stackTop","itemBottom","itemTop","maxLen","Math","min","length","i","cacheHeight","get","targetTop","scrollTop","_interopRequireWildcard","__esModule","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","hasOwnProperty","call","desc","set","_interopRequireDefault"]
}
