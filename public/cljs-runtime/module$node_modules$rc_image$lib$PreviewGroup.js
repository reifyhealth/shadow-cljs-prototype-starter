shadow$provide.module$node_modules$rc_image$lib$PreviewGroup=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=exports.context=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),
_typeof2=module(require("module$node_modules$$babel$runtime$helpers$typeof")),_objectWithoutProperties2=module(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),React=global(require("module$node_modules$react$index")),_useMergedState3=module(require("module$node_modules$rc_util$lib$hooks$useMergedState")),_Preview=module(require("module$node_modules$rc_image$lib$Preview"));require=React.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,
setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}});exports.context=require;var Provider=require.Provider;exports.default=function(_ref){var _ref$previewPrefixCls=_ref.previewPrefixCls;_ref$previewPrefixCls=void 0===_ref$previewPrefixCls?"rc-image-preview":_ref$previewPrefixCls;var children=_ref.children,_ref$icons=_ref.icons;_ref$icons=void 0===_ref$icons?{}:_ref$icons;_ref=_ref.preview;
var _ref2="object"===(0,_typeof2.default)(_ref)?_ref:{};_ref=_ref2.visible;_ref=void 0===_ref?void 0:_ref;var _ref2$onVisibleChange=_ref2.onVisibleChange,onPreviewVisibleChange=void 0===_ref2$onVisibleChange?void 0:_ref2$onVisibleChange;_ref2$onVisibleChange=_ref2.getContainer;_ref2$onVisibleChange=void 0===_ref2$onVisibleChange?void 0:_ref2$onVisibleChange;var _ref2$current=_ref2.current;_ref2$current=void 0===_ref2$current?0:_ref2$current;_ref2=(0,_objectWithoutProperties2.default)(_ref2,["visible",
"onVisibleChange","getContainer","current"]);var _useState=(0,React.useState)(new Map),_useState2=(0,_slicedToArray2.default)(_useState,2);_useState=_useState2[0];var setPreviewUrls=_useState2[1];_useState2=(0,React.useState)();var _useState4=(0,_slicedToArray2.default)(_useState2,2);_useState2=_useState4[0];var setCurrent=_useState4[1];onPreviewVisibleChange=(0,_useMergedState3.default)(!!_ref,{value:_ref,onChange:onPreviewVisibleChange});onPreviewVisibleChange=(0,_slicedToArray2.default)(onPreviewVisibleChange,
2);var isShowPreview=onPreviewVisibleChange[0],setShowPreview=onPreviewVisibleChange[1];onPreviewVisibleChange=(0,React.useState)(null);_useState4=(0,_slicedToArray2.default)(onPreviewVisibleChange,2);onPreviewVisibleChange=_useState4[0];var setMousePosition=_useState4[1],isControlled=void 0!==_ref,currentControlledKey=Array.from(_useState.keys())[_ref2$current];_ref=new Map(Array.from(_useState).filter(function(_ref3){return!!(0,_slicedToArray2.default)(_ref3,2)[1].canPreview}).map(function(_ref5){_ref5=
(0,_slicedToArray2.default)(_ref5,2);return[_ref5[0],_ref5[1].url]}));React.useEffect(function(){setCurrent(currentControlledKey)},[currentControlledKey]);React.useEffect(function(){!isShowPreview&&isControlled&&setCurrent(currentControlledKey)},[currentControlledKey,isControlled,isShowPreview]);return React.createElement(Provider,{value:{isPreviewGroup:!0,previewUrls:_ref,setPreviewUrls:setPreviewUrls,current:_useState2,setCurrent:setCurrent,setShowPreview:setShowPreview,setMousePosition:setMousePosition,
registerImage:function(id,url){var canPreview=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;setPreviewUrls(function(oldPreviewUrls){return(new Map(oldPreviewUrls)).set(id,{url:url,canPreview:canPreview})});return function(){setPreviewUrls(function(oldPreviewUrls){var clonePreviewUrls=new Map(oldPreviewUrls);return clonePreviewUrls.delete(id)?clonePreviewUrls:oldPreviewUrls})}}}},children,React.createElement(_Preview.default,(0,_extends2.default)({"aria-hidden":!isShowPreview,visible:isShowPreview,
prefixCls:_ref$previewPrefixCls,onClose:function(e){e.stopPropagation();setShowPreview(!1);setMousePosition(null)},mousePosition:onPreviewVisibleChange,src:_ref.get(_useState2),icons:_ref$icons,getContainer:_ref2$onVisibleChange},_ref2)))}}
//# sourceMappingURL=module$node_modules$rc_image$lib$PreviewGroup.js.map
