{
"version":3,
"file":"module$node_modules$rc_image$lib$Preview.js",
"lineCount":16,
"mappings":"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",
"sources":["node_modules/rc-image/lib/Preview.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_image$lib$Preview\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcDialog = _interopRequireDefault(require(\"rc-dialog\"));\n\nvar _classnames5 = _interopRequireDefault(require(\"classnames\"));\n\nvar _addEventListener = _interopRequireDefault(require(\"rc-util/lib/Dom/addEventListener\"));\n\nvar _warning = require(\"rc-util/lib/warning\");\n\nvar _useFrameSetState3 = _interopRequireDefault(require(\"./hooks/useFrameSetState\"));\n\nvar _getFixScaleEleTransPosition = _interopRequireDefault(require(\"./getFixScaleEleTransPosition\"));\n\nvar _PreviewGroup = require(\"./PreviewGroup\");\n\nvar useState = React.useState,\n    useEffect = React.useEffect;\nvar initialPosition = {\n  x: 0,\n  y: 0\n};\n\nvar Preview = function Preview(props) {\n  var prefixCls = props.prefixCls,\n      src = props.src,\n      alt = props.alt,\n      onClose = props.onClose,\n      afterClose = props.afterClose,\n      visible = props.visible,\n      _props$icons = props.icons,\n      icons = _props$icons === void 0 ? {} : _props$icons,\n      restProps = (0, _objectWithoutProperties2.default)(props, [\"prefixCls\", \"src\", \"alt\", \"onClose\", \"afterClose\", \"visible\", \"icons\"]);\n  var rotateLeft = icons.rotateLeft,\n      rotateRight = icons.rotateRight,\n      zoomIn = icons.zoomIn,\n      zoomOut = icons.zoomOut,\n      close = icons.close,\n      left = icons.left,\n      right = icons.right;\n\n  var _useState = useState(1),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      scale = _useState2[0],\n      setScale = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      rotate = _useState4[0],\n      setRotate = _useState4[1];\n\n  var _useFrameSetState = (0, _useFrameSetState3.default)(initialPosition),\n      _useFrameSetState2 = (0, _slicedToArray2.default)(_useFrameSetState, 2),\n      position = _useFrameSetState2[0],\n      setPosition = _useFrameSetState2[1];\n\n  var imgRef = React.useRef();\n  var originPositionRef = React.useRef({\n    originX: 0,\n    originY: 0,\n    deltaX: 0,\n    deltaY: 0\n  });\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      isMoving = _React$useState2[0],\n      setMoving = _React$useState2[1];\n\n  var _React$useContext = React.useContext(_PreviewGroup.context),\n      previewUrls = _React$useContext.previewUrls,\n      current = _React$useContext.current,\n      isPreviewGroup = _React$useContext.isPreviewGroup,\n      setCurrent = _React$useContext.setCurrent;\n\n  var previewGroupCount = previewUrls.size;\n  var previewUrlsKeys = Array.from(previewUrls.keys());\n  var currentPreviewIndex = previewUrlsKeys.indexOf(current);\n  var combinationSrc = isPreviewGroup ? previewUrls.get(current) : src;\n  var showLeftOrRightSwitches = isPreviewGroup && previewGroupCount > 1;\n\n  var _React$useState3 = React.useState({\n    wheelDirection: 0\n  }),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      lastWheelZoomDirection = _React$useState4[0],\n      setLastWheelZoomDirection = _React$useState4[1];\n\n  var onAfterClose = function onAfterClose() {\n    setScale(1);\n    setRotate(0);\n    setPosition(initialPosition);\n  };\n\n  var onZoomIn = function onZoomIn() {\n    setScale(function (value) {\n      return value + 1;\n    });\n    setPosition(initialPosition);\n  };\n\n  var onZoomOut = function onZoomOut() {\n    if (scale > 1) {\n      setScale(function (value) {\n        return value - 1;\n      });\n    }\n\n    setPosition(initialPosition);\n  };\n\n  var onRotateRight = function onRotateRight() {\n    setRotate(function (value) {\n      return value + 90;\n    });\n  };\n\n  var onRotateLeft = function onRotateLeft() {\n    setRotate(function (value) {\n      return value - 90;\n    });\n  };\n\n  var onSwitchLeft = function onSwitchLeft(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n\n    if (currentPreviewIndex > 0) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n    }\n  };\n\n  var onSwitchRight = function onSwitchRight(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n\n    if (currentPreviewIndex < previewGroupCount - 1) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n    }\n  };\n\n  var wrapClassName = (0, _classnames5.default)((0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-moving\"), isMoving));\n  var toolClassName = \"\".concat(prefixCls, \"-operations-operation\");\n  var iconClassName = \"\".concat(prefixCls, \"-operations-icon\");\n  var tools = [{\n    icon: close,\n    onClick: onClose,\n    type: 'close'\n  }, {\n    icon: zoomIn,\n    onClick: onZoomIn,\n    type: 'zoomIn'\n  }, {\n    icon: zoomOut,\n    onClick: onZoomOut,\n    type: 'zoomOut',\n    disabled: scale === 1\n  }, {\n    icon: rotateRight,\n    onClick: onRotateRight,\n    type: 'rotateRight'\n  }, {\n    icon: rotateLeft,\n    onClick: onRotateLeft,\n    type: 'rotateLeft'\n  }];\n\n  var onMouseUp = function onMouseUp() {\n    if (visible && isMoving) {\n      var width = imgRef.current.offsetWidth * scale;\n      var height = imgRef.current.offsetHeight * scale; // eslint-disable-next-line @typescript-eslint/no-shadow\n\n      var _imgRef$current$getBo = imgRef.current.getBoundingClientRect(),\n          _left = _imgRef$current$getBo.left,\n          top = _imgRef$current$getBo.top;\n\n      var isRotate = rotate % 180 !== 0;\n      setMoving(false);\n      var fixState = (0, _getFixScaleEleTransPosition.default)(isRotate ? height : width, isRotate ? width : height, _left, top);\n\n      if (fixState) {\n        setPosition((0, _objectSpread2.default)({}, fixState));\n      }\n    }\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    // Only allow main button\n    if (event.button !== 0) return;\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n    originPositionRef.current.deltaX = event.pageX - position.x;\n    originPositionRef.current.deltaY = event.pageY - position.y;\n    originPositionRef.current.originX = position.x;\n    originPositionRef.current.originY = position.y;\n    setMoving(true);\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    if (visible && isMoving) {\n      setPosition({\n        x: event.pageX - originPositionRef.current.deltaX,\n        y: event.pageY - originPositionRef.current.deltaY\n      });\n    }\n  };\n\n  var onWheelMove = function onWheelMove(event) {\n    if (!visible) return;\n    event.preventDefault();\n    var wheelDirection = event.deltaY;\n    setLastWheelZoomDirection({\n      wheelDirection: wheelDirection\n    });\n  };\n\n  useEffect(function () {\n    var wheelDirection = lastWheelZoomDirection.wheelDirection;\n\n    if (wheelDirection > 0) {\n      onZoomOut();\n    } else if (wheelDirection < 0) {\n      onZoomIn();\n    }\n  }, [lastWheelZoomDirection]);\n  useEffect(function () {\n    var onTopMouseUpListener;\n    var onTopMouseMoveListener;\n    var onMouseUpListener = (0, _addEventListener.default)(window, 'mouseup', onMouseUp, false);\n    var onMouseMoveListener = (0, _addEventListener.default)(window, 'mousemove', onMouseMove, false);\n    var onScrollWheelListener = (0, _addEventListener.default)(window, 'wheel', onWheelMove, {\n      passive: false\n    });\n\n    try {\n      // Resolve if in iframe lost event\n\n      /* istanbul ignore next */\n      if (window.top !== window.self) {\n        onTopMouseUpListener = (0, _addEventListener.default)(window.top, 'mouseup', onMouseUp, false);\n        onTopMouseMoveListener = (0, _addEventListener.default)(window.top, 'mousemove', onMouseMove, false);\n      }\n    } catch (error) {\n      /* istanbul ignore next */\n      (0, _warning.warning)(false, \"[rc-image] \".concat(error));\n    }\n\n    return function () {\n      onMouseUpListener.remove();\n      onMouseMoveListener.remove();\n      onScrollWheelListener.remove();\n      /* istanbul ignore next */\n\n      if (onTopMouseUpListener) onTopMouseUpListener.remove();\n      /* istanbul ignore next */\n\n      if (onTopMouseMoveListener) onTopMouseMoveListener.remove();\n    };\n  }, [visible, isMoving]);\n  return /*#__PURE__*/React.createElement(_rcDialog.default, (0, _extends2.default)({\n    transitionName: \"zoom\",\n    maskTransitionName: \"fade\",\n    closable: false,\n    keyboard: true,\n    prefixCls: prefixCls,\n    onClose: onClose,\n    afterClose: onAfterClose,\n    visible: visible,\n    wrapClassName: wrapClassName\n  }, restProps), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-operations\")\n  }, tools.map(function (_ref) {\n    var icon = _ref.icon,\n        onClick = _ref.onClick,\n        type = _ref.type,\n        disabled = _ref.disabled;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: (0, _classnames5.default)(toolClassName, (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-operations-operation-disabled\"), !!disabled)),\n      onClick: onClick,\n      key: type\n    }, /*#__PURE__*/React.isValidElement(icon) ? /*#__PURE__*/React.cloneElement(icon, {\n      className: iconClassName\n    }) : icon);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-img-wrapper\"),\n    style: {\n      transform: \"translate3d(\".concat(position.x, \"px, \").concat(position.y, \"px, 0)\")\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    onMouseDown: onMouseDown,\n    ref: imgRef,\n    className: \"\".concat(prefixCls, \"-img\"),\n    src: combinationSrc,\n    alt: alt,\n    style: {\n      transform: \"scale3d(\".concat(scale, \", \").concat(scale, \", 1) rotate(\").concat(rotate, \"deg)\")\n    }\n  })), showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: (0, _classnames5.default)(\"\".concat(prefixCls, \"-switch-left\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-switch-left-disabled\"), currentPreviewIndex === 0)),\n    onClick: onSwitchLeft\n  }, left), showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: (0, _classnames5.default)(\"\".concat(prefixCls, \"-switch-right\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-switch-right-disabled\"), currentPreviewIndex === previewGroupCount - 1)),\n    onClick: onSwitchRight\n  }, right));\n};\n\nvar _default = Preview;\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","default","_extends2","_objectSpread2","_defineProperty2","_slicedToArray2","_objectWithoutProperties2","React","_rcDialog","_classnames5","_addEventListener","_warning","_useFrameSetState3","_getFixScaleEleTransPosition","_PreviewGroup","useState","useEffect","initialPosition","x","y","Preview","props","prefixCls","src","alt","onClose","visible","_props$icons","icons","restProps","rotateLeft","rotateRight","zoomIn","zoomOut","close","left","right","_useState","_useState2","scale","setScale","_useState3","_useState4","rotate","setRotate","_useFrameSetState","_useFrameSetState2","position","setPosition","imgRef","useRef","originPositionRef","originX","originY","deltaX","deltaY","_React$useState","_React$useState2","isMoving","setMoving","_React$useContext","useContext","context","previewUrls","current","isPreviewGroup","setCurrent","previewGroupCount","size","previewUrlsKeys","Array","from","keys","currentPreviewIndex","indexOf","combinationSrc","get","showLeftOrRightSwitches","_React$useState3","wheelDirection","_React$useState4","lastWheelZoomDirection","setLastWheelZoomDirection","onZoomIn","onZoomOut","onSwitchLeft","event","preventDefault","stopPropagation","onSwitchRight","wrapClassName","concat","toolClassName","iconClassName","tools","icon","onClick","type","disabled","onRotateRight","onRotateLeft","onMouseUp","width","offsetWidth","height","offsetHeight","_imgRef$current$getBo","getBoundingClientRect","_left","top","isRotate","fixState","onMouseMove","pageX","pageY","onWheelMove","onMouseUpListener","window","onMouseMoveListener","onScrollWheelListener","passive","self","onTopMouseUpListener","onTopMouseMoveListener","error","warning","remove","createElement","transitionName","maskTransitionName","closable","keyboard","afterClose","onAfterClose","className","map","_ref","key","isValidElement","cloneElement","style","transform","onMouseDown","button","ref"]
}
