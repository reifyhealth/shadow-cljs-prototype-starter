shadow$provide.module$node_modules$rc_picker$lib$Picker=function(global,require,module,exports){function InnerPicker(props){var _classNames2,_props$prefixCls=props.prefixCls;_props$prefixCls=void 0===_props$prefixCls?"rc-picker":_props$prefixCls;var id=props.id,tabIndex=props.tabIndex,style=props.style,className=props.className,dropdownClassName=props.dropdownClassName,dropdownAlign=props.dropdownAlign,popupStyle=props.popupStyle,transitionName=props.transitionName,generateConfig=props.generateConfig,
locale=props.locale,inputReadOnly=props.inputReadOnly,allowClear=props.allowClear,autoFocus=props.autoFocus,showTime=props.showTime,_props$picker=props.picker;_props$picker=void 0===_props$picker?"date":_props$picker;var format=props.format,use12Hours=props.use12Hours,value=props.value,defaultValue=props.defaultValue,open=props.open,defaultOpen=props.defaultOpen,defaultOpenValue=props.defaultOpenValue,suffixIcon=props.suffixIcon,clearIcon=props.clearIcon,disabled=props.disabled,disabledDate=props.disabledDate,
placeholder=props.placeholder,getPopupContainer=props.getPopupContainer,pickerRef=props.pickerRef,panelRender=props.panelRender,onChange=props.onChange,onOpenChange=props.onOpenChange,onFocus=props.onFocus,onBlur=props.onBlur,onMouseDown=props.onMouseDown,onMouseUp=props.onMouseUp,onMouseEnter=props.onMouseEnter,onMouseLeave=props.onMouseLeave,onContextMenu=props.onContextMenu,onClick=props.onClick,_onKeyDown=props.onKeyDown,_onSelect=props.onSelect,direction=props.direction,_props$autoComplete=props.autoComplete;
_props$autoComplete=void 0===_props$autoComplete?"off":_props$autoComplete;var inputRef=React.useRef(null),needConfirmButton="date"===_props$picker&&!!showTime||"time"===_props$picker,formatList=(0,_miscUtil.toArray)((0,_uiUtil.getDefaultFormat)(format,_props$picker,showTime,use12Hours)),panelDivRef=React.useRef(null),inputDivRef=React.useRef(null);showTime=(0,_useMergedState5.default)(null,{value:value,defaultValue:defaultValue});showTime=(0,_slicedToArray2.default)(showTime,2);var mergedValue=showTime[0],
setInnerValue=showTime[1];showTime=React.useState(mergedValue);showTime=(0,_slicedToArray2.default)(showTime,2);var selectedValue=showTime[0],setSelectedValue=showTime[1],operationRef=React.useRef(null);open=(0,_useMergedState5.default)(!1,{value:open,defaultValue:defaultOpen,postState:function(postOpen){return disabled?!1:postOpen},onChange:function(newOpen){onOpenChange&&onOpenChange(newOpen);if(!newOpen&&operationRef.current&&operationRef.current.onClose)operationRef.current.onClose()}});open=
(0,_slicedToArray2.default)(open,2);var mergedOpen=open[0],triggerInnerOpen=open[1];open=(0,_useValueTexts3.default)(selectedValue,{formatList:formatList,generateConfig:generateConfig,locale:locale});open=(0,_slicedToArray2.default)(open,2);var valueTexts=open[0],firstValueText=open[1];open=(0,_useTextValueMapping3.default)({valueTexts:valueTexts,onTextChange:function(newText){newText=(0,_dateUtil.parseValue)(newText,{locale:locale,formatList:formatList,generateConfig:generateConfig});!newText||disabledDate&&
disabledDate(newText)||setSelectedValue(newText)}});open=(0,_slicedToArray2.default)(open,3);var text=open[0],triggerTextChange=open[1],resetText=open[2],triggerChange=function(newValue){setSelectedValue(newValue);setInnerValue(newValue);onChange&&!(0,_dateUtil.isEqual)(generateConfig,mergedValue,newValue)&&onChange(newValue,newValue?(0,_dateUtil.formatValue)(newValue,{generateConfig:generateConfig,locale:locale,format:formatList[0]}):"")},triggerOpen=function(newOpen){disabled&&newOpen||triggerInnerOpen(newOpen)};
onFocus=(0,_usePickerInput3.default)({blurToCancel:needConfirmButton,open:mergedOpen,value:text,triggerOpen:triggerOpen,forwardKeyDown:function(e){if(mergedOpen&&operationRef.current&&operationRef.current.onKeyDown)return operationRef.current.onKeyDown(e);(0,_warning.default)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this.");return!1},isClickOutside:function(target){return!(0,_uiUtil.elementsContains)([panelDivRef.current,inputDivRef.current],target)},onSubmit:function(){if(disabledDate&&
disabledDate(selectedValue))return!1;triggerChange(selectedValue);triggerOpen(!1);resetText();return!0},onCancel:function(){triggerOpen(!1);setSelectedValue(mergedValue);resetText()},onKeyDown:function(e,preventDefault){null===_onKeyDown||void 0===_onKeyDown?void 0:_onKeyDown(e,preventDefault)},onFocus:onFocus,onBlur:onBlur});onBlur=(0,_slicedToArray2.default)(onFocus,2);onFocus=onBlur[0];open=onBlur[1];onBlur=open.focused;open=open.typing;React.useEffect(function(){mergedOpen||(setSelectedValue(mergedValue),
valueTexts.length&&""!==valueTexts[0]?firstValueText!==text&&resetText():triggerTextChange(""))},[mergedOpen,valueTexts]);React.useEffect(function(){mergedOpen||resetText()},[_props$picker]);React.useEffect(function(){setSelectedValue(mergedValue)},[mergedValue]);pickerRef&&(pickerRef.current={focus:function(){inputRef.current&&inputRef.current.focus()},blur:function(){inputRef.current&&inputRef.current.blur()}});pickerRef=(0,_useHoverValue3.default)(text,{formatList:formatList,generateConfig:generateConfig,
locale:locale});showTime=(0,_slicedToArray2.default)(pickerRef,3);pickerRef=showTime[0];defaultOpen=showTime[1];var onLeave=showTime[2];showTime=(0,_objectSpread2.default)((0,_objectSpread2.default)({},props),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null});showTime=React.createElement(_PickerPanel.default,(0,_extends2.default)({},showTime,{generateConfig:generateConfig,className:(0,_classnames.default)((0,_defineProperty2.default)({},"".concat(_props$prefixCls,
"-panel-focused"),!open)),value:selectedValue,locale:locale,tabIndex:-1,onSelect:function(date){null===_onSelect||void 0===_onSelect?void 0:_onSelect(date);setSelectedValue(date)},direction:direction,onPanelChange:function(viewDate,mode){var onPanelChange=props.onPanelChange;onLeave(!0);null===onPanelChange||void 0===onPanelChange?void 0:onPanelChange(viewDate,mode)}}));panelRender&&(showTime=panelRender(showTime));panelRender=React.createElement("div",{className:"".concat(_props$prefixCls,"-panel-container"),
onMouseDown:function(e){e.preventDefault()}},showTime);var suffixNode;suffixIcon&&(suffixNode=React.createElement("span",{className:"".concat(_props$prefixCls,"-suffix")},suffixIcon));var clearNode;allowClear&&mergedValue&&!disabled&&(clearNode=React.createElement("span",{onMouseDown:function(e){e.preventDefault();e.stopPropagation()},onMouseUp:function(e){e.preventDefault();e.stopPropagation();triggerChange(null);triggerOpen(!1)},className:"".concat(_props$prefixCls,"-clear")},clearIcon||React.createElement("span",
{className:"".concat(_props$prefixCls,"-clear-btn")})));(0,_warning.default)(!defaultOpenValue,"`defaultOpenValue` may confuse user for the current value status. Please use `defaultValue` instead.");return React.createElement(_PanelContext.default.Provider,{value:{operationRef:operationRef,hideHeader:"time"===_props$picker,panelRef:panelDivRef,onSelect:function(date,type){if("submit"===type||"key"!==type&&!needConfirmButton)triggerChange(date),triggerOpen(!1)},open:mergedOpen,defaultOpenValue:defaultOpenValue,
onDateMouseEnter:defaultOpen,onDateMouseLeave:onLeave}},React.createElement(_PickerTrigger.default,{visible:mergedOpen,popupElement:panelRender,popupStyle:popupStyle,prefixCls:_props$prefixCls,dropdownClassName:dropdownClassName,dropdownAlign:dropdownAlign,getPopupContainer:getPopupContainer,transitionName:transitionName,popupPlacement:"rtl"===direction?"bottomRight":"bottomLeft",direction:direction},React.createElement("div",{className:(0,_classnames.default)(_props$prefixCls,className,(_classNames2=
{},(0,_defineProperty2.default)(_classNames2,"".concat(_props$prefixCls,"-disabled"),disabled),(0,_defineProperty2.default)(_classNames2,"".concat(_props$prefixCls,"-focused"),onBlur),(0,_defineProperty2.default)(_classNames2,"".concat(_props$prefixCls,"-rtl"),"rtl"===direction),_classNames2)),style:style,onMouseDown:onMouseDown,onMouseUp:function(){onMouseUp&&onMouseUp.apply(void 0,arguments);inputRef.current&&(inputRef.current.focus(),triggerOpen(!0))},onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,
onContextMenu:onContextMenu,onClick:onClick},React.createElement("div",{className:(0,_classnames.default)("".concat(_props$prefixCls,"-input"),(0,_defineProperty2.default)({},"".concat(_props$prefixCls,"-input-placeholder"),!!pickerRef)),ref:inputDivRef},React.createElement("input",(0,_extends2.default)({id:id,tabIndex:tabIndex,disabled:disabled,readOnly:inputReadOnly||"function"===typeof formatList[0]||!open,value:pickerRef||text,onChange:function(e){triggerTextChange(e.target.value)},autoFocus:autoFocus,
placeholder:placeholder,ref:inputRef,title:text},onFocus,{size:(0,_uiUtil.getInputSize)(_props$picker,formatList[0],generateConfig)},(0,_miscUtil.default)(props),{autoComplete:_props$autoComplete})),suffixNode,clearNode))))}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),
_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),_inherits2=module(require("module$node_modules$$babel$runtime$helpers$inherits")),_createSuper2=module(require("module$node_modules$$babel$runtime$helpers$createSuper")),_extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),
_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_classnames=module(require("module$node_modules$classnames$index")),_warning=module(require("module$node_modules$rc_util$lib$warning")),_useMergedState5=module(require("module$node_modules$rc_util$lib$hooks$useMergedState")),_PickerPanel=module(require("module$node_modules$rc_picker$lib$PickerPanel")),_PickerTrigger=module(require("module$node_modules$rc_picker$lib$PickerTrigger")),
_dateUtil=require("module$node_modules$rc_picker$lib$utils$dateUtil"),_miscUtil=global(require("module$node_modules$rc_picker$lib$utils$miscUtil")),_PanelContext=module(require("module$node_modules$rc_picker$lib$PanelContext")),_uiUtil=require("module$node_modules$rc_picker$lib$utils$uiUtil"),_usePickerInput3=module(require("module$node_modules$rc_picker$lib$hooks$usePickerInput")),_useTextValueMapping3=module(require("module$node_modules$rc_picker$lib$hooks$useTextValueMapping")),_useValueTexts3=
module(require("module$node_modules$rc_picker$lib$hooks$useValueTexts")),_useHoverValue3=module(require("module$node_modules$rc_picker$lib$hooks$useHoverValue"));require=function(_React$Component){function Picker(){(0,_classCallCheck2.default)(this,Picker);var _this=_super.apply(this,arguments);_this.pickerRef=React.createRef();_this.focus=function(){_this.pickerRef.current&&_this.pickerRef.current.focus()};_this.blur=function(){_this.pickerRef.current&&_this.pickerRef.current.blur()};return _this}
(0,_inherits2.default)(Picker,_React$Component);var _super=(0,_createSuper2.default)(Picker);(0,_createClass2.default)(Picker,[{key:"render",value:function(){return React.createElement(InnerPicker,(0,_extends2.default)({},this.props,{pickerRef:this.pickerRef}))}}]);return Picker}(React.Component);exports.default=require}
//# sourceMappingURL=module$node_modules$rc_picker$lib$Picker.js.map
