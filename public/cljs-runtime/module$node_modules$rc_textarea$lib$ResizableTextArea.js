shadow$provide.module$node_modules$rc_textarea$lib$ResizableTextArea=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),
_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),_inherits2=module(require("module$node_modules$$babel$runtime$helpers$inherits")),_createSuper2=module(require("module$node_modules$$babel$runtime$helpers$createSuper")),React=global(require("module$node_modules$react$index")),
_rcResizeObserver=module(require("module$node_modules$rc_resize_observer$lib$index")),_omit=module(require("module$node_modules$rc_util$lib$omit")),_classnames=module(require("module$node_modules$classnames$index")),_calculateNodeHeight=module(require("module$node_modules$rc_textarea$lib$calculateNodeHeight")),RESIZE_STATUS;(function(RESIZE_STATUS){RESIZE_STATUS[RESIZE_STATUS.NONE=0]="NONE";RESIZE_STATUS[RESIZE_STATUS.RESIZING=1]="RESIZING";RESIZE_STATUS[RESIZE_STATUS.RESIZED=2]="RESIZED"})(RESIZE_STATUS||
(RESIZE_STATUS={}));require=function(_React$Component){function ResizableTextArea(props){(0,_classCallCheck2.default)(this,ResizableTextArea);var _this=_super.call(this,props);_this.saveTextArea=function(textArea){_this.textArea=textArea};_this.handleResize=function(size){var _this$props=_this.props,autoSize=_this$props.autoSize;_this$props=_this$props.onResize;_this.state.resizeStatus===RESIZE_STATUS.NONE&&("function"===typeof _this$props&&_this$props(size),autoSize&&_this.resizeOnNextFrame())};
_this.resizeOnNextFrame=function(){cancelAnimationFrame(_this.nextFrameActionId);_this.nextFrameActionId=requestAnimationFrame(_this.resizeTextarea)};_this.resizeTextarea=function(){var autoSize=_this.props.autoSize;if(autoSize&&_this.textArea){var minRows=autoSize.minRows;autoSize=autoSize.maxRows;minRows=(0,_calculateNodeHeight.default)(_this.textArea,!1,minRows,autoSize);_this.setState({textareaStyles:minRows,resizeStatus:RESIZE_STATUS.RESIZING},function(){cancelAnimationFrame(_this.resizeFrameId);
_this.resizeFrameId=requestAnimationFrame(function(){_this.setState({resizeStatus:RESIZE_STATUS.RESIZED},function(){_this.resizeFrameId=requestAnimationFrame(function(){_this.setState({resizeStatus:RESIZE_STATUS.NONE});_this.fixFirefoxAutoScroll()})})})})}};_this.renderTextArea=function(){var _this$props2=_this.props,_this$props2$prefixCl=_this$props2.prefixCls,prefixCls=void 0===_this$props2$prefixCl?"rc-textarea":_this$props2$prefixCl;_this$props2$prefixCl=_this$props2.autoSize;var onResize=_this$props2.onResize,
className=_this$props2.className,disabled=_this$props2.disabled,_this$state=_this.state;_this$props2=_this$state.textareaStyles;var resizeStatus=_this$state.resizeStatus;_this$state=(0,_omit.default)(_this.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]);prefixCls=(0,_classnames.default)(prefixCls,className,(0,_defineProperty2.default)({},"".concat(prefixCls,"-disabled"),disabled));"value"in _this$state&&(_this$state.value=_this$state.value||"");className=(0,_objectSpread2.default)((0,
_objectSpread2.default)((0,_objectSpread2.default)({},_this.props.style),_this$props2),resizeStatus===RESIZE_STATUS.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return React.createElement(_rcResizeObserver.default,{onResize:_this.handleResize,disabled:!(_this$props2$prefixCl||onResize)},React.createElement("textarea",(0,_extends2.default)({},_this$state,{className:prefixCls,style:className,ref:_this.saveTextArea})))};_this.state={textareaStyles:{},resizeStatus:RESIZE_STATUS.NONE};return _this}
(0,_inherits2.default)(ResizableTextArea,_React$Component);var _super=(0,_createSuper2.default)(ResizableTextArea);(0,_createClass2.default)(ResizableTextArea,[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentDidUpdate",value:function(prevProps){prevProps.value!==this.props.value&&this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId);cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{document.activeElement===
this.textArea&&this.textArea.setSelectionRange(this.textArea.selectionStart,this.textArea.selectionEnd)}catch(e){}}},{key:"render",value:function(){return this.renderTextArea()}}]);return ResizableTextArea}(React.Component);exports.default=require}
//# sourceMappingURL=module$node_modules$rc_textarea$lib$ResizableTextArea.js.map
