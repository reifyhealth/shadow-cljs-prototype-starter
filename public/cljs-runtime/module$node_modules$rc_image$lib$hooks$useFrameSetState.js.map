{
"version":3,
"file":"module$node_modules$rc_image$lib$hooks$useFrameSetState.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,uDAAA,CAA4E,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGhHC,MAAAA,CAA0BH,OAAA,CAAQ,mEAAR,CAE1BI,OAAAA,CAAyBJ,OAAA,CAAQ,kEAAR,CAE7BK,OAAOC,CAAAA,cAAP,CAAsBJ,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CK,MAAO,CAAA,CADoC,CAA7C,CAGAL,QAAQM,CAAAA,OAAR,CAUAC,QAAyB,CAACC,OAAD,CAAU,CACjC,IAAIC,MAAQC,KAAMC,CAAAA,MAAN,CAAa,IAAb,CAERC,QAAAA,CAAkBF,KAAMG,CAAAA,QAAN,CAAeL,OAAf,CAClBM,QAAAA,CAAmB,CAAC,CAAA,CAAGC,eAAgBT,CAAAA,OAApB,EAA6BM,OAA7B,CAA8C,CAA9C,CAJU,KAK7BI,MAAQF,OAAA,CAAiB,CAAjB,CALqB,CAM7BG;AAAWH,OAAA,CAAiB,CAAjB,CANkB,CAQ7BI,MAAQR,KAAMC,CAAAA,MAAN,CAAa,EAAb,CAoBZD,MAAMS,CAAAA,SAAN,CAAgB,QAAS,EAAG,CAC1B,MAAO,SAAS,EAAG,CACjB,MAAOV,MAAMW,CAAAA,OAAb,EAAwBC,IAAKf,CAAAA,OAAQgB,CAAAA,MAAb,CAAoBb,KAAMW,CAAAA,OAA1B,CADP,CADO,CAA5B,CAIG,EAJH,CAKA,OAAO,CAACJ,KAAD,CAvBaO,QAAsB,CAACC,QAAD,CAAW,CAC7B,IAAtB,GAAIf,KAAMW,CAAAA,OAAV,GACEF,KAAME,CAAAA,OACN,CADgB,EAChB,CAAAX,KAAMW,CAAAA,OAAN,CAAgB,CAAC,CAAA,CAAGC,IAAKf,CAAAA,OAAT,EAAkB,QAAS,EAAG,CAC5CW,QAAA,CAAS,QAAS,CAACQ,QAAD,CAAW,CAC3B,IAAIC,UAAYD,QAChBP,MAAME,CAAAA,OAAQO,CAAAA,OAAd,CAAsB,QAAS,CAACC,UAAD,CAAa,CAC1CF,SAAA,CAAY,CAAC,CAAA,CAAGG,cAAevB,CAAAA,OAAnB,EAA4B,CAAC,CAAA,CAAGuB,cAAevB,CAAAA,OAAnB,EAA4B,EAA5B,CAAgCoB,SAAhC,CAA5B,CAAwEE,UAAxE,CAD8B,CAA5C,CAGAnB,MAAMW,CAAAA,OAAN,CAAgB,IAChB,OAAOM,UANoB,CAA7B,CAD4C,CAA9B,CAFlB,CAcAR,MAAME,CAAAA,OAAQU,CAAAA,IAAd,CAAmBN,QAAnB,CAfmD,CAuB9C,CAjC0B,CARnC;IAAIK,eAAiB3B,MAAA,CAAuBJ,OAAA,CAAQ,0DAAR,CAAvB,CAArB,CAEIiB,gBAAkBb,MAAA,CAAuBJ,OAAA,CAAQ,0DAAR,CAAvB,CAFtB,CAIIY,MAAQT,MAAA,CAAwBH,OAAA,CAAQ,iCAAR,CAAxB,CAJZ,CAMIuB,KAAOnB,MAAA,CAAuBJ,OAAA,CAAQ,qCAAR,CAAvB,CAlByG;",
"sources":["node_modules/rc-image/lib/hooks/useFrameSetState.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_image$lib$hooks$useFrameSetState\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useFrameSetState;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\n\nfunction useFrameSetState(initial) {\n  var frame = React.useRef(null);\n\n  var _React$useState = React.useState(initial),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var queue = React.useRef([]);\n\n  var setFrameState = function setFrameState(newState) {\n    if (frame.current === null) {\n      queue.current = [];\n      frame.current = (0, _raf.default)(function () {\n        setState(function (preState) {\n          var memoState = preState;\n          queue.current.forEach(function (queueState) {\n            memoState = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, memoState), queueState);\n          });\n          frame.current = null;\n          return memoState;\n        });\n      });\n    }\n\n    queue.current.push(newState);\n  };\n\n  React.useEffect(function () {\n    return function () {\n      return frame.current && _raf.default.cancel(frame.current);\n    };\n  }, []);\n  return [state, setFrameState];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","default","useFrameSetState","initial","frame","React","useRef","_React$useState","useState","_React$useState2","_slicedToArray2","state","setState","queue","useEffect","current","_raf","cancel","setFrameState","newState","preState","memoState","forEach","queueState","_objectSpread2","push"]
}
