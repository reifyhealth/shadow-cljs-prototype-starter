shadow$provide.module$node_modules$rc_picker$lib$panels$DatetimePanel$index=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),
_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_typeof2=module(require("module$node_modules$$babel$runtime$helpers$typeof")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_classnames=module(require("module$node_modules$classnames$index")),_KeyCode=module(require("module$node_modules$rc_util$lib$KeyCode")),_DatePanel=module(require("module$node_modules$rc_picker$lib$panels$DatePanel$index")),
_TimePanel=module(require("module$node_modules$rc_picker$lib$panels$TimePanel$index"));global=require("module$node_modules$rc_picker$lib$utils$miscUtil");var _timeUtil=require("module$node_modules$rc_picker$lib$utils$timeUtil"),ACTIVE_PANEL=(0,global.tuple)("date","time");exports.default=function(props){var operationRef=props.operationRef,generateConfig=props.generateConfig,value=props.value,defaultValue=props.defaultValue,disabledTime=props.disabledTime,showTime=props.showTime,onSelect=props.onSelect,
panelPrefixCls="".concat(props.prefixCls,"-datetime-panel"),_React$useState=React.useState(null);_React$useState=(0,_slicedToArray2.default)(_React$useState,2);var activePanel=_React$useState[0],setActivePanel=_React$useState[1],dateOperationRef=React.useRef({}),timeOperationRef=React.useRef({}),timeProps="object"===(0,_typeof2.default)(showTime)?(0,_objectSpread2.default)({},showTime):{};_React$useState=function(e){if(timeOperationRef.current.onBlur)timeOperationRef.current.onBlur(e);setActivePanel(null)};
operationRef.current={onKeyDown:function(event){if(event.which===_KeyCode.default.TAB){var nextActivePanel=event.shiftKey?-1:1;nextActivePanel=ACTIVE_PANEL.indexOf(activePanel)+nextActivePanel;nextActivePanel=ACTIVE_PANEL[nextActivePanel]||null;setActivePanel(nextActivePanel);nextActivePanel&&event.preventDefault();return!0}if(activePanel){nextActivePanel="date"===activePanel?dateOperationRef:timeOperationRef;if(nextActivePanel.current&&nextActivePanel.current.onKeyDown)nextActivePanel.current.onKeyDown(event);
return!0}return[_KeyCode.default.LEFT,_KeyCode.default.RIGHT,_KeyCode.default.UP,_KeyCode.default.DOWN].includes(event.which)?(setActivePanel("date"),!0):!1},onBlur:_React$useState,onClose:_React$useState};var onInternalSelect=function(date,source){"date"===source&&!value&&timeProps.defaultValue?(date=generateConfig.setHour(date,generateConfig.getHour(timeProps.defaultValue)),date=generateConfig.setMinute(date,generateConfig.getMinute(timeProps.defaultValue)),date=generateConfig.setSecond(date,generateConfig.getSecond(timeProps.defaultValue))):
"time"===source&&!value&&defaultValue&&(date=generateConfig.setYear(date,generateConfig.getYear(defaultValue)),date=generateConfig.setMonth(date,generateConfig.getMonth(defaultValue)),date=generateConfig.setDate(date,generateConfig.getDate(defaultValue)));onSelect&&onSelect(date,"mouse")};operationRef=disabledTime?disabledTime(value||null):{};return React.createElement("div",{className:(0,_classnames.default)(panelPrefixCls,(0,_defineProperty2.default)({},"".concat(panelPrefixCls,"-active"),activePanel))},
React.createElement(_DatePanel.default,(0,_extends2.default)({},props,{operationRef:dateOperationRef,active:"date"===activePanel,onSelect:function(date){onInternalSelect((0,_timeUtil.setDateTime)(generateConfig,date,showTime&&"object"===(0,_typeof2.default)(showTime)?showTime.defaultValue:null),"date")}})),React.createElement(_TimePanel.default,(0,_extends2.default)({},props,{format:void 0},timeProps,operationRef,{defaultValue:void 0,operationRef:timeOperationRef,active:"time"===activePanel,onSelect:function(date){onInternalSelect(date,
"time")}})))}}
//# sourceMappingURL=module$node_modules$rc_picker$lib$panels$DatetimePanel$index.js.map
