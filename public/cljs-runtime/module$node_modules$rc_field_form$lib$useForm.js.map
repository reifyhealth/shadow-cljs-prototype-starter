{
"version":3,
"file":"module$node_modules$rc_field_form$lib$useForm.js",
"lineCount":33,
"mappings":"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",
"sources":["node_modules/rc-field-form/lib/useForm.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_field_form$lib$useForm\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormStore = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _FieldContext = require(\"./FieldContext\");\n\nvar _asyncUtil = require(\"./utils/asyncUtil\");\n\nvar _NameMap = _interopRequireDefault(require(\"./utils/NameMap\"));\n\nvar _messages = require(\"./utils/messages\");\n\nvar _valueUtil = require(\"./utils/valueUtil\");\n\nvar FormStore = function FormStore(forceRootUpdate) {\n  var _this = this;\n\n  (0, _classCallCheck2.default)(this, FormStore);\n  this.formHooked = false;\n  this.subscribable = true;\n  this.store = {};\n  this.fieldEntities = [];\n  this.initialValues = {};\n  this.callbacks = {};\n  this.validateMessages = null;\n  this.preserve = null;\n  this.lastValidatePromise = null;\n\n  this.getForm = function () {\n    return {\n      getFieldValue: _this.getFieldValue,\n      getFieldsValue: _this.getFieldsValue,\n      getFieldError: _this.getFieldError,\n      getFieldsError: _this.getFieldsError,\n      isFieldsTouched: _this.isFieldsTouched,\n      isFieldTouched: _this.isFieldTouched,\n      isFieldValidating: _this.isFieldValidating,\n      isFieldsValidating: _this.isFieldsValidating,\n      resetFields: _this.resetFields,\n      setFields: _this.setFields,\n      setFieldsValue: _this.setFieldsValue,\n      validateFields: _this.validateFields,\n      submit: _this.submit,\n      getInternalHooks: _this.getInternalHooks\n    };\n  }; // ======================== Internal Hooks ========================\n\n\n  this.getInternalHooks = function (key) {\n    if (key === _FieldContext.HOOK_MARK) {\n      _this.formHooked = true;\n      return {\n        dispatch: _this.dispatch,\n        initEntityValue: _this.initEntityValue,\n        registerField: _this.registerField,\n        useSubscribe: _this.useSubscribe,\n        setInitialValues: _this.setInitialValues,\n        setCallbacks: _this.setCallbacks,\n        setValidateMessages: _this.setValidateMessages,\n        getFields: _this.getFields,\n        setPreserve: _this.setPreserve\n      };\n    }\n\n    (0, _warning.default)(false, '`getInternalHooks` is internal usage. Should not call directly.');\n    return null;\n  };\n\n  this.useSubscribe = function (subscribable) {\n    _this.subscribable = subscribable;\n  };\n  /**\n   * First time `setInitialValues` should update store with initial value\n   */\n\n\n  this.setInitialValues = function (initialValues, init) {\n    _this.initialValues = initialValues || {};\n\n    if (init) {\n      _this.store = (0, _valueUtil.setValues)({}, initialValues, _this.store);\n    }\n  };\n\n  this.getInitialValue = function (namePath) {\n    return (0, _valueUtil.getValue)(_this.initialValues, namePath);\n  };\n\n  this.setCallbacks = function (callbacks) {\n    _this.callbacks = callbacks;\n  };\n\n  this.setValidateMessages = function (validateMessages) {\n    _this.validateMessages = validateMessages;\n  };\n\n  this.setPreserve = function (preserve) {\n    _this.preserve = preserve;\n  }; // ========================== Dev Warning =========================\n\n\n  this.timeoutId = null;\n\n  this.warningUnhooked = function () {\n    if (process.env.NODE_ENV !== 'production' && !_this.timeoutId && typeof window !== 'undefined') {\n      _this.timeoutId = window.setTimeout(function () {\n        _this.timeoutId = null;\n\n        if (!_this.formHooked) {\n          (0, _warning.default)(false, 'Instance created by `useForm` is not connected to any Form element. Forget to pass `form` prop?');\n        }\n      });\n    }\n  }; // ============================ Fields ============================\n\n  /**\n   * Get registered field entities.\n   * @param pure Only return field which has a `name`. Default: false\n   */\n\n\n  this.getFieldEntities = function () {\n    var pure = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (!pure) {\n      return _this.fieldEntities;\n    }\n\n    return _this.fieldEntities.filter(function (field) {\n      return field.getNamePath().length;\n    });\n  };\n\n  this.getFieldsMap = function () {\n    var pure = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var cache = new _NameMap.default();\n\n    _this.getFieldEntities(pure).forEach(function (field) {\n      var namePath = field.getNamePath();\n      cache.set(namePath, field);\n    });\n\n    return cache;\n  };\n\n  this.getFieldEntitiesForNamePathList = function (nameList) {\n    if (!nameList) {\n      return _this.getFieldEntities(true);\n    }\n\n    var cache = _this.getFieldsMap(true);\n\n    return nameList.map(function (name) {\n      var namePath = (0, _valueUtil.getNamePath)(name);\n      return cache.get(namePath) || {\n        INVALIDATE_NAME_PATH: (0, _valueUtil.getNamePath)(name)\n      };\n    });\n  };\n\n  this.getFieldsValue = function (nameList, filterFunc) {\n    _this.warningUnhooked();\n\n    if (nameList === true && !filterFunc) {\n      return _this.store;\n    }\n\n    var fieldEntities = _this.getFieldEntitiesForNamePathList(Array.isArray(nameList) ? nameList : null);\n\n    var filteredNameList = [];\n    fieldEntities.forEach(function (entity) {\n      var _entity$isListField;\n\n      var namePath = 'INVALIDATE_NAME_PATH' in entity ? entity.INVALIDATE_NAME_PATH : entity.getNamePath(); // Ignore when it's a list item and not specific the namePath,\n      // since parent field is already take in count\n\n      if (!nameList && ((_entity$isListField = entity.isListField) === null || _entity$isListField === void 0 ? void 0 : _entity$isListField.call(entity))) {\n        return;\n      }\n\n      if (!filterFunc) {\n        filteredNameList.push(namePath);\n      } else {\n        var meta = 'getMeta' in entity ? entity.getMeta() : null;\n\n        if (filterFunc(meta)) {\n          filteredNameList.push(namePath);\n        }\n      }\n    });\n    return (0, _valueUtil.cloneByNamePathList)(_this.store, filteredNameList.map(_valueUtil.getNamePath));\n  };\n\n  this.getFieldValue = function (name) {\n    _this.warningUnhooked();\n\n    var namePath = (0, _valueUtil.getNamePath)(name);\n    return (0, _valueUtil.getValue)(_this.store, namePath);\n  };\n\n  this.getFieldsError = function (nameList) {\n    _this.warningUnhooked();\n\n    var fieldEntities = _this.getFieldEntitiesForNamePathList(nameList);\n\n    return fieldEntities.map(function (entity, index) {\n      if (entity && !('INVALIDATE_NAME_PATH' in entity)) {\n        return {\n          name: entity.getNamePath(),\n          errors: entity.getErrors()\n        };\n      }\n\n      return {\n        name: (0, _valueUtil.getNamePath)(nameList[index]),\n        errors: []\n      };\n    });\n  };\n\n  this.getFieldError = function (name) {\n    _this.warningUnhooked();\n\n    var namePath = (0, _valueUtil.getNamePath)(name);\n\n    var fieldError = _this.getFieldsError([namePath])[0];\n\n    return fieldError.errors;\n  };\n\n  this.isFieldsTouched = function () {\n    _this.warningUnhooked();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var arg0 = args[0],\n        arg1 = args[1];\n    var namePathList;\n    var isAllFieldsTouched = false;\n\n    if (args.length === 0) {\n      namePathList = null;\n    } else if (args.length === 1) {\n      if (Array.isArray(arg0)) {\n        namePathList = arg0.map(_valueUtil.getNamePath);\n        isAllFieldsTouched = false;\n      } else {\n        namePathList = null;\n        isAllFieldsTouched = arg0;\n      }\n    } else {\n      namePathList = arg0.map(_valueUtil.getNamePath);\n      isAllFieldsTouched = arg1;\n    }\n\n    var fieldEntities = _this.getFieldEntities(true);\n\n    var isFieldTouched = function isFieldTouched(field) {\n      return field.isFieldTouched();\n    }; // ===== Will get fully compare when not config namePathList =====\n\n\n    if (!namePathList) {\n      return isAllFieldsTouched ? fieldEntities.every(isFieldTouched) : fieldEntities.some(isFieldTouched);\n    } // Generate a nest tree for validate\n\n\n    var map = new _NameMap.default();\n    namePathList.forEach(function (shortNamePath) {\n      map.set(shortNamePath, []);\n    });\n    fieldEntities.forEach(function (field) {\n      var fieldNamePath = field.getNamePath(); // Find matched entity and put into list\n\n      namePathList.forEach(function (shortNamePath) {\n        if (shortNamePath.every(function (nameUnit, i) {\n          return fieldNamePath[i] === nameUnit;\n        })) {\n          map.update(shortNamePath, function (list) {\n            return [].concat((0, _toConsumableArray2.default)(list), [field]);\n          });\n        }\n      });\n    }); // Check if NameMap value is touched\n\n    var isNamePathListTouched = function isNamePathListTouched(entities) {\n      return entities.some(isFieldTouched);\n    };\n\n    var namePathListEntities = map.map(function (_ref) {\n      var value = _ref.value;\n      return value;\n    });\n    return isAllFieldsTouched ? namePathListEntities.every(isNamePathListTouched) : namePathListEntities.some(isNamePathListTouched);\n  };\n\n  this.isFieldTouched = function (name) {\n    _this.warningUnhooked();\n\n    return _this.isFieldsTouched([name]);\n  };\n\n  this.isFieldsValidating = function (nameList) {\n    _this.warningUnhooked();\n\n    var fieldEntities = _this.getFieldEntities();\n\n    if (!nameList) {\n      return fieldEntities.some(function (testField) {\n        return testField.isFieldValidating();\n      });\n    }\n\n    var namePathList = nameList.map(_valueUtil.getNamePath);\n    return fieldEntities.some(function (testField) {\n      var fieldNamePath = testField.getNamePath();\n      return (0, _valueUtil.containsNamePath)(namePathList, fieldNamePath) && testField.isFieldValidating();\n    });\n  };\n\n  this.isFieldValidating = function (name) {\n    _this.warningUnhooked();\n\n    return _this.isFieldsValidating([name]);\n  };\n  /**\n   * Reset Field with field `initialValue` prop.\n   * Can pass `entities` or `namePathList` or just nothing.\n   */\n\n\n  this.resetWithFieldInitialValue = function () {\n    var info = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Create cache\n    var cache = new _NameMap.default();\n\n    var fieldEntities = _this.getFieldEntities(true);\n\n    fieldEntities.forEach(function (field) {\n      var initialValue = field.props.initialValue;\n      var namePath = field.getNamePath(); // Record only if has `initialValue`\n\n      if (initialValue !== undefined) {\n        var records = cache.get(namePath) || new Set();\n        records.add({\n          entity: field,\n          value: initialValue\n        });\n        cache.set(namePath, records);\n      }\n    }); // Reset\n\n    var resetWithFields = function resetWithFields(entities) {\n      entities.forEach(function (field) {\n        var initialValue = field.props.initialValue;\n\n        if (initialValue !== undefined) {\n          var namePath = field.getNamePath();\n\n          var formInitialValue = _this.getInitialValue(namePath);\n\n          if (formInitialValue !== undefined) {\n            // Warning if conflict with form initialValues and do not modify value\n            (0, _warning.default)(false, \"Form already set 'initialValues' with path '\".concat(namePath.join('.'), \"'. Field can not overwrite it.\"));\n          } else {\n            var records = cache.get(namePath);\n\n            if (records && records.size > 1) {\n              // Warning if multiple field set `initialValue`and do not modify value\n              (0, _warning.default)(false, \"Multiple Field with path '\".concat(namePath.join('.'), \"' set 'initialValue'. Can not decide which one to pick.\"));\n            } else if (records) {\n              var originValue = _this.getFieldValue(namePath); // Set `initialValue`\n\n\n              if (!info.skipExist || originValue === undefined) {\n                _this.store = (0, _valueUtil.setValue)(_this.store, namePath, (0, _toConsumableArray2.default)(records)[0].value);\n              }\n            }\n          }\n        }\n      });\n    };\n\n    var requiredFieldEntities;\n\n    if (info.entities) {\n      requiredFieldEntities = info.entities;\n    } else if (info.namePathList) {\n      requiredFieldEntities = [];\n      info.namePathList.forEach(function (namePath) {\n        var records = cache.get(namePath);\n\n        if (records) {\n          var _requiredFieldEntitie;\n\n          (_requiredFieldEntitie = requiredFieldEntities).push.apply(_requiredFieldEntitie, (0, _toConsumableArray2.default)((0, _toConsumableArray2.default)(records).map(function (r) {\n            return r.entity;\n          })));\n        }\n      });\n    } else {\n      requiredFieldEntities = fieldEntities;\n    }\n\n    resetWithFields(requiredFieldEntities);\n  };\n\n  this.resetFields = function (nameList) {\n    _this.warningUnhooked();\n\n    var prevStore = _this.store;\n\n    if (!nameList) {\n      _this.store = (0, _valueUtil.setValues)({}, _this.initialValues);\n\n      _this.resetWithFieldInitialValue();\n\n      _this.notifyObservers(prevStore, null, {\n        type: 'reset'\n      });\n\n      return;\n    } // Reset by `nameList`\n\n\n    var namePathList = nameList.map(_valueUtil.getNamePath);\n    namePathList.forEach(function (namePath) {\n      var initialValue = _this.getInitialValue(namePath);\n\n      _this.store = (0, _valueUtil.setValue)(_this.store, namePath, initialValue);\n    });\n\n    _this.resetWithFieldInitialValue({\n      namePathList: namePathList\n    });\n\n    _this.notifyObservers(prevStore, namePathList, {\n      type: 'reset'\n    });\n  };\n\n  this.setFields = function (fields) {\n    _this.warningUnhooked();\n\n    var prevStore = _this.store;\n    fields.forEach(function (fieldData) {\n      var name = fieldData.name,\n          errors = fieldData.errors,\n          data = (0, _objectWithoutProperties2.default)(fieldData, [\"name\", \"errors\"]);\n      var namePath = (0, _valueUtil.getNamePath)(name); // Value\n\n      if ('value' in data) {\n        _this.store = (0, _valueUtil.setValue)(_this.store, namePath, data.value);\n      }\n\n      _this.notifyObservers(prevStore, [namePath], {\n        type: 'setField',\n        data: fieldData\n      });\n    });\n  };\n\n  this.getFields = function () {\n    var entities = _this.getFieldEntities(true);\n\n    var fields = entities.map(function (field) {\n      var namePath = field.getNamePath();\n      var meta = field.getMeta();\n      var fieldData = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, meta), {}, {\n        name: namePath,\n        value: _this.getFieldValue(namePath)\n      });\n      Object.defineProperty(fieldData, 'originRCField', {\n        value: true\n      });\n      return fieldData;\n    });\n    return fields;\n  }; // =========================== Observer ===========================\n\n  /**\n   * This only trigger when a field is on constructor to avoid we get initialValue too late\n   */\n\n\n  this.initEntityValue = function (entity) {\n    var initialValue = entity.props.initialValue;\n\n    if (initialValue !== undefined) {\n      var namePath = entity.getNamePath();\n      var prevValue = (0, _valueUtil.getValue)(_this.store, namePath);\n\n      if (prevValue === undefined) {\n        _this.store = (0, _valueUtil.setValue)(_this.store, namePath, initialValue);\n      }\n    }\n  };\n\n  this.registerField = function (entity) {\n    _this.fieldEntities.push(entity); // Set initial values\n\n\n    if (entity.props.initialValue !== undefined) {\n      var prevStore = _this.store;\n\n      _this.resetWithFieldInitialValue({\n        entities: [entity],\n        skipExist: true\n      });\n\n      _this.notifyObservers(prevStore, [entity.getNamePath()], {\n        type: 'valueUpdate',\n        source: 'internal'\n      });\n    } // un-register field callback\n\n\n    return function (isListField, preserve) {\n      var subNamePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      _this.fieldEntities = _this.fieldEntities.filter(function (item) {\n        return item !== entity;\n      }); // Clean up store value if not preserve\n\n      var mergedPreserve = preserve !== undefined ? preserve : _this.preserve;\n\n      if (mergedPreserve === false && (!isListField || subNamePath.length > 1)) {\n        var namePath = entity.getNamePath();\n        var defaultValue = isListField ? undefined : (0, _valueUtil.getValue)(_this.initialValues, namePath);\n\n        if (namePath.length && _this.getFieldValue(namePath) !== defaultValue && _this.fieldEntities.every(function (field) {\n          return (// Only reset when no namePath exist\n            !(0, _valueUtil.matchNamePath)(field.getNamePath(), namePath)\n          );\n        })) {\n          _this.store = (0, _valueUtil.setValue)(_this.store, namePath, defaultValue, true);\n        }\n      }\n    };\n  };\n\n  this.dispatch = function (action) {\n    switch (action.type) {\n      case 'updateValue':\n        {\n          var namePath = action.namePath,\n              value = action.value;\n\n          _this.updateValue(namePath, value);\n\n          break;\n        }\n\n      case 'validateField':\n        {\n          var _namePath = action.namePath,\n              triggerName = action.triggerName;\n\n          _this.validateFields([_namePath], {\n            triggerName: triggerName\n          });\n\n          break;\n        }\n\n      default: // Currently we don't have other action. Do nothing.\n\n    }\n  };\n\n  this.notifyObservers = function (prevStore, namePathList, info) {\n    if (_this.subscribable) {\n      var mergedInfo = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, info), {}, {\n        store: _this.getFieldsValue(true)\n      });\n\n      _this.getFieldEntities().forEach(function (_ref2) {\n        var onStoreChange = _ref2.onStoreChange;\n        onStoreChange(prevStore, namePathList, mergedInfo);\n      });\n    } else {\n      _this.forceRootUpdate();\n    }\n  };\n\n  this.updateValue = function (name, value) {\n    var namePath = (0, _valueUtil.getNamePath)(name);\n    var prevStore = _this.store;\n    _this.store = (0, _valueUtil.setValue)(_this.store, namePath, value);\n\n    _this.notifyObservers(prevStore, [namePath], {\n      type: 'valueUpdate',\n      source: 'internal'\n    }); // Notify dependencies children with parent update\n    // We need delay to trigger validate in case Field is under render props\n\n\n    var childrenFields = _this.getDependencyChildrenFields(namePath);\n\n    if (childrenFields.length) {\n      _this.validateFields(childrenFields);\n    }\n\n    _this.notifyObservers(prevStore, childrenFields, {\n      type: 'dependenciesUpdate',\n      relatedFields: [namePath].concat((0, _toConsumableArray2.default)(childrenFields))\n    }); // trigger callback function\n\n\n    var onValuesChange = _this.callbacks.onValuesChange;\n\n    if (onValuesChange) {\n      var changedValues = (0, _valueUtil.cloneByNamePathList)(_this.store, [namePath]);\n      onValuesChange(changedValues, _this.getFieldsValue());\n    }\n\n    _this.triggerOnFieldsChange([namePath].concat((0, _toConsumableArray2.default)(childrenFields)));\n  }; // Let all child Field get update.\n\n\n  this.setFieldsValue = function (store) {\n    _this.warningUnhooked();\n\n    var prevStore = _this.store;\n\n    if (store) {\n      _this.store = (0, _valueUtil.setValues)(_this.store, store);\n    }\n\n    _this.notifyObservers(prevStore, null, {\n      type: 'valueUpdate',\n      source: 'external'\n    });\n  };\n\n  this.getDependencyChildrenFields = function (rootNamePath) {\n    var children = new Set();\n    var childrenFields = [];\n    var dependencies2fields = new _NameMap.default();\n    /**\n     * Generate maps\n     * Can use cache to save perf if user report performance issue with this\n     */\n\n    _this.getFieldEntities().forEach(function (field) {\n      var dependencies = field.props.dependencies;\n      (dependencies || []).forEach(function (dependency) {\n        var dependencyNamePath = (0, _valueUtil.getNamePath)(dependency);\n        dependencies2fields.update(dependencyNamePath, function () {\n          var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Set();\n          fields.add(field);\n          return fields;\n        });\n      });\n    });\n\n    var fillChildren = function fillChildren(namePath) {\n      var fields = dependencies2fields.get(namePath) || new Set();\n      fields.forEach(function (field) {\n        if (!children.has(field)) {\n          children.add(field);\n          var fieldNamePath = field.getNamePath();\n\n          if (field.isFieldDirty() && fieldNamePath.length) {\n            childrenFields.push(fieldNamePath);\n            fillChildren(fieldNamePath);\n          }\n        }\n      });\n    };\n\n    fillChildren(rootNamePath);\n    return childrenFields;\n  };\n\n  this.triggerOnFieldsChange = function (namePathList, filedErrors) {\n    var onFieldsChange = _this.callbacks.onFieldsChange;\n\n    if (onFieldsChange) {\n      var fields = _this.getFields();\n      /**\n       * Fill errors since `fields` may be replaced by controlled fields\n       */\n\n\n      if (filedErrors) {\n        var cache = new _NameMap.default();\n        filedErrors.forEach(function (_ref3) {\n          var name = _ref3.name,\n              errors = _ref3.errors;\n          cache.set(name, errors);\n        });\n        fields.forEach(function (field) {\n          // eslint-disable-next-line no-param-reassign\n          field.errors = cache.get(field.name) || field.errors;\n        });\n      }\n\n      var changedFields = fields.filter(function (_ref4) {\n        var fieldName = _ref4.name;\n        return (0, _valueUtil.containsNamePath)(namePathList, fieldName);\n      });\n      onFieldsChange(changedFields, fields);\n    }\n  }; // =========================== Validate ===========================\n\n\n  this.validateFields = function (nameList, options) {\n    _this.warningUnhooked();\n\n    var provideNameList = !!nameList;\n    var namePathList = provideNameList ? nameList.map(_valueUtil.getNamePath) : []; // Collect result in promise list\n\n    var promiseList = [];\n\n    _this.getFieldEntities(true).forEach(function (field) {\n      // Add field if not provide `nameList`\n      if (!provideNameList) {\n        namePathList.push(field.getNamePath());\n      }\n      /**\n       * Recursive validate if configured.\n       * TODO: perf improvement @zombieJ\n       */\n\n\n      if ((options === null || options === void 0 ? void 0 : options.recursive) && provideNameList) {\n        var namePath = field.getNamePath();\n\n        if ( // nameList[i] === undefined \u8bf4\u660e\u662f\u4ee5 nameList \u5f00\u5934\u7684\n        // ['name'] -> ['name','list']\n        namePath.every(function (nameUnit, i) {\n          return nameList[i] === nameUnit || nameList[i] === undefined;\n        })) {\n          namePathList.push(namePath);\n        }\n      } // Skip if without rule\n\n\n      if (!field.props.rules || !field.props.rules.length) {\n        return;\n      }\n\n      var fieldNamePath = field.getNamePath(); // Add field validate rule in to promise list\n\n      if (!provideNameList || (0, _valueUtil.containsNamePath)(namePathList, fieldNamePath)) {\n        var promise = field.validateRules((0, _objectSpread2.default)({\n          validateMessages: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, _messages.defaultValidateMessages), _this.validateMessages)\n        }, options)); // Wrap promise with field\n\n        promiseList.push(promise.then(function () {\n          return {\n            name: fieldNamePath,\n            errors: []\n          };\n        }).catch(function (errors) {\n          return Promise.reject({\n            name: fieldNamePath,\n            errors: errors\n          });\n        }));\n      }\n    });\n\n    var summaryPromise = (0, _asyncUtil.allPromiseFinish)(promiseList);\n    _this.lastValidatePromise = summaryPromise; // Notify fields with rule that validate has finished and need update\n\n    summaryPromise.catch(function (results) {\n      return results;\n    }).then(function (results) {\n      var resultNamePathList = results.map(function (_ref5) {\n        var name = _ref5.name;\n        return name;\n      });\n\n      _this.notifyObservers(_this.store, resultNamePathList, {\n        type: 'validateFinish'\n      });\n\n      _this.triggerOnFieldsChange(resultNamePathList, results);\n    });\n    var returnPromise = summaryPromise.then(function () {\n      if (_this.lastValidatePromise === summaryPromise) {\n        return Promise.resolve(_this.getFieldsValue(namePathList));\n      }\n\n      return Promise.reject([]);\n    }).catch(function (results) {\n      var errorList = results.filter(function (result) {\n        return result && result.errors.length;\n      });\n      return Promise.reject({\n        values: _this.getFieldsValue(namePathList),\n        errorFields: errorList,\n        outOfDate: _this.lastValidatePromise !== summaryPromise\n      });\n    }); // Do not throw in console\n\n    returnPromise.catch(function (e) {\n      return e;\n    });\n    return returnPromise;\n  }; // ============================ Submit ============================\n\n\n  this.submit = function () {\n    _this.warningUnhooked();\n\n    _this.validateFields().then(function (values) {\n      var onFinish = _this.callbacks.onFinish;\n\n      if (onFinish) {\n        try {\n          onFinish(values);\n        } catch (err) {\n          // Should print error if user `onFinish` callback failed\n          console.error(err);\n        }\n      }\n    }).catch(function (e) {\n      var onFinishFailed = _this.callbacks.onFinishFailed;\n\n      if (onFinishFailed) {\n        onFinishFailed(e);\n      }\n    });\n  };\n\n  this.forceRootUpdate = forceRootUpdate;\n};\n\nexports.FormStore = FormStore;\n\nfunction useForm(form) {\n  var formRef = React.useRef();\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      forceUpdate = _React$useState2[1];\n\n  if (!formRef.current) {\n    if (form) {\n      formRef.current = form;\n    } else {\n      // Create a new FormStore if not provided\n      var forceReRender = function forceReRender() {\n        forceUpdate({});\n      };\n\n      var formStore = new FormStore(forceReRender);\n      formRef.current = formStore.getForm();\n    }\n  }\n\n  return [formRef.current];\n}\n\nvar _default = useForm;\nexports.default = _default;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","default","FormStore","_slicedToArray2","_objectSpread2","_objectWithoutProperties2","_toConsumableArray2","_classCallCheck2","React","_warning","_FieldContext","_asyncUtil","_NameMap","_messages","_valueUtil","forceRootUpdate","_this","formHooked","subscribable","store","fieldEntities","initialValues","callbacks","lastValidatePromise","preserve","validateMessages","getForm","this.getForm","getFieldValue","getFieldsValue","getFieldError","getFieldsError","isFieldsTouched","isFieldTouched","isFieldValidating","isFieldsValidating","resetFields","setFields","setFieldsValue","validateFields","submit","getInternalHooks","this.getInternalHooks","key","HOOK_MARK","dispatch","initEntityValue","registerField","useSubscribe","setInitialValues","setCallbacks","setValidateMessages","getFields","setPreserve","this.useSubscribe","this.setInitialValues","init","setValues","getInitialValue","this.getInitialValue","namePath","getValue","this.setCallbacks","this.setValidateMessages","this.setPreserve","timeoutId","warningUnhooked","this.warningUnhooked","window","setTimeout","getFieldEntities","this.getFieldEntities","arguments","length","undefined","filter","field","getNamePath","getFieldsMap","this.getFieldsMap","pure","cache","forEach","set","getFieldEntitiesForNamePathList","this.getFieldEntitiesForNamePathList","nameList","map","name","get","INVALIDATE_NAME_PATH","this.getFieldsValue","filterFunc","filteredNameList","Array","isArray","entity","_entity$isListField","isListField","call","meta","getMeta","push","cloneByNamePathList","this.getFieldValue","this.getFieldsError","index","errors","getErrors","this.getFieldError","fieldError","this.isFieldsTouched","_len","args","_key","arg0","arg1","isAllFieldsTouched","namePathList","every","some","shortNamePath","fieldNamePath","nameUnit","i","update","list","concat","isNamePathListTouched","entities","namePathListEntities","_ref","this.isFieldTouched","this.isFieldsValidating","testField","containsNamePath","this.isFieldValidating","resetWithFieldInitialValue","this.resetWithFieldInitialValue","info","initialValue","props","records","Set","add","requiredFieldEntities","_requiredFieldEntitie","apply","r","resetWithFields","formInitialValue","join","size","originValue","skipExist","setValue","this.resetFields","prevStore","notifyObservers","type","this.setFields","fields","fieldData","data","this.getFields","this.initEntityValue","prevValue","this.registerField","source","subNamePath","item","mergedPreserve","defaultValue","matchNamePath","this.dispatch","action","updateValue","triggerName","this.notifyObservers","mergedInfo","_ref2","onStoreChange","this.updateValue","childrenFields","getDependencyChildrenFields","relatedFields","onValuesChange","changedValues","triggerOnFieldsChange","this.setFieldsValue","this.getDependencyChildrenFields","rootNamePath","children","dependencies2fields","dependencies","dependency","dependencyNamePath","fillChildren","has","isFieldDirty","this.triggerOnFieldsChange","filedErrors","onFieldsChange","_ref3","changedFields","_ref4","fieldName","this.validateFields","options","provideNameList","promiseList","recursive","rules","promise","validateRules","defaultValidateMessages","then","catch","Promise","reject","summaryPromise","allPromiseFinish","results","resultNamePathList","_ref5","returnPromise","resolve","errorList","result","values","errorFields","outOfDate","e","this.submit","onFinish","err","console","error","onFinishFailed","useForm","form","formRef","useRef","_React$useState","useState","forceUpdate","_React$useState2","current","formStore","forceReRender"]
}
