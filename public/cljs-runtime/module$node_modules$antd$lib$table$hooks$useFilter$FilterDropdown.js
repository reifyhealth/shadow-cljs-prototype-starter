shadow$provide.module$node_modules$antd$lib$table$hooks$useFilter$FilterDropdown=function(global,require,module,exports){function hasSubMenu(filters){return filters.some(function(_ref){return _ref.children})}function renderFilterItems(_ref2){var filters=_ref2.filters,prefixCls=_ref2.prefixCls,filteredKeys=_ref2.filteredKeys,filterMultiple=_ref2.filterMultiple,locale=_ref2.locale;return 0===filters.length?React.createElement("div",{style:{margin:"16px 0"}},React.createElement(_empty["default"],{image:_empty["default"].PRESENTED_IMAGE_SIMPLE,
description:locale.filterEmptyText,imageStyle:{height:24}})):filters.map(function(filter,index){var key=String(filter.value);return filter.children?React.createElement(SubMenu,{key:key||index,title:filter.text,popupClassName:"".concat(prefixCls,"-dropdown-submenu")},renderFilterItems({filters:filter.children,prefixCls:prefixCls,filteredKeys:filteredKeys,filterMultiple:filterMultiple,locale:locale})):React.createElement(MenuItem,{key:void 0!==filter.value?key:index},React.createElement(filterMultiple?
_checkbox["default"]:_radio["default"],{checked:filteredKeys.includes(key)}),React.createElement("span",null,filter.text))})}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;var _defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),
React=global(require("module$node_modules$react$index")),_classnames=module(require("module$node_modules$classnames$index")),_isEqual=module(require("module$node_modules$lodash$isEqual")),_FilterFilled=module(require("module$node_modules$$ant_design$icons$FilterFilled")),_button=module(require("module$node_modules$antd$lib$button$index")),_menu=module(require("module$node_modules$antd$lib$menu$index")),_checkbox=module(require("module$node_modules$antd$lib$checkbox$index")),_radio=module(require("module$node_modules$antd$lib$radio$index")),
_dropdown=module(require("module$node_modules$antd$lib$dropdown$index")),_empty=module(require("module$node_modules$antd$lib$empty$index")),_FilterWrapper=module(require("module$node_modules$antd$lib$table$hooks$useFilter$FilterWrapper")),_useSyncState3=module(require("module$node_modules$antd$lib$_util$hooks$useSyncState")),_context=require("module$node_modules$antd$lib$config_provider$context"),SubMenu=_menu["default"].SubMenu,MenuItem=_menu["default"].Item;exports["default"]=function(props){var _a,
prefixCls=props.prefixCls,column=props.column,dropdownPrefixCls=props.dropdownPrefixCls,columnKey=props.columnKey,filterMultiple=props.filterMultiple,filterState=props.filterState,triggerFilter=props.triggerFilter,locale=props.locale,children=props.children;props=props.getPopupContainer;var filterDropdownVisible=column.filterDropdownVisible,onFilterDropdownVisibleChange=column.onFilterDropdownVisibleChange,_React$useState=React.useState(!1);_React$useState=(0,_slicedToArray2["default"])(_React$useState,
2);var visible=_React$useState[0],setVisible=_React$useState[1];_React$useState=!(!filterState||!((null===(_a=filterState.filteredKeys)||void 0===_a?0:_a.length)||filterState.forceFiltered));var triggerVisible=function(newVisible){setVisible(newVisible);null===onFilterDropdownVisibleChange||void 0===onFilterDropdownVisibleChange?void 0:onFilterDropdownVisibleChange(newVisible)};_a="boolean"===typeof filterDropdownVisible?filterDropdownVisible:visible;var propFilteredKeys=null===filterState||void 0===
filterState?void 0:filterState.filteredKeys;filterDropdownVisible=(0,_useSyncState3["default"])(propFilteredKeys||[]);filterDropdownVisible=(0,_slicedToArray2["default"])(filterDropdownVisible,2);var getFilteredKeysSync=filterDropdownVisible[0],setFilteredKeysSync=filterDropdownVisible[1],onSelectKeys=function(_ref3){setFilteredKeysSync(_ref3.selectedKeys)};React.useEffect(function(){onSelectKeys({selectedKeys:propFilteredKeys||[]})},[propFilteredKeys]);filterDropdownVisible=React.useState([]);visible=
(0,_slicedToArray2["default"])(filterDropdownVisible,2);filterDropdownVisible=visible[0];var setOpenKeys=visible[1],openRef=React.useRef();visible=function(keys){openRef.current=window.setTimeout(function(){setOpenKeys(keys)})};var onMenuClick=function(){window.clearTimeout(openRef.current)};React.useEffect(function(){return function(){window.clearTimeout(openRef.current)}},[]);var internalTriggerFilter=function(keys){keys=keys&&keys.length?keys:null;if(!(null!==keys||filterState&&filterState.filteredKeys)||
(0,_isEqual["default"])(keys,null===filterState||void 0===filterState?void 0:filterState.filteredKeys))return null;triggerFilter({column:column,key:columnKey,filteredKeys:keys})},onConfirm=function(){triggerVisible(!1);internalTriggerFilter(getFilteredKeysSync())},onReset=function(){setFilteredKeysSync([]);triggerVisible(!1);internalTriggerFilter([])},doFilter=function(){triggerVisible(!(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown);internalTriggerFilter(getFilteredKeysSync())},
dropdownMenuClass=(0,_classnames["default"])((0,_defineProperty2["default"])({},"".concat(dropdownPrefixCls,"-menu-without-submenu"),!hasSubMenu(column.filters||[])));"function"===typeof column.filterDropdown?dropdownPrefixCls=column.filterDropdown({prefixCls:"".concat(dropdownPrefixCls,"-custom"),setSelectedKeys:function(selectedKeys){return onSelectKeys({selectedKeys:selectedKeys})},selectedKeys:getFilteredKeysSync(),confirm:doFilter,clearFilters:onReset,filters:column.filters,visible:_a}):column.filterDropdown?
dropdownPrefixCls=column.filterDropdown:(doFilter=getFilteredKeysSync()||[],dropdownPrefixCls=React.createElement(React.Fragment,null,React.createElement(_menu["default"],{multiple:filterMultiple,prefixCls:"".concat(dropdownPrefixCls,"-menu"),className:dropdownMenuClass,onClick:onMenuClick,onSelect:onSelectKeys,onDeselect:onSelectKeys,selectedKeys:doFilter,getPopupContainer:props,openKeys:filterDropdownVisible,onOpenChange:visible},renderFilterItems({filters:column.filters||[],prefixCls:prefixCls,
filteredKeys:getFilteredKeysSync(),filterMultiple:filterMultiple,locale:locale})),React.createElement("div",{className:"".concat(prefixCls,"-dropdown-btns")},React.createElement(_button["default"],{type:"link",size:"small",disabled:0===doFilter.length,onClick:onReset},locale.filterReset),React.createElement(_button["default"],{type:"primary",size:"small",onClick:onConfirm},locale.filterConfirm))));dropdownPrefixCls=React.createElement(_FilterWrapper["default"],{className:"".concat(prefixCls,"-dropdown")},
dropdownPrefixCls);filterMultiple="function"===typeof column.filterIcon?column.filterIcon(_React$useState):column.filterIcon?column.filterIcon:React.createElement(_FilterFilled["default"],null);locale=React.useContext(_context.ConfigContext).direction;return React.createElement("div",{className:(0,_classnames["default"])("".concat(prefixCls,"-column"))},React.createElement("span",{className:"".concat(prefixCls,"-column-title")},children),React.createElement("span",{className:(0,_classnames["default"])("".concat(prefixCls,
"-trigger-container"),(0,_defineProperty2["default"])({},"".concat(prefixCls,"-trigger-container-open"),_a)),onClick:function(e){e.stopPropagation()}},React.createElement(_dropdown["default"],{overlay:dropdownPrefixCls,trigger:["click"],visible:_a,onVisibleChange:function(newVisible){newVisible&&void 0!==propFilteredKeys&&setFilteredKeysSync(propFilteredKeys||[]);triggerVisible(newVisible);newVisible||column.filterDropdown||onConfirm()},getPopupContainer:props,placement:"rtl"===locale?"bottomLeft":
"bottomRight"},React.createElement("span",{role:"button",tabIndex:-1,className:(0,_classnames["default"])("".concat(prefixCls,"-trigger"),{active:_React$useState})},filterMultiple))))}}
//# sourceMappingURL=module$node_modules$antd$lib$table$hooks$useFilter$FilterDropdown.js.map
