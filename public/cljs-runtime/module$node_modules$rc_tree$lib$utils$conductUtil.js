shadow$provide.module$node_modules$rc_tree$lib$utils$conductUtil=function(global,require,module,exports){function removeFromCheckedKeys(halfCheckedKeys,checkedKeys){var filteredKeys=new Set;halfCheckedKeys.forEach(function(key){checkedKeys.has(key)||filteredKeys.add(key)});return filteredKeys}function isCheckDisabled(node){node=node||{};var disableCheckbox=node.disableCheckbox,checkable=node.checkable;return!(!node.disabled&&!disableCheckbox)||!1===checkable}function fillConductCheck(keys,levelEntities,
maxLevel,syntheticGetCheckDisabled){var checkedKeys=new Set(keys),halfCheckedKeys=new Set;for(keys=0;keys<=maxLevel;keys+=1)(levelEntities.get(keys)||new Set).forEach(function(entity){var node=entity.node,_entity$children=entity.children;_entity$children=void 0===_entity$children?[]:_entity$children;checkedKeys.has(entity.key)&&!syntheticGetCheckDisabled(node)&&_entity$children.filter(function(childEntity){return!syntheticGetCheckDisabled(childEntity.node)}).forEach(function(childEntity){checkedKeys.add(childEntity.key)})});
for(var visitedKeys=new Set;0<=maxLevel;--maxLevel)(levelEntities.get(maxLevel)||new Set).forEach(function(entity){var parent=entity.parent;if(!syntheticGetCheckDisabled(entity.node)&&entity.parent&&!visitedKeys.has(entity.parent.key)){if(!syntheticGetCheckDisabled(entity.parent.node)){var allChecked=!0,partialChecked=!1;(parent.children||[]).filter(function(childEntity){return!syntheticGetCheckDisabled(childEntity.node)}).forEach(function(_ref2){_ref2=_ref2.key;var checked=checkedKeys.has(_ref2);
allChecked&&!checked&&(allChecked=!1);partialChecked||!checked&&!halfCheckedKeys.has(_ref2)||(partialChecked=!0)});allChecked&&checkedKeys.add(parent.key);partialChecked&&halfCheckedKeys.add(parent.key)}visitedKeys.add(parent.key)}});return{checkedKeys:Array.from(checkedKeys),halfCheckedKeys:Array.from(removeFromCheckedKeys(halfCheckedKeys,checkedKeys))}}function cleanConductCheck(keys,halfKeys,levelEntities,maxLevel,syntheticGetCheckDisabled){var checkedKeys=new Set(keys),halfCheckedKeys=new Set(halfKeys);
for(keys=0;keys<=maxLevel;keys+=1)(levelEntities.get(keys)||new Set).forEach(function(entity){var key=entity.key,node=entity.node;entity=entity.children;entity=void 0===entity?[]:entity;checkedKeys.has(key)||halfCheckedKeys.has(key)||syntheticGetCheckDisabled(node)||entity.filter(function(childEntity){return!syntheticGetCheckDisabled(childEntity.node)}).forEach(function(childEntity){checkedKeys.delete(childEntity.key)})});halfCheckedKeys=new Set;for(var visitedKeys=new Set;0<=maxLevel;--maxLevel)(levelEntities.get(maxLevel)||
new Set).forEach(function(entity){var parent=entity.parent;if(!syntheticGetCheckDisabled(entity.node)&&entity.parent&&!visitedKeys.has(entity.parent.key)){if(!syntheticGetCheckDisabled(entity.parent.node)){var allChecked=!0,partialChecked=!1;(parent.children||[]).filter(function(childEntity){return!syntheticGetCheckDisabled(childEntity.node)}).forEach(function(_ref3){_ref3=_ref3.key;var checked=checkedKeys.has(_ref3);allChecked&&!checked&&(allChecked=!1);partialChecked||!checked&&!halfCheckedKeys.has(_ref3)||
(partialChecked=!0)});allChecked||checkedKeys.delete(parent.key);partialChecked&&halfCheckedKeys.add(parent.key)}visitedKeys.add(parent.key)}});return{checkedKeys:Array.from(checkedKeys),halfCheckedKeys:Array.from(removeFromCheckedKeys(halfCheckedKeys,checkedKeys))}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.isCheckDisabled=isCheckDisabled;exports.conductCheck=function(keyList,checked,keyEntities,
getCheckDisabled){var warningMissKeys=[];getCheckDisabled=getCheckDisabled?getCheckDisabled:isCheckDisabled;keyList=new Set(keyList.filter(function(key){var hasEntity=!!keyEntities[key];hasEntity||warningMissKeys.push(key);return hasEntity}));var levelEntities=new Map,maxLevel=0;Object.keys(keyEntities).forEach(function(key){key=keyEntities[key];var level=key.level,levelSet=levelEntities.get(level);levelSet||(levelSet=new Set,levelEntities.set(level,levelSet));levelSet.add(key);maxLevel=Math.max(maxLevel,
level)});(0,_warning.default)(!warningMissKeys.length,"Tree missing follow keys: ".concat(warningMissKeys.slice(0,100).map(function(key){return"'".concat(key,"'")}).join(", ")));return!0===checked?fillConductCheck(keyList,levelEntities,maxLevel,getCheckDisabled):cleanConductCheck(keyList,checked.halfCheckedKeys,levelEntities,maxLevel,getCheckDisabled)};var _warning=global(require("module$node_modules$rc_util$lib$warning"))}
//# sourceMappingURL=module$node_modules$rc_tree$lib$utils$conductUtil.js.map
