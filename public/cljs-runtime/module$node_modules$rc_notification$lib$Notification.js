shadow$provide.module$node_modules$rc_notification$lib$Notification=function(global,require,module,exports){function getUuid(){var id=seed;seed+=1;return"rcNotification_".concat(now,"_").concat(id)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _objectWithoutProperties2=module(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),
_extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_classCallCheck2=module(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=module(require("module$node_modules$$babel$runtime$helpers$createClass")),_inherits2=module(require("module$node_modules$$babel$runtime$helpers$inherits")),_createSuper2=module(require("module$node_modules$$babel$runtime$helpers$createSuper")),
React=global(require("module$node_modules$react$index")),_reactDom=module(require("module$node_modules$react_dom$index")),_classnames=module(require("module$node_modules$classnames$index")),_rcMotion=require("module$node_modules$rc_motion$lib$index"),_Notice=module(require("module$node_modules$rc_notification$lib$Notice")),_useNotification2=module(require("module$node_modules$rc_notification$lib$useNotification")),seed=0,now=Date.now(),Notification$jscomp$0=function(_Component){function Notification(){(0,
_classCallCheck2.default)(this,Notification);var _this=_super.apply(this,arguments);_this.state={notices:[]};_this.hookRefs=new Map;_this.add=function(originNotice,holderCallback){var key=originNotice.key||getUuid(),notice=(0,_objectSpread2.default)((0,_objectSpread2.default)({},originNotice),{},{key:key}),maxCount=_this.props.maxCount;_this.setState(function(previousState){previousState=previousState.notices;var noticeIndex=previousState.map(function(v){return v.notice.key}).indexOf(key),updatedNotices=
previousState.concat();-1!==noticeIndex?updatedNotices.splice(noticeIndex,1,{notice:notice,holderCallback:holderCallback}):(maxCount&&previousState.length>=maxCount&&(notice.key=updatedNotices[0].notice.key,notice.updateMark=getUuid(),notice.userPassKey=key,updatedNotices.shift()),updatedNotices.push({notice:notice,holderCallback:holderCallback}));return{notices:updatedNotices}})};_this.remove=function(removeKey){_this.setState(function(_ref){return{notices:_ref.notices.filter(function(_ref2){_ref2=
_ref2.notice;var key=_ref2.key;return(_ref2.userPassKey||key)!==removeKey})}})};_this.noticePropsMap={};return _this}(0,_inherits2.default)(Notification,_Component);var _super=(0,_createSuper2.default)(Notification);(0,_createClass2.default)(Notification,[{key:"getTransitionName",value:function(){var _this$props=this.props,prefixCls=_this$props.prefixCls;_this$props=_this$props.animation;var transitionName=this.props.transitionName;!transitionName&&_this$props&&(transitionName="".concat(prefixCls,
"-").concat(_this$props));return transitionName}},{key:"render",value:function(){var _this2=this,notices=this.state.notices,_this$props2=this.props,prefixCls=_this$props2.prefixCls,className=_this$props2.className,closeIcon=_this$props2.closeIcon;_this$props2=_this$props2.style;var noticeKeys=[];notices.forEach(function(_ref3,index){var notice=_ref3.notice;_ref3=_ref3.holderCallback;var updateMark=index===notices.length-1?notice.updateMark:void 0;index=notice.key;var userPassKey=notice.userPassKey;
updateMark=(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({prefixCls:prefixCls,closeIcon:closeIcon},notice),notice.props),{},{key:index,noticeKey:userPassKey||index,updateMark:updateMark,onClose:function(noticeKey){var _notice$onClose;_this2.remove(noticeKey);null===(_notice$onClose=notice.onClose)||void 0===_notice$onClose?void 0:_notice$onClose.call(notice)},onClick:notice.onClick,children:notice.content});noticeKeys.push(index);_this2.noticePropsMap[index]={props:updateMark,
holderCallback:_ref3}});return React.createElement("div",{className:(0,_classnames.default)(prefixCls,className),style:_this$props2},React.createElement(_rcMotion.CSSMotionList,{keys:noticeKeys,motionName:this.getTransitionName(),onVisibleChanged:function(changedVisible,_ref4){_ref4=_ref4.key;changedVisible||delete _this2.noticePropsMap[_ref4]}},function(_ref5){var key=_ref5.key,motionClassName=_ref5.className;_ref5=_ref5.style;var _this2$noticePropsMap=_this2.noticePropsMap[key],noticeProps=_this2$noticePropsMap.props,
holderCallback=_this2$noticePropsMap.holderCallback;return holderCallback?React.createElement("div",{key:key,className:(0,_classnames.default)(motionClassName,"".concat(prefixCls,"-hook-holder")),style:(0,_objectSpread2.default)({},_ref5),ref:function(div){"undefined"!==typeof key&&(div?(_this2.hookRefs.set(key,div),holderCallback(div,noticeProps)):_this2.hookRefs.delete(key))}}):React.createElement(_Notice.default,(0,_extends2.default)({},noticeProps,{className:(0,_classnames.default)(motionClassName,
null===noticeProps||void 0===noticeProps?void 0:noticeProps.className),style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},_ref5),null===noticeProps||void 0===noticeProps?void 0:noticeProps.style)}))}))}}]);return Notification}(React.Component);Notification$jscomp$0.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}};Notification$jscomp$0.newInstance=function(properties,callback){var _ref6=properties||{};properties=_ref6.getContainer;_ref6=(0,_objectWithoutProperties2.default)(_ref6,
["getContainer"]);var div=document.createElement("div");properties?properties().appendChild(div):document.body.appendChild(div);var called=!1;_reactDom.default.render(React.createElement(Notification$jscomp$0,(0,_extends2.default)({},_ref6,{ref:function(notification){called||(called=!0,callback({notice:function(noticeProps){notification.add(noticeProps)},removeNotice:function(key){notification.remove(key)},component:notification,destroy:function(){_reactDom.default.unmountComponentAtNode(div);div.parentNode&&
div.parentNode.removeChild(div)},useNotification:function(){return(0,_useNotification2.default)(notification)}}))}})),div)};exports.default=Notification$jscomp$0}
//# sourceMappingURL=module$node_modules$rc_notification$lib$Notification.js.map
