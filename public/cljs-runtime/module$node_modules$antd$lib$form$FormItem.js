shadow$provide.module$node_modules$antd$lib$form$FormItem=function(global,require,module,exports){function hasValidName(name){null===name&&(0,_devWarning["default"])(!1,"Form.Item","`null` is passed as `name` property");return!(void 0===name||null===name)}module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard");global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;
var _typeof2=global(require("module$node_modules$$babel$runtime$helpers$typeof")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_extends3=global(require("module$node_modules$$babel$runtime$helpers$extends")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=module(require("module$node_modules$react$index")),
_isEqual=global(require("module$node_modules$lodash$isEqual")),_classnames=global(require("module$node_modules$classnames$index")),_rcFieldForm=require("module$node_modules$rc_field_form$lib$index"),_FieldContext=global(require("module$node_modules$rc_field_form$lib$FieldContext")),_ref2=require("module$node_modules$rc_util$lib$ref"),_omit=global(require("module$node_modules$rc_util$lib$omit")),_row=global(require("module$node_modules$antd$lib$grid$row")),_configProvider=require("module$node_modules$antd$lib$config_provider$index");
module=require("module$node_modules$antd$lib$_util$type");var _devWarning=global(require("module$node_modules$antd$lib$_util$devWarning")),_FormItemLabel=global(require("module$node_modules$antd$lib$form$FormItemLabel")),_FormItemInput=global(require("module$node_modules$antd$lib$form$FormItemInput")),_context=require("module$node_modules$antd$lib$form$context"),_util=require("module$node_modules$antd$lib$form$util"),_reactNode=require("module$node_modules$antd$lib$_util$reactNode"),_useFrameState3=
global(require("module$node_modules$antd$lib$form$hooks$useFrameState")),_useItemRef=global(require("module$node_modules$antd$lib$form$hooks$useItemRef")),__rest=function(s,e){var t={},p;for(p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};(0,module.tuple)("success",
"warning","error","validating","");var MemoInput=React.memo(function(_ref){return _ref.children},function(prev,next){return prev.value===next.value&&prev.update===next.update});exports["default"]=function(props){function setDomErrorVisible(visible){destroyRef.current||innerSetDomErrorVisible(visible)}function renderLayout(baseChildren,fieldId,meta,isRequired){var _itemClassName,_a;if(noStyle&&!hidden)return baseChildren;var subErrorList=[];Object.keys(inlineErrors).forEach(function(subName){subErrorList=
[].concat((0,_toConsumableArray2["default"])(subErrorList),(0,_toConsumableArray2["default"])(inlineErrors[subName]||[]))});if(void 0!==help&&null!==help)var mergedErrors=(0,_util.toArray)(help);else mergedErrors=meta?meta.errors:[],mergedErrors=[].concat((0,_toConsumableArray2["default"])(mergedErrors),(0,_toConsumableArray2["default"])(subErrorList));var mergedValidateStatus="";if(void 0!==validateStatus)mergedValidateStatus=validateStatus;else if(null===meta||void 0===meta?0:meta.validating)mergedValidateStatus=
"validating";else if((null===(_a=null===meta||void 0===meta?void 0:meta.errors)||void 0===_a?0:_a.length)||subErrorList.length)mergedValidateStatus="error";else if(null===meta||void 0===meta?0:meta.touched)mergedValidateStatus="success";_a=(_itemClassName={},(0,_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item"),!0),(0,_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item-with-help"),domErrorVisible||help),(0,_defineProperty2["default"])(_itemClassName,"".concat(className),
!!className),(0,_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item-has-feedback"),mergedValidateStatus&&hasFeedback),(0,_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item-has-success"),"success"===mergedValidateStatus),(0,_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item-has-warning"),"warning"===mergedValidateStatus),(0,_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item-has-error"),"error"===mergedValidateStatus),(0,
_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item-is-validating"),"validating"===mergedValidateStatus),(0,_defineProperty2["default"])(_itemClassName,"".concat(prefixCls,"-item-hidden"),hidden),_itemClassName);return React.createElement(_row["default"],(0,_extends3["default"])({className:(0,_classnames["default"])(_a),style:style,key:"row"},(0,_omit["default"])(restProps,"colon extra getValueFromEvent getValueProps htmlFor id initialValue isListField labelAlign labelCol normalize preserve tooltip validateFirst valuePropName wrapperCol _internalItemRender".split(" "))),
React.createElement(_FormItemLabel["default"],(0,_extends3["default"])({htmlFor:fieldId,required:isRequired,requiredMark:requiredMark},props,{prefixCls:prefixCls})),React.createElement(_FormItemInput["default"],(0,_extends3["default"])({},props,meta,{errors:mergedErrors,prefixCls:prefixCls,status:mergedValidateStatus,onDomErrorVisibleChange:setDomErrorVisible,validateStatus:mergedValidateStatus}),React.createElement(_context.FormItemContext.Provider,{value:{updateItemErrors:updateChildItemErrors}},
baseChildren)))}var name=props.name,fieldKey=props.fieldKey,noStyle=props.noStyle,dependencies=props.dependencies,customizePrefixCls=props.prefixCls,style=props.style,className=props.className,shouldUpdate=props.shouldUpdate,hasFeedback=props.hasFeedback,help=props.help,rules=props.rules,validateStatus=props.validateStatus,children=props.children,required=props.required,label=props.label,messageVariables=props.messageVariables,_props$trigger=props.trigger,trigger=void 0===_props$trigger?"onChange":
_props$trigger;_props$trigger=props.validateTrigger;var hidden=props.hidden,restProps=__rest(props,"name fieldKey noStyle dependencies prefixCls style className shouldUpdate hasFeedback help rules validateStatus children required label messageVariables trigger validateTrigger hidden".split(" ")),destroyRef=(0,React.useRef)(!1),getPrefixCls=(0,React.useContext)(_configProvider.ConfigContext).getPrefixCls,_useContext2=(0,React.useContext)(_context.FormContext),formName=_useContext2.name,requiredMark=
_useContext2.requiredMark,updateItemErrors=(0,React.useContext)(_context.FormItemContext).updateItemErrors;_useContext2=React.useState(!!help);_useContext2=(0,_slicedToArray2["default"])(_useContext2,2);var domErrorVisible=_useContext2[0],innerSetDomErrorVisible=_useContext2[1];_useContext2=(0,_useFrameState3["default"])({});_useContext2=(0,_slicedToArray2["default"])(_useContext2,2);var inlineErrors=_useContext2[0],setInlineErrors=_useContext2[1];_useContext2=(0,React.useContext)(_FieldContext["default"]).validateTrigger;
var mergedValidateTrigger=void 0!==_props$trigger?_props$trigger:_useContext2,hasName=hasValidName(name),nameRef=(0,React.useRef)([]);React.useEffect(function(){return function(){destroyRef.current=!0;updateItemErrors(nameRef.current.join("__SPLIT__"),[])}},[]);var prefixCls=getPrefixCls("form",customizePrefixCls),updateChildItemErrors=noStyle?updateItemErrors:function(subName,subErrors,originSubName){setInlineErrors(function(){var prevInlineErrors=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{};originSubName!==subName&&delete prevInlineErrors[originSubName];return(0,_isEqual["default"])(prevInlineErrors[subName],subErrors)?prevInlineErrors:(0,_extends3["default"])((0,_extends3["default"])({},prevInlineErrors),(0,_defineProperty2["default"])({},subName,subErrors))})},getItemRef=(0,_useItemRef["default"])(),isRenderProps="function"===typeof children,updateRef=(0,React.useRef)(0);updateRef.current+=1;if(!hasName&&!isRenderProps&&!dependencies)return renderLayout(children);customizePrefixCls=
{};"string"===typeof label&&(customizePrefixCls.label=label);messageVariables&&(customizePrefixCls=(0,_extends3["default"])((0,_extends3["default"])({},customizePrefixCls),messageVariables));return React.createElement(_rcFieldForm.Field,(0,_extends3["default"])({},props,{messageVariables:customizePrefixCls,trigger:trigger,validateTrigger:mergedValidateTrigger,onReset:function(){setDomErrorVisible(!1)}}),function(control,meta,context){var errors=meta.errors,mergedName=(0,_util.toArray)(name).length&&
meta?meta.name:[],fieldId=(0,_util.getFieldId)(mergedName,formName);if(noStyle){var originErrorName=nameRef.current.join("__SPLIT__");nameRef.current=(0,_toConsumableArray2["default"])(mergedName);if(fieldKey){var fieldKeys=Array.isArray(fieldKey)?fieldKey:[fieldKey];nameRef.current=[].concat((0,_toConsumableArray2["default"])(mergedName.slice(0,-1)),(0,_toConsumableArray2["default"])(fieldKeys))}updateItemErrors(nameRef.current.join("__SPLIT__"),errors,originErrorName)}errors=void 0!==required?required:
!(!rules||!rules.some(function(rule){return rule&&"object"===(0,_typeof2["default"])(rule)&&rule.required?!0:"function"===typeof rule?(rule=rule(context))&&rule.required:!1}));var mergedControl=(0,_extends3["default"])({},control);control=null;(0,_devWarning["default"])(!(shouldUpdate&&dependencies),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies.");if(Array.isArray(children)&&hasName)(0,_devWarning["default"])(!1,"Form.Item",
"`children` is array of render props cannot have `name`."),control=children;else if(isRenderProps&&(!shouldUpdate&&!dependencies||hasName))(0,_devWarning["default"])(!(!shouldUpdate&&!dependencies),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),(0,_devWarning["default"])(!hasName,"Form.Item","Do not use `name` with `children` of render props since it's not a field.");else if(!dependencies||isRenderProps||hasName)if((0,_reactNode.isValidElement)(children)){(0,
_devWarning["default"])(void 0===children.props.defaultValue,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.");var childProps=(0,_extends3["default"])((0,_extends3["default"])({},children.props),mergedControl);childProps.id||(childProps.id=fieldId);(0,_ref2.supportRef)(children)&&(childProps.ref=getItemRef(mergedName,children));(new Set([].concat((0,_toConsumableArray2["default"])((0,_util.toArray)(trigger)),(0,_toConsumableArray2["default"])((0,
_util.toArray)(mergedValidateTrigger))))).forEach(function(eventName){childProps[eventName]=function(){for(var _a,_b,_c,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];null===(_a=mergedControl[eventName])||void 0===_a?void 0:_a.call.apply(_a,[mergedControl].concat(args));null===(_c=(_b=children.props)[eventName])||void 0===_c?void 0:_c.call.apply(_c,[_b].concat(args))}});control=React.createElement(MemoInput,{value:mergedControl[props.valuePropName||"value"],
update:updateRef.current},(0,_reactNode.cloneElement)(children,childProps))}else isRenderProps&&(shouldUpdate||dependencies)&&!hasName?control=children(context):((0,_devWarning["default"])(!mergedName.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),control=children);else(0,_devWarning["default"])(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set.");return renderLayout(control,
fieldId,meta,errors)})}}
//# sourceMappingURL=module$node_modules$antd$lib$form$FormItem.js.map
